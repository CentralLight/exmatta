(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function Gg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ih={exports:{}},oa={},Lh={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zi=Symbol.for("react.element"),Kg=Symbol.for("react.portal"),qg=Symbol.for("react.fragment"),Yg=Symbol.for("react.strict_mode"),Qg=Symbol.for("react.profiler"),Xg=Symbol.for("react.provider"),Zg=Symbol.for("react.context"),Jg=Symbol.for("react.forward_ref"),ev=Symbol.for("react.suspense"),tv=Symbol.for("react.memo"),nv=Symbol.for("react.lazy"),ou=Symbol.iterator;function sv(e){return e===null||typeof e!="object"?null:(e=ou&&e[ou]||e["@@iterator"],typeof e=="function"?e:null)}var _h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Oh=Object.assign,Fh={};function Es(e,t,n){this.props=e,this.context=t,this.refs=Fh,this.updater=n||_h}Es.prototype.isReactComponent={};Es.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Es.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Vh(){}Vh.prototype=Es.prototype;function El(e,t,n){this.props=e,this.context=t,this.refs=Fh,this.updater=n||_h}var Pl=El.prototype=new Vh;Pl.constructor=El;Oh(Pl,Es.prototype);Pl.isPureReactComponent=!0;var lu=Array.isArray,Bh=Object.prototype.hasOwnProperty,Al={current:null},$h={key:!0,ref:!0,__self:!0,__source:!0};function Uh(e,t,n){var s,r={},a=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)Bh.call(t,s)&&!$h.hasOwnProperty(s)&&(r[s]=t[s]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)r[s]===void 0&&(r[s]=l[s]);return{$$typeof:zi,type:e,key:a,ref:o,props:r,_owner:Al.current}}function iv(e,t){return{$$typeof:zi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Dl(e){return typeof e=="object"&&e!==null&&e.$$typeof===zi}function rv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var cu=/\/+/g;function Ma(e,t){return typeof e=="object"&&e!==null&&e.key!=null?rv(""+e.key):t.toString(36)}function mr(e,t,n,s,r){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case zi:case Kg:o=!0}}if(o)return o=e,r=r(o),e=s===""?"."+Ma(o,0):s,lu(r)?(n="",e!=null&&(n=e.replace(cu,"$&/")+"/"),mr(r,t,n,"",function(u){return u})):r!=null&&(Dl(r)&&(r=iv(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(cu,"$&/")+"/")+e)),t.push(r)),1;if(o=0,s=s===""?".":s+":",lu(e))for(var l=0;l<e.length;l++){a=e[l];var c=s+Ma(a,l);o+=mr(a,t,n,c,r)}else if(c=sv(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=s+Ma(a,l++),o+=mr(a,t,n,c,r);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Hi(e,t,n){if(e==null)return e;var s=[],r=0;return mr(e,s,"","",function(a){return t.call(n,a,r++)}),s}function av(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ge={current:null},fr={transition:null},ov={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:fr,ReactCurrentOwner:Al};function Hh(){throw Error("act(...) is not supported in production builds of React.")}q.Children={map:Hi,forEach:function(e,t,n){Hi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Hi(e,function(){t++}),t},toArray:function(e){return Hi(e,function(t){return t})||[]},only:function(e){if(!Dl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};q.Component=Es;q.Fragment=qg;q.Profiler=Qg;q.PureComponent=El;q.StrictMode=Yg;q.Suspense=ev;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ov;q.act=Hh;q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Oh({},e.props),r=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Al.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Bh.call(t,c)&&!$h.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:zi,type:e.type,key:r,ref:a,props:s,_owner:o}};q.createContext=function(e){return e={$$typeof:Zg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Xg,_context:e},e.Consumer=e};q.createElement=Uh;q.createFactory=function(e){var t=Uh.bind(null,e);return t.type=e,t};q.createRef=function(){return{current:null}};q.forwardRef=function(e){return{$$typeof:Jg,render:e}};q.isValidElement=Dl;q.lazy=function(e){return{$$typeof:nv,_payload:{_status:-1,_result:e},_init:av}};q.memo=function(e,t){return{$$typeof:tv,type:e,compare:t===void 0?null:t}};q.startTransition=function(e){var t=fr.transition;fr.transition={};try{e()}finally{fr.transition=t}};q.unstable_act=Hh;q.useCallback=function(e,t){return Ge.current.useCallback(e,t)};q.useContext=function(e){return Ge.current.useContext(e)};q.useDebugValue=function(){};q.useDeferredValue=function(e){return Ge.current.useDeferredValue(e)};q.useEffect=function(e,t){return Ge.current.useEffect(e,t)};q.useId=function(){return Ge.current.useId()};q.useImperativeHandle=function(e,t,n){return Ge.current.useImperativeHandle(e,t,n)};q.useInsertionEffect=function(e,t){return Ge.current.useInsertionEffect(e,t)};q.useLayoutEffect=function(e,t){return Ge.current.useLayoutEffect(e,t)};q.useMemo=function(e,t){return Ge.current.useMemo(e,t)};q.useReducer=function(e,t,n){return Ge.current.useReducer(e,t,n)};q.useRef=function(e){return Ge.current.useRef(e)};q.useState=function(e){return Ge.current.useState(e)};q.useSyncExternalStore=function(e,t,n){return Ge.current.useSyncExternalStore(e,t,n)};q.useTransition=function(){return Ge.current.useTransition()};q.version="18.3.1";Lh.exports=q;var y=Lh.exports;const an=Gg(y);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv=y,cv=Symbol.for("react.element"),uv=Symbol.for("react.fragment"),dv=Object.prototype.hasOwnProperty,hv=lv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mv={key:!0,ref:!0,__self:!0,__source:!0};function Wh(e,t,n){var s,r={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)dv.call(t,s)&&!mv.hasOwnProperty(s)&&(r[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)r[s]===void 0&&(r[s]=t[s]);return{$$typeof:cv,type:e,key:a,ref:o,props:r,_owner:hv.current}}oa.Fragment=uv;oa.jsx=Wh;oa.jsxs=Wh;Ih.exports=oa;var i=Ih.exports,yo={},Gh={exports:{}},rt={},Kh={exports:{}},qh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,L){var I=R.length;R.push(L);e:for(;0<I;){var Z=I-1>>>1,ee=R[Z];if(0<r(ee,L))R[Z]=L,R[I]=ee,I=Z;else break e}}function n(R){return R.length===0?null:R[0]}function s(R){if(R.length===0)return null;var L=R[0],I=R.pop();if(I!==L){R[0]=I;e:for(var Z=0,ee=R.length,se=ee>>>1;Z<se;){var Ce=2*(Z+1)-1,kt=R[Ce],be=Ce+1,Ue=R[be];if(0>r(kt,I))be<ee&&0>r(Ue,kt)?(R[Z]=Ue,R[be]=I,Z=be):(R[Z]=kt,R[Ce]=I,Z=Ce);else if(be<ee&&0>r(Ue,I))R[Z]=Ue,R[be]=I,Z=be;else break e}}return L}function r(R,L){var I=R.sortIndex-L.sortIndex;return I!==0?I:R.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,m=null,h=3,v=!1,w=!1,S=!1,N=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(R){for(var L=n(u);L!==null;){if(L.callback===null)s(u);else if(L.startTime<=R)s(u),L.sortIndex=L.expirationTime,t(c,L);else break;L=n(u)}}function x(R){if(S=!1,g(R),!w)if(n(c)!==null)w=!0,Le(b);else{var L=n(u);L!==null&&G(x,L.startTime-R)}}function b(R,L){w=!1,S&&(S=!1,f(T),T=-1),v=!0;var I=h;try{for(g(L),m=n(c);m!==null&&(!(m.expirationTime>L)||R&&!z());){var Z=m.callback;if(typeof Z=="function"){m.callback=null,h=m.priorityLevel;var ee=Z(m.expirationTime<=L);L=e.unstable_now(),typeof ee=="function"?m.callback=ee:m===n(c)&&s(c),g(L)}else s(c);m=n(c)}if(m!==null)var se=!0;else{var Ce=n(u);Ce!==null&&G(x,Ce.startTime-L),se=!1}return se}finally{m=null,h=I,v=!1}}var j=!1,C=null,T=-1,k=5,P=-1;function z(){return!(e.unstable_now()-P<k)}function B(){if(C!==null){var R=e.unstable_now();P=R;var L=!0;try{L=C(!0,R)}finally{L?ie():(j=!1,C=null)}}else j=!1}var ie;if(typeof p=="function")ie=function(){p(B)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,ot=me.port2;me.port1.onmessage=B,ie=function(){ot.postMessage(null)}}else ie=function(){N(B,0)};function Le(R){C=R,j||(j=!0,ie())}function G(R,L){T=N(function(){R(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){w||v||(w=!0,Le(b))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var I=h;h=L;try{return R()}finally{h=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,L){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var I=h;h=R;try{return L()}finally{h=I}},e.unstable_scheduleCallback=function(R,L,I){var Z=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?Z+I:Z):I=Z,R){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=I+ee,R={id:d++,callback:L,priorityLevel:R,startTime:I,expirationTime:ee,sortIndex:-1},I>Z?(R.sortIndex=I,t(u,R),n(c)===null&&R===n(u)&&(S?(f(T),T=-1):S=!0,G(x,I-Z))):(R.sortIndex=ee,t(c,R),w||v||(w=!0,Le(b))),R},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(R){var L=h;return function(){var I=h;h=L;try{return R.apply(this,arguments)}finally{h=I}}}})(qh);Kh.exports=qh;var fv=Kh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv=y,st=fv;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Yh=new Set,ui={};function Vn(e,t){xs(e,t),xs(e+"Capture",t)}function xs(e,t){for(ui[e]=t,e=0;e<t.length;e++)Yh.add(t[e])}var Ut=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jo=Object.prototype.hasOwnProperty,gv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uu={},du={};function vv(e){return jo.call(du,e)?!0:jo.call(uu,e)?!1:gv.test(e)?du[e]=!0:(uu[e]=!0,!1)}function xv(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function yv(e,t,n,s){if(t===null||typeof t>"u"||xv(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ke(e,t,n,s,r,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Ie={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ie[e]=new Ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ie[t]=new Ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ie[e]=new Ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ie[e]=new Ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ie[e]=new Ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ie[e]=new Ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ie[e]=new Ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ie[e]=new Ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ie[e]=new Ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var zl=/[\-:]([a-z])/g;function Ml(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(zl,Ml);Ie[t]=new Ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(zl,Ml);Ie[t]=new Ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(zl,Ml);Ie[t]=new Ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ie[e]=new Ke(e,1,!1,e.toLowerCase(),null,!1,!1)});Ie.xlinkHref=new Ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ie[e]=new Ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function Rl(e,t,n,s){var r=Ie.hasOwnProperty(t)?Ie[t]:null;(r!==null?r.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(yv(t,n,r,s)&&(n=null),s||r===null?vv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,s=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var qt=pv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wi=Symbol.for("react.element"),Kn=Symbol.for("react.portal"),qn=Symbol.for("react.fragment"),Il=Symbol.for("react.strict_mode"),wo=Symbol.for("react.profiler"),Qh=Symbol.for("react.provider"),Xh=Symbol.for("react.context"),Ll=Symbol.for("react.forward_ref"),No=Symbol.for("react.suspense"),So=Symbol.for("react.suspense_list"),_l=Symbol.for("react.memo"),Zt=Symbol.for("react.lazy"),Zh=Symbol.for("react.offscreen"),hu=Symbol.iterator;function Is(e){return e===null||typeof e!="object"?null:(e=hu&&e[hu]||e["@@iterator"],typeof e=="function"?e:null)}var xe=Object.assign,Ra;function Hs(e){if(Ra===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ra=t&&t[1]||""}return`
`+Ra+e}var Ia=!1;function La(e,t){if(!e||Ia)return"";Ia=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),a=s.stack.split(`
`),o=r.length-1,l=a.length-1;1<=o&&0<=l&&r[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(r[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||r[o]!==a[l]){var c=`
`+r[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Ia=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Hs(e):""}function jv(e){switch(e.tag){case 5:return Hs(e.type);case 16:return Hs("Lazy");case 13:return Hs("Suspense");case 19:return Hs("SuspenseList");case 0:case 2:case 15:return e=La(e.type,!1),e;case 11:return e=La(e.type.render,!1),e;case 1:return e=La(e.type,!0),e;default:return""}}function Co(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qn:return"Fragment";case Kn:return"Portal";case wo:return"Profiler";case Il:return"StrictMode";case No:return"Suspense";case So:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Xh:return(e.displayName||"Context")+".Consumer";case Qh:return(e._context.displayName||"Context")+".Provider";case Ll:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _l:return t=e.displayName||null,t!==null?t:Co(e.type)||"Memo";case Zt:t=e._payload,e=e._init;try{return Co(e(t))}catch{}}return null}function wv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Co(t);case 8:return t===Il?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function pn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Nv(e){var t=Jh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gi(e){e._valueTracker||(e._valueTracker=Nv(e))}function em(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Jh(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Er(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function bo(e,t){var n=t.checked;return xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function mu(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=pn(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function tm(e,t){t=t.checked,t!=null&&Rl(e,"checked",t,!1)}function ko(e,t){tm(e,t);var n=pn(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?To(e,t.type,n):t.hasOwnProperty("defaultValue")&&To(e,t.type,pn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function To(e,t,n){(t!=="number"||Er(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ws=Array.isArray;function hs(e,t,n,s){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&s&&(e[n].defaultSelected=!0)}else{for(n=""+pn(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,s&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Eo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function pu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(M(92));if(Ws(n)){if(1<n.length)throw Error(M(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:pn(n)}}function nm(e,t){var n=pn(t.value),s=pn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function gu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function sm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Po(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?sm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ki,im=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ki=Ki||document.createElement("div"),Ki.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ki.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function di(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Xs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sv=["Webkit","ms","Moz","O"];Object.keys(Xs).forEach(function(e){Sv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xs[t]=Xs[e]})});function rm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Xs.hasOwnProperty(e)&&Xs[e]?(""+t).trim():t+"px"}function am(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=rm(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,r):e[n]=r}}var Cv=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ao(e,t){if(t){if(Cv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function Do(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zo=null;function Ol(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mo=null,ms=null,fs=null;function vu(e){if(e=Ii(e)){if(typeof Mo!="function")throw Error(M(280));var t=e.stateNode;t&&(t=ha(t),Mo(e.stateNode,e.type,t))}}function om(e){ms?fs?fs.push(e):fs=[e]:ms=e}function lm(){if(ms){var e=ms,t=fs;if(fs=ms=null,vu(e),t)for(e=0;e<t.length;e++)vu(t[e])}}function cm(e,t){return e(t)}function um(){}var _a=!1;function dm(e,t,n){if(_a)return e(t,n);_a=!0;try{return cm(e,t,n)}finally{_a=!1,(ms!==null||fs!==null)&&(um(),lm())}}function hi(e,t){var n=e.stateNode;if(n===null)return null;var s=ha(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var Ro=!1;if(Ut)try{var Ls={};Object.defineProperty(Ls,"passive",{get:function(){Ro=!0}}),window.addEventListener("test",Ls,Ls),window.removeEventListener("test",Ls,Ls)}catch{Ro=!1}function bv(e,t,n,s,r,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Zs=!1,Pr=null,Ar=!1,Io=null,kv={onError:function(e){Zs=!0,Pr=e}};function Tv(e,t,n,s,r,a,o,l,c){Zs=!1,Pr=null,bv.apply(kv,arguments)}function Ev(e,t,n,s,r,a,o,l,c){if(Tv.apply(this,arguments),Zs){if(Zs){var u=Pr;Zs=!1,Pr=null}else throw Error(M(198));Ar||(Ar=!0,Io=u)}}function Bn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function hm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xu(e){if(Bn(e)!==e)throw Error(M(188))}function Pv(e){var t=e.alternate;if(!t){if(t=Bn(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,s=t;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return xu(r),e;if(a===s)return xu(r),t;a=a.sibling}throw Error(M(188))}if(n.return!==s.return)n=r,s=a;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,s=a;break}if(l===s){o=!0,s=r,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,s=r;break}if(l===s){o=!0,s=a,n=r;break}l=l.sibling}if(!o)throw Error(M(189))}}if(n.alternate!==s)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function mm(e){return e=Pv(e),e!==null?fm(e):null}function fm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fm(e);if(t!==null)return t;e=e.sibling}return null}var pm=st.unstable_scheduleCallback,yu=st.unstable_cancelCallback,Av=st.unstable_shouldYield,Dv=st.unstable_requestPaint,Ne=st.unstable_now,zv=st.unstable_getCurrentPriorityLevel,Fl=st.unstable_ImmediatePriority,gm=st.unstable_UserBlockingPriority,Dr=st.unstable_NormalPriority,Mv=st.unstable_LowPriority,vm=st.unstable_IdlePriority,la=null,zt=null;function Rv(e){if(zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(la,e,void 0,(e.current.flags&128)===128)}catch{}}var St=Math.clz32?Math.clz32:_v,Iv=Math.log,Lv=Math.LN2;function _v(e){return e>>>=0,e===0?32:31-(Iv(e)/Lv|0)|0}var qi=64,Yi=4194304;function Gs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function zr(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,r=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~r;l!==0?s=Gs(l):(a&=o,a!==0&&(s=Gs(a)))}else o=n&~r,o!==0?s=Gs(o):a!==0&&(s=Gs(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&r)&&(r=s&-s,a=t&-t,r>=a||r===16&&(a&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-St(t),r=1<<n,s|=e[n],t&=~r;return s}function Ov(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fv(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-St(a),l=1<<o,c=r[o];c===-1?(!(l&n)||l&s)&&(r[o]=Ov(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Lo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xm(){var e=qi;return qi<<=1,!(qi&4194240)&&(qi=64),e}function Oa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Mi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-St(t),e[t]=n}function Vv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-St(n),a=1<<r;t[r]=0,s[r]=-1,e[r]=-1,n&=~a}}function Vl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-St(n),r=1<<s;r&t|e[s]&t&&(e[s]|=t),n&=~r}}var ne=0;function ym(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var jm,Bl,wm,Nm,Sm,_o=!1,Qi=[],on=null,ln=null,cn=null,mi=new Map,fi=new Map,en=[],Bv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ju(e,t){switch(e){case"focusin":case"focusout":on=null;break;case"dragenter":case"dragleave":ln=null;break;case"mouseover":case"mouseout":cn=null;break;case"pointerover":case"pointerout":mi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fi.delete(t.pointerId)}}function _s(e,t,n,s,r,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[r]},t!==null&&(t=Ii(t),t!==null&&Bl(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function $v(e,t,n,s,r){switch(t){case"focusin":return on=_s(on,e,t,n,s,r),!0;case"dragenter":return ln=_s(ln,e,t,n,s,r),!0;case"mouseover":return cn=_s(cn,e,t,n,s,r),!0;case"pointerover":var a=r.pointerId;return mi.set(a,_s(mi.get(a)||null,e,t,n,s,r)),!0;case"gotpointercapture":return a=r.pointerId,fi.set(a,_s(fi.get(a)||null,e,t,n,s,r)),!0}return!1}function Cm(e){var t=En(e.target);if(t!==null){var n=Bn(t);if(n!==null){if(t=n.tag,t===13){if(t=hm(n),t!==null){e.blockedOn=t,Sm(e.priority,function(){wm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Oo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);zo=s,n.target.dispatchEvent(s),zo=null}else return t=Ii(n),t!==null&&Bl(t),e.blockedOn=n,!1;t.shift()}return!0}function wu(e,t,n){pr(e)&&n.delete(t)}function Uv(){_o=!1,on!==null&&pr(on)&&(on=null),ln!==null&&pr(ln)&&(ln=null),cn!==null&&pr(cn)&&(cn=null),mi.forEach(wu),fi.forEach(wu)}function Os(e,t){e.blockedOn===t&&(e.blockedOn=null,_o||(_o=!0,st.unstable_scheduleCallback(st.unstable_NormalPriority,Uv)))}function pi(e){function t(r){return Os(r,e)}if(0<Qi.length){Os(Qi[0],e);for(var n=1;n<Qi.length;n++){var s=Qi[n];s.blockedOn===e&&(s.blockedOn=null)}}for(on!==null&&Os(on,e),ln!==null&&Os(ln,e),cn!==null&&Os(cn,e),mi.forEach(t),fi.forEach(t),n=0;n<en.length;n++)s=en[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<en.length&&(n=en[0],n.blockedOn===null);)Cm(n),n.blockedOn===null&&en.shift()}var ps=qt.ReactCurrentBatchConfig,Mr=!0;function Hv(e,t,n,s){var r=ne,a=ps.transition;ps.transition=null;try{ne=1,$l(e,t,n,s)}finally{ne=r,ps.transition=a}}function Wv(e,t,n,s){var r=ne,a=ps.transition;ps.transition=null;try{ne=4,$l(e,t,n,s)}finally{ne=r,ps.transition=a}}function $l(e,t,n,s){if(Mr){var r=Oo(e,t,n,s);if(r===null)qa(e,t,s,Rr,n),ju(e,s);else if($v(r,e,t,n,s))s.stopPropagation();else if(ju(e,s),t&4&&-1<Bv.indexOf(e)){for(;r!==null;){var a=Ii(r);if(a!==null&&jm(a),a=Oo(e,t,n,s),a===null&&qa(e,t,s,Rr,n),a===r)break;r=a}r!==null&&s.stopPropagation()}else qa(e,t,s,null,n)}}var Rr=null;function Oo(e,t,n,s){if(Rr=null,e=Ol(s),e=En(e),e!==null)if(t=Bn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=hm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Rr=e,null}function bm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zv()){case Fl:return 1;case gm:return 4;case Dr:case Mv:return 16;case vm:return 536870912;default:return 16}default:return 16}}var nn=null,Ul=null,gr=null;function km(){if(gr)return gr;var e,t=Ul,n=t.length,s,r="value"in nn?nn.value:nn.textContent,a=r.length;for(e=0;e<n&&t[e]===r[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===r[a-s];s++);return gr=r.slice(e,1<s?1-s:void 0)}function vr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xi(){return!0}function Nu(){return!1}function at(e){function t(n,s,r,a,o){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Xi:Nu,this.isPropagationStopped=Nu,this}return xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),t}var Ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hl=at(Ps),Ri=xe({},Ps,{view:0,detail:0}),Gv=at(Ri),Fa,Va,Fs,ca=xe({},Ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fs&&(Fs&&e.type==="mousemove"?(Fa=e.screenX-Fs.screenX,Va=e.screenY-Fs.screenY):Va=Fa=0,Fs=e),Fa)},movementY:function(e){return"movementY"in e?e.movementY:Va}}),Su=at(ca),Kv=xe({},ca,{dataTransfer:0}),qv=at(Kv),Yv=xe({},Ri,{relatedTarget:0}),Ba=at(Yv),Qv=xe({},Ps,{animationName:0,elapsedTime:0,pseudoElement:0}),Xv=at(Qv),Zv=xe({},Ps,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jv=at(Zv),ex=xe({},Ps,{data:0}),Cu=at(ex),tx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ix(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sx[e])?!!t[e]:!1}function Wl(){return ix}var rx=xe({},Ri,{key:function(e){if(e.key){var t=tx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wl,charCode:function(e){return e.type==="keypress"?vr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ax=at(rx),ox=xe({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bu=at(ox),lx=xe({},Ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wl}),cx=at(lx),ux=xe({},Ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),dx=at(ux),hx=xe({},ca,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mx=at(hx),fx=[9,13,27,32],Gl=Ut&&"CompositionEvent"in window,Js=null;Ut&&"documentMode"in document&&(Js=document.documentMode);var px=Ut&&"TextEvent"in window&&!Js,Tm=Ut&&(!Gl||Js&&8<Js&&11>=Js),ku=" ",Tu=!1;function Em(e,t){switch(e){case"keyup":return fx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yn=!1;function gx(e,t){switch(e){case"compositionend":return Pm(t);case"keypress":return t.which!==32?null:(Tu=!0,ku);case"textInput":return e=t.data,e===ku&&Tu?null:e;default:return null}}function vx(e,t){if(Yn)return e==="compositionend"||!Gl&&Em(e,t)?(e=km(),gr=Ul=nn=null,Yn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tm&&t.locale!=="ko"?null:t.data;default:return null}}var xx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xx[e.type]:t==="textarea"}function Am(e,t,n,s){om(s),t=Ir(t,"onChange"),0<t.length&&(n=new Hl("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var ei=null,gi=null;function yx(e){Bm(e,0)}function ua(e){var t=Zn(e);if(em(t))return e}function jx(e,t){if(e==="change")return t}var Dm=!1;if(Ut){var $a;if(Ut){var Ua="oninput"in document;if(!Ua){var Pu=document.createElement("div");Pu.setAttribute("oninput","return;"),Ua=typeof Pu.oninput=="function"}$a=Ua}else $a=!1;Dm=$a&&(!document.documentMode||9<document.documentMode)}function Au(){ei&&(ei.detachEvent("onpropertychange",zm),gi=ei=null)}function zm(e){if(e.propertyName==="value"&&ua(gi)){var t=[];Am(t,gi,e,Ol(e)),dm(yx,t)}}function wx(e,t,n){e==="focusin"?(Au(),ei=t,gi=n,ei.attachEvent("onpropertychange",zm)):e==="focusout"&&Au()}function Nx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ua(gi)}function Sx(e,t){if(e==="click")return ua(t)}function Cx(e,t){if(e==="input"||e==="change")return ua(t)}function bx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bt=typeof Object.is=="function"?Object.is:bx;function vi(e,t){if(bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!jo.call(t,r)||!bt(e[r],t[r]))return!1}return!0}function Du(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zu(e,t){var n=Du(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Du(n)}}function Mm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Mm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rm(){for(var e=window,t=Er();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Er(e.document)}return t}function Kl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kx(e){var t=Rm(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Mm(n.ownerDocument.documentElement,n)){if(s!==null&&Kl(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,a=Math.min(s.start,r);s=s.end===void 0?a:Math.min(s.end,r),!e.extend&&a>s&&(r=s,s=a,a=r),r=zu(n,a);var o=zu(n,s);r&&o&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Tx=Ut&&"documentMode"in document&&11>=document.documentMode,Qn=null,Fo=null,ti=null,Vo=!1;function Mu(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vo||Qn==null||Qn!==Er(s)||(s=Qn,"selectionStart"in s&&Kl(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ti&&vi(ti,s)||(ti=s,s=Ir(Fo,"onSelect"),0<s.length&&(t=new Hl("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Qn)))}function Zi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Xn={animationend:Zi("Animation","AnimationEnd"),animationiteration:Zi("Animation","AnimationIteration"),animationstart:Zi("Animation","AnimationStart"),transitionend:Zi("Transition","TransitionEnd")},Ha={},Im={};Ut&&(Im=document.createElement("div").style,"AnimationEvent"in window||(delete Xn.animationend.animation,delete Xn.animationiteration.animation,delete Xn.animationstart.animation),"TransitionEvent"in window||delete Xn.transitionend.transition);function da(e){if(Ha[e])return Ha[e];if(!Xn[e])return e;var t=Xn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Im)return Ha[e]=t[n];return e}var Lm=da("animationend"),_m=da("animationiteration"),Om=da("animationstart"),Fm=da("transitionend"),Vm=new Map,Ru="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yn(e,t){Vm.set(e,t),Vn(t,[e])}for(var Wa=0;Wa<Ru.length;Wa++){var Ga=Ru[Wa],Ex=Ga.toLowerCase(),Px=Ga[0].toUpperCase()+Ga.slice(1);yn(Ex,"on"+Px)}yn(Lm,"onAnimationEnd");yn(_m,"onAnimationIteration");yn(Om,"onAnimationStart");yn("dblclick","onDoubleClick");yn("focusin","onFocus");yn("focusout","onBlur");yn(Fm,"onTransitionEnd");xs("onMouseEnter",["mouseout","mouseover"]);xs("onMouseLeave",["mouseout","mouseover"]);xs("onPointerEnter",["pointerout","pointerover"]);xs("onPointerLeave",["pointerout","pointerover"]);Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ks="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ax=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ks));function Iu(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,Ev(s,t,void 0,e),e.currentTarget=null}function Bm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],r=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&r.isPropagationStopped())break e;Iu(r,l,u),a=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&r.isPropagationStopped())break e;Iu(r,l,u),a=c}}}if(Ar)throw e=Io,Ar=!1,Io=null,e}function ce(e,t){var n=t[Wo];n===void 0&&(n=t[Wo]=new Set);var s=e+"__bubble";n.has(s)||($m(t,e,2,!1),n.add(s))}function Ka(e,t,n){var s=0;t&&(s|=4),$m(n,e,s,t)}var Ji="_reactListening"+Math.random().toString(36).slice(2);function xi(e){if(!e[Ji]){e[Ji]=!0,Yh.forEach(function(n){n!=="selectionchange"&&(Ax.has(n)||Ka(n,!1,e),Ka(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ji]||(t[Ji]=!0,Ka("selectionchange",!1,t))}}function $m(e,t,n,s){switch(bm(t)){case 1:var r=Hv;break;case 4:r=Wv;break;default:r=$l}n=r.bind(null,t,n,e),r=void 0,!Ro||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),s?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function qa(e,t,n,s,r){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;o=o.return}for(;l!==null;){if(o=En(l),o===null)return;if(c=o.tag,c===5||c===6){s=a=o;continue e}l=l.parentNode}}s=s.return}dm(function(){var u=a,d=Ol(n),m=[];e:{var h=Vm.get(e);if(h!==void 0){var v=Hl,w=e;switch(e){case"keypress":if(vr(n)===0)break e;case"keydown":case"keyup":v=ax;break;case"focusin":w="focus",v=Ba;break;case"focusout":w="blur",v=Ba;break;case"beforeblur":case"afterblur":v=Ba;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Su;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=qv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=cx;break;case Lm:case _m:case Om:v=Xv;break;case Fm:v=dx;break;case"scroll":v=Gv;break;case"wheel":v=mx;break;case"copy":case"cut":case"paste":v=Jv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=bu}var S=(t&4)!==0,N=!S&&e==="scroll",f=S?h!==null?h+"Capture":null:h;S=[];for(var p=u,g;p!==null;){g=p;var x=g.stateNode;if(g.tag===5&&x!==null&&(g=x,f!==null&&(x=hi(p,f),x!=null&&S.push(yi(p,x,g)))),N)break;p=p.return}0<S.length&&(h=new v(h,w,null,n,d),m.push({event:h,listeners:S}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&n!==zo&&(w=n.relatedTarget||n.fromElement)&&(En(w)||w[Ht]))break e;if((v||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=u,w=w?En(w):null,w!==null&&(N=Bn(w),w!==N||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=u),v!==w)){if(S=Su,x="onMouseLeave",f="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(S=bu,x="onPointerLeave",f="onPointerEnter",p="pointer"),N=v==null?h:Zn(v),g=w==null?h:Zn(w),h=new S(x,p+"leave",v,n,d),h.target=N,h.relatedTarget=g,x=null,En(d)===u&&(S=new S(f,p+"enter",w,n,d),S.target=g,S.relatedTarget=N,x=S),N=x,v&&w)t:{for(S=v,f=w,p=0,g=S;g;g=Gn(g))p++;for(g=0,x=f;x;x=Gn(x))g++;for(;0<p-g;)S=Gn(S),p--;for(;0<g-p;)f=Gn(f),g--;for(;p--;){if(S===f||f!==null&&S===f.alternate)break t;S=Gn(S),f=Gn(f)}S=null}else S=null;v!==null&&Lu(m,h,v,S,!1),w!==null&&N!==null&&Lu(m,N,w,S,!0)}}e:{if(h=u?Zn(u):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var b=jx;else if(Eu(h))if(Dm)b=Cx;else{b=Nx;var j=wx}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=Sx);if(b&&(b=b(e,u))){Am(m,b,n,d);break e}j&&j(e,h,u),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&To(h,"number",h.value)}switch(j=u?Zn(u):window,e){case"focusin":(Eu(j)||j.contentEditable==="true")&&(Qn=j,Fo=u,ti=null);break;case"focusout":ti=Fo=Qn=null;break;case"mousedown":Vo=!0;break;case"contextmenu":case"mouseup":case"dragend":Vo=!1,Mu(m,n,d);break;case"selectionchange":if(Tx)break;case"keydown":case"keyup":Mu(m,n,d)}var C;if(Gl)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Yn?Em(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Tm&&n.locale!=="ko"&&(Yn||T!=="onCompositionStart"?T==="onCompositionEnd"&&Yn&&(C=km()):(nn=d,Ul="value"in nn?nn.value:nn.textContent,Yn=!0)),j=Ir(u,T),0<j.length&&(T=new Cu(T,e,null,n,d),m.push({event:T,listeners:j}),C?T.data=C:(C=Pm(n),C!==null&&(T.data=C)))),(C=px?gx(e,n):vx(e,n))&&(u=Ir(u,"onBeforeInput"),0<u.length&&(d=new Cu("onBeforeInput","beforeinput",null,n,d),m.push({event:d,listeners:u}),d.data=C))}Bm(m,t)})}function yi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ir(e,t){for(var n=t+"Capture",s=[];e!==null;){var r=e,a=r.stateNode;r.tag===5&&a!==null&&(r=a,a=hi(e,n),a!=null&&s.unshift(yi(e,a,r)),a=hi(e,t),a!=null&&s.push(yi(e,a,r))),e=e.return}return s}function Gn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Lu(e,t,n,s,r){for(var a=t._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&u!==null&&(l=u,r?(c=hi(n,a),c!=null&&o.unshift(yi(n,c,l))):r||(c=hi(n,a),c!=null&&o.push(yi(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Dx=/\r\n?/g,zx=/\u0000|\uFFFD/g;function _u(e){return(typeof e=="string"?e:""+e).replace(Dx,`
`).replace(zx,"")}function er(e,t,n){if(t=_u(t),_u(e)!==t&&n)throw Error(M(425))}function Lr(){}var Bo=null,$o=null;function Uo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ho=typeof setTimeout=="function"?setTimeout:void 0,Mx=typeof clearTimeout=="function"?clearTimeout:void 0,Ou=typeof Promise=="function"?Promise:void 0,Rx=typeof queueMicrotask=="function"?queueMicrotask:typeof Ou<"u"?function(e){return Ou.resolve(null).then(e).catch(Ix)}:Ho;function Ix(e){setTimeout(function(){throw e})}function Ya(e,t){var n=t,s=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){e.removeChild(r),pi(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);pi(t)}function un(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var As=Math.random().toString(36).slice(2),Dt="__reactFiber$"+As,ji="__reactProps$"+As,Ht="__reactContainer$"+As,Wo="__reactEvents$"+As,Lx="__reactListeners$"+As,_x="__reactHandles$"+As;function En(e){var t=e[Dt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ht]||n[Dt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Fu(e);e!==null;){if(n=e[Dt])return n;e=Fu(e)}return t}e=n,n=e.parentNode}return null}function Ii(e){return e=e[Dt]||e[Ht],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Zn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function ha(e){return e[ji]||null}var Go=[],Jn=-1;function jn(e){return{current:e}}function ue(e){0>Jn||(e.current=Go[Jn],Go[Jn]=null,Jn--)}function le(e,t){Jn++,Go[Jn]=e.current,e.current=t}var gn={},$e=jn(gn),Qe=jn(!1),In=gn;function ys(e,t){var n=e.type.contextTypes;if(!n)return gn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var r={},a;for(a in n)r[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Xe(e){return e=e.childContextTypes,e!=null}function _r(){ue(Qe),ue($e)}function Vu(e,t,n){if($e.current!==gn)throw Error(M(168));le($e,t),le(Qe,n)}function Um(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in t))throw Error(M(108,wv(e)||"Unknown",r));return xe({},n,s)}function Or(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gn,In=$e.current,le($e,e),le(Qe,Qe.current),!0}function Bu(e,t,n){var s=e.stateNode;if(!s)throw Error(M(169));n?(e=Um(e,t,In),s.__reactInternalMemoizedMergedChildContext=e,ue(Qe),ue($e),le($e,e)):ue(Qe),le(Qe,n)}var _t=null,ma=!1,Qa=!1;function Hm(e){_t===null?_t=[e]:_t.push(e)}function Ox(e){ma=!0,Hm(e)}function wn(){if(!Qa&&_t!==null){Qa=!0;var e=0,t=ne;try{var n=_t;for(ne=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}_t=null,ma=!1}catch(r){throw _t!==null&&(_t=_t.slice(e+1)),pm(Fl,wn),r}finally{ne=t,Qa=!1}}return null}var es=[],ts=0,Fr=null,Vr=0,dt=[],ht=0,Ln=null,Ot=1,Ft="";function Cn(e,t){es[ts++]=Vr,es[ts++]=Fr,Fr=e,Vr=t}function Wm(e,t,n){dt[ht++]=Ot,dt[ht++]=Ft,dt[ht++]=Ln,Ln=e;var s=Ot;e=Ft;var r=32-St(s)-1;s&=~(1<<r),n+=1;var a=32-St(t)+r;if(30<a){var o=r-r%5;a=(s&(1<<o)-1).toString(32),s>>=o,r-=o,Ot=1<<32-St(t)+r|n<<r|s,Ft=a+e}else Ot=1<<a|n<<r|s,Ft=e}function ql(e){e.return!==null&&(Cn(e,1),Wm(e,1,0))}function Yl(e){for(;e===Fr;)Fr=es[--ts],es[ts]=null,Vr=es[--ts],es[ts]=null;for(;e===Ln;)Ln=dt[--ht],dt[ht]=null,Ft=dt[--ht],dt[ht]=null,Ot=dt[--ht],dt[ht]=null}var tt=null,et=null,he=!1,Nt=null;function Gm(e,t){var n=mt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function $u(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tt=e,et=un(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tt=e,et=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ln!==null?{id:Ot,overflow:Ft}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=mt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,tt=e,et=null,!0):!1;default:return!1}}function Ko(e){return(e.mode&1)!==0&&(e.flags&128)===0}function qo(e){if(he){var t=et;if(t){var n=t;if(!$u(e,t)){if(Ko(e))throw Error(M(418));t=un(n.nextSibling);var s=tt;t&&$u(e,t)?Gm(s,n):(e.flags=e.flags&-4097|2,he=!1,tt=e)}}else{if(Ko(e))throw Error(M(418));e.flags=e.flags&-4097|2,he=!1,tt=e}}}function Uu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tt=e}function tr(e){if(e!==tt)return!1;if(!he)return Uu(e),he=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Uo(e.type,e.memoizedProps)),t&&(t=et)){if(Ko(e))throw Km(),Error(M(418));for(;t;)Gm(e,t),t=un(t.nextSibling)}if(Uu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){et=un(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}et=null}}else et=tt?un(e.stateNode.nextSibling):null;return!0}function Km(){for(var e=et;e;)e=un(e.nextSibling)}function js(){et=tt=null,he=!1}function Ql(e){Nt===null?Nt=[e]:Nt.push(e)}var Fx=qt.ReactCurrentBatchConfig;function Vs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var s=n.stateNode}if(!s)throw Error(M(147,e));var r=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=r.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,e))}return e}function nr(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Hu(e){var t=e._init;return t(e._payload)}function qm(e){function t(f,p){if(e){var g=f.deletions;g===null?(f.deletions=[p],f.flags|=16):g.push(p)}}function n(f,p){if(!e)return null;for(;p!==null;)t(f,p),p=p.sibling;return null}function s(f,p){for(f=new Map;p!==null;)p.key!==null?f.set(p.key,p):f.set(p.index,p),p=p.sibling;return f}function r(f,p){return f=fn(f,p),f.index=0,f.sibling=null,f}function a(f,p,g){return f.index=g,e?(g=f.alternate,g!==null?(g=g.index,g<p?(f.flags|=2,p):g):(f.flags|=2,p)):(f.flags|=1048576,p)}function o(f){return e&&f.alternate===null&&(f.flags|=2),f}function l(f,p,g,x){return p===null||p.tag!==6?(p=so(g,f.mode,x),p.return=f,p):(p=r(p,g),p.return=f,p)}function c(f,p,g,x){var b=g.type;return b===qn?d(f,p,g.props.children,x,g.key):p!==null&&(p.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Zt&&Hu(b)===p.type)?(x=r(p,g.props),x.ref=Vs(f,p,g),x.return=f,x):(x=Cr(g.type,g.key,g.props,null,f.mode,x),x.ref=Vs(f,p,g),x.return=f,x)}function u(f,p,g,x){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=io(g,f.mode,x),p.return=f,p):(p=r(p,g.children||[]),p.return=f,p)}function d(f,p,g,x,b){return p===null||p.tag!==7?(p=Mn(g,f.mode,x,b),p.return=f,p):(p=r(p,g),p.return=f,p)}function m(f,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=so(""+p,f.mode,g),p.return=f,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Wi:return g=Cr(p.type,p.key,p.props,null,f.mode,g),g.ref=Vs(f,null,p),g.return=f,g;case Kn:return p=io(p,f.mode,g),p.return=f,p;case Zt:var x=p._init;return m(f,x(p._payload),g)}if(Ws(p)||Is(p))return p=Mn(p,f.mode,g,null),p.return=f,p;nr(f,p)}return null}function h(f,p,g,x){var b=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return b!==null?null:l(f,p,""+g,x);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Wi:return g.key===b?c(f,p,g,x):null;case Kn:return g.key===b?u(f,p,g,x):null;case Zt:return b=g._init,h(f,p,b(g._payload),x)}if(Ws(g)||Is(g))return b!==null?null:d(f,p,g,x,null);nr(f,g)}return null}function v(f,p,g,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return f=f.get(g)||null,l(p,f,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Wi:return f=f.get(x.key===null?g:x.key)||null,c(p,f,x,b);case Kn:return f=f.get(x.key===null?g:x.key)||null,u(p,f,x,b);case Zt:var j=x._init;return v(f,p,g,j(x._payload),b)}if(Ws(x)||Is(x))return f=f.get(g)||null,d(p,f,x,b,null);nr(p,x)}return null}function w(f,p,g,x){for(var b=null,j=null,C=p,T=p=0,k=null;C!==null&&T<g.length;T++){C.index>T?(k=C,C=null):k=C.sibling;var P=h(f,C,g[T],x);if(P===null){C===null&&(C=k);break}e&&C&&P.alternate===null&&t(f,C),p=a(P,p,T),j===null?b=P:j.sibling=P,j=P,C=k}if(T===g.length)return n(f,C),he&&Cn(f,T),b;if(C===null){for(;T<g.length;T++)C=m(f,g[T],x),C!==null&&(p=a(C,p,T),j===null?b=C:j.sibling=C,j=C);return he&&Cn(f,T),b}for(C=s(f,C);T<g.length;T++)k=v(C,f,T,g[T],x),k!==null&&(e&&k.alternate!==null&&C.delete(k.key===null?T:k.key),p=a(k,p,T),j===null?b=k:j.sibling=k,j=k);return e&&C.forEach(function(z){return t(f,z)}),he&&Cn(f,T),b}function S(f,p,g,x){var b=Is(g);if(typeof b!="function")throw Error(M(150));if(g=b.call(g),g==null)throw Error(M(151));for(var j=b=null,C=p,T=p=0,k=null,P=g.next();C!==null&&!P.done;T++,P=g.next()){C.index>T?(k=C,C=null):k=C.sibling;var z=h(f,C,P.value,x);if(z===null){C===null&&(C=k);break}e&&C&&z.alternate===null&&t(f,C),p=a(z,p,T),j===null?b=z:j.sibling=z,j=z,C=k}if(P.done)return n(f,C),he&&Cn(f,T),b;if(C===null){for(;!P.done;T++,P=g.next())P=m(f,P.value,x),P!==null&&(p=a(P,p,T),j===null?b=P:j.sibling=P,j=P);return he&&Cn(f,T),b}for(C=s(f,C);!P.done;T++,P=g.next())P=v(C,f,T,P.value,x),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?T:P.key),p=a(P,p,T),j===null?b=P:j.sibling=P,j=P);return e&&C.forEach(function(B){return t(f,B)}),he&&Cn(f,T),b}function N(f,p,g,x){if(typeof g=="object"&&g!==null&&g.type===qn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Wi:e:{for(var b=g.key,j=p;j!==null;){if(j.key===b){if(b=g.type,b===qn){if(j.tag===7){n(f,j.sibling),p=r(j,g.props.children),p.return=f,f=p;break e}}else if(j.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Zt&&Hu(b)===j.type){n(f,j.sibling),p=r(j,g.props),p.ref=Vs(f,j,g),p.return=f,f=p;break e}n(f,j);break}else t(f,j);j=j.sibling}g.type===qn?(p=Mn(g.props.children,f.mode,x,g.key),p.return=f,f=p):(x=Cr(g.type,g.key,g.props,null,f.mode,x),x.ref=Vs(f,p,g),x.return=f,f=x)}return o(f);case Kn:e:{for(j=g.key;p!==null;){if(p.key===j)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(f,p.sibling),p=r(p,g.children||[]),p.return=f,f=p;break e}else{n(f,p);break}else t(f,p);p=p.sibling}p=io(g,f.mode,x),p.return=f,f=p}return o(f);case Zt:return j=g._init,N(f,p,j(g._payload),x)}if(Ws(g))return w(f,p,g,x);if(Is(g))return S(f,p,g,x);nr(f,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(f,p.sibling),p=r(p,g),p.return=f,f=p):(n(f,p),p=so(g,f.mode,x),p.return=f,f=p),o(f)):n(f,p)}return N}var ws=qm(!0),Ym=qm(!1),Br=jn(null),$r=null,ns=null,Xl=null;function Zl(){Xl=ns=$r=null}function Jl(e){var t=Br.current;ue(Br),e._currentValue=t}function Yo(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function gs(e,t){$r=e,Xl=ns=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ye=!0),e.firstContext=null)}function pt(e){var t=e._currentValue;if(Xl!==e)if(e={context:e,memoizedValue:t,next:null},ns===null){if($r===null)throw Error(M(308));ns=e,$r.dependencies={lanes:0,firstContext:e}}else ns=ns.next=e;return t}var Pn=null;function ec(e){Pn===null?Pn=[e]:Pn.push(e)}function Qm(e,t,n,s){var r=t.interleaved;return r===null?(n.next=n,ec(t)):(n.next=r.next,r.next=n),t.interleaved=n,Wt(e,s)}function Wt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Jt=!1;function tc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function dn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Q&2){var r=s.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t,Wt(e,n)}return r=s.interleaved,r===null?(t.next=t,ec(s)):(t.next=r.next,r.next=t),s.interleaved=t,Wt(e,n)}function xr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Vl(e,n)}}function Wu(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?r=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?r=a=t:a=a.next=t}else r=a=t;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ur(e,t,n,s){var r=e.updateQueue;Jt=!1;var a=r.firstBaseUpdate,o=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var m=r.baseState;o=0,d=u=c=null,l=a;do{var h=l.lane,v=l.eventTime;if((s&h)===h){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,S=l;switch(h=t,v=n,S.tag){case 1:if(w=S.payload,typeof w=="function"){m=w.call(v,m,h);break e}m=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=S.payload,h=typeof w=="function"?w.call(v,m,h):w,h==null)break e;m=xe({},m,h);break e;case 2:Jt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=r.effects,h===null?r.effects=[l]:h.push(l))}else v={eventTime:v,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=v,c=m):d=d.next=v,o|=h;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;h=l,l=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(!0);if(d===null&&(c=m),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=d,t=r.shared.interleaved,t!==null){r=t;do o|=r.lane,r=r.next;while(r!==t)}else a===null&&(r.shared.lanes=0);On|=o,e.lanes=o,e.memoizedState=m}}function Gu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(M(191,r));r.call(s)}}}var Li={},Mt=jn(Li),wi=jn(Li),Ni=jn(Li);function An(e){if(e===Li)throw Error(M(174));return e}function nc(e,t){switch(le(Ni,t),le(wi,e),le(Mt,Li),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Po(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Po(t,e)}ue(Mt),le(Mt,t)}function Ns(){ue(Mt),ue(wi),ue(Ni)}function Zm(e){An(Ni.current);var t=An(Mt.current),n=Po(t,e.type);t!==n&&(le(wi,e),le(Mt,n))}function sc(e){wi.current===e&&(ue(Mt),ue(wi))}var pe=jn(0);function Hr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xa=[];function ic(){for(var e=0;e<Xa.length;e++)Xa[e]._workInProgressVersionPrimary=null;Xa.length=0}var yr=qt.ReactCurrentDispatcher,Za=qt.ReactCurrentBatchConfig,_n=0,ve=null,ke=null,Ae=null,Wr=!1,ni=!1,Si=0,Vx=0;function _e(){throw Error(M(321))}function rc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!bt(e[n],t[n]))return!1;return!0}function ac(e,t,n,s,r,a){if(_n=a,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yr.current=e===null||e.memoizedState===null?Hx:Wx,e=n(s,r),ni){a=0;do{if(ni=!1,Si=0,25<=a)throw Error(M(301));a+=1,Ae=ke=null,t.updateQueue=null,yr.current=Gx,e=n(s,r)}while(ni)}if(yr.current=Gr,t=ke!==null&&ke.next!==null,_n=0,Ae=ke=ve=null,Wr=!1,t)throw Error(M(300));return e}function oc(){var e=Si!==0;return Si=0,e}function At(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?ve.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function gt(){if(ke===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var t=Ae===null?ve.memoizedState:Ae.next;if(t!==null)Ae=t,ke=e;else{if(e===null)throw Error(M(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},Ae===null?ve.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Ci(e,t){return typeof t=="function"?t(e):t}function Ja(e){var t=gt(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var s=ke,r=s.baseQueue,a=n.pending;if(a!==null){if(r!==null){var o=r.next;r.next=a.next,a.next=o}s.baseQueue=r=a,n.pending=null}if(r!==null){a=r.next,s=s.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((_n&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var m={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=m,o=s):c=c.next=m,ve.lanes|=d,On|=d}u=u.next}while(u!==null&&u!==a);c===null?o=s:c.next=l,bt(s,t.memoizedState)||(Ye=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){r=e;do a=r.lane,ve.lanes|=a,On|=a,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function eo(e){var t=gt(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var s=n.dispatch,r=n.pending,a=t.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do a=e(a,o.action),o=o.next;while(o!==r);bt(a,t.memoizedState)||(Ye=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function Jm(){}function ef(e,t){var n=ve,s=gt(),r=t(),a=!bt(s.memoizedState,r);if(a&&(s.memoizedState=r,Ye=!0),s=s.queue,lc(sf.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||Ae!==null&&Ae.memoizedState.tag&1){if(n.flags|=2048,bi(9,nf.bind(null,n,s,r,t),void 0,null),De===null)throw Error(M(349));_n&30||tf(n,t,r)}return r}function tf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function nf(e,t,n,s){t.value=n,t.getSnapshot=s,rf(t)&&af(e)}function sf(e,t,n){return n(function(){rf(t)&&af(e)})}function rf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!bt(e,n)}catch{return!0}}function af(e){var t=Wt(e,1);t!==null&&Ct(t,e,1,-1)}function Ku(e){var t=At();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:e},t.queue=e,e=e.dispatch=Ux.bind(null,ve,e),[t.memoizedState,e]}function bi(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function of(){return gt().memoizedState}function jr(e,t,n,s){var r=At();ve.flags|=e,r.memoizedState=bi(1|t,n,void 0,s===void 0?null:s)}function fa(e,t,n,s){var r=gt();s=s===void 0?null:s;var a=void 0;if(ke!==null){var o=ke.memoizedState;if(a=o.destroy,s!==null&&rc(s,o.deps)){r.memoizedState=bi(t,n,a,s);return}}ve.flags|=e,r.memoizedState=bi(1|t,n,a,s)}function qu(e,t){return jr(8390656,8,e,t)}function lc(e,t){return fa(2048,8,e,t)}function lf(e,t){return fa(4,2,e,t)}function cf(e,t){return fa(4,4,e,t)}function uf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function df(e,t,n){return n=n!=null?n.concat([e]):null,fa(4,4,uf.bind(null,t,e),n)}function cc(){}function hf(e,t){var n=gt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&rc(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function mf(e,t){var n=gt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&rc(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function ff(e,t,n){return _n&21?(bt(n,t)||(n=xm(),ve.lanes|=n,On|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ye=!0),e.memoizedState=n)}function Bx(e,t){var n=ne;ne=n!==0&&4>n?n:4,e(!0);var s=Za.transition;Za.transition={};try{e(!1),t()}finally{ne=n,Za.transition=s}}function pf(){return gt().memoizedState}function $x(e,t,n){var s=mn(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},gf(e))vf(t,n);else if(n=Qm(e,t,n,s),n!==null){var r=We();Ct(n,e,s,r),xf(n,t,s)}}function Ux(e,t,n){var s=mn(e),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(gf(e))vf(t,r);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(r.hasEagerState=!0,r.eagerState=l,bt(l,o)){var c=t.interleaved;c===null?(r.next=r,ec(t)):(r.next=c.next,c.next=r),t.interleaved=r;return}}catch{}finally{}n=Qm(e,t,r,s),n!==null&&(r=We(),Ct(n,e,s,r),xf(n,t,s))}}function gf(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function vf(e,t){ni=Wr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function xf(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Vl(e,n)}}var Gr={readContext:pt,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useInsertionEffect:_e,useLayoutEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useMutableSource:_e,useSyncExternalStore:_e,useId:_e,unstable_isNewReconciler:!1},Hx={readContext:pt,useCallback:function(e,t){return At().memoizedState=[e,t===void 0?null:t],e},useContext:pt,useEffect:qu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,jr(4194308,4,uf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return jr(4194308,4,e,t)},useInsertionEffect:function(e,t){return jr(4,2,e,t)},useMemo:function(e,t){var n=At();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=At();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=$x.bind(null,ve,e),[s.memoizedState,e]},useRef:function(e){var t=At();return e={current:e},t.memoizedState=e},useState:Ku,useDebugValue:cc,useDeferredValue:function(e){return At().memoizedState=e},useTransition:function(){var e=Ku(!1),t=e[0];return e=Bx.bind(null,e[1]),At().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=ve,r=At();if(he){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),De===null)throw Error(M(349));_n&30||tf(s,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,qu(sf.bind(null,s,a,e),[e]),s.flags|=2048,bi(9,nf.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=At(),t=De.identifierPrefix;if(he){var n=Ft,s=Ot;n=(s&~(1<<32-St(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Si++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Vx++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Wx={readContext:pt,useCallback:hf,useContext:pt,useEffect:lc,useImperativeHandle:df,useInsertionEffect:lf,useLayoutEffect:cf,useMemo:mf,useReducer:Ja,useRef:of,useState:function(){return Ja(Ci)},useDebugValue:cc,useDeferredValue:function(e){var t=gt();return ff(t,ke.memoizedState,e)},useTransition:function(){var e=Ja(Ci)[0],t=gt().memoizedState;return[e,t]},useMutableSource:Jm,useSyncExternalStore:ef,useId:pf,unstable_isNewReconciler:!1},Gx={readContext:pt,useCallback:hf,useContext:pt,useEffect:lc,useImperativeHandle:df,useInsertionEffect:lf,useLayoutEffect:cf,useMemo:mf,useReducer:eo,useRef:of,useState:function(){return eo(Ci)},useDebugValue:cc,useDeferredValue:function(e){var t=gt();return ke===null?t.memoizedState=e:ff(t,ke.memoizedState,e)},useTransition:function(){var e=eo(Ci)[0],t=gt().memoizedState;return[e,t]},useMutableSource:Jm,useSyncExternalStore:ef,useId:pf,unstable_isNewReconciler:!1};function jt(e,t){if(e&&e.defaultProps){t=xe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Qo(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:xe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var pa={isMounted:function(e){return(e=e._reactInternals)?Bn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=We(),r=mn(e),a=Vt(s,r);a.payload=t,n!=null&&(a.callback=n),t=dn(e,a,r),t!==null&&(Ct(t,e,r,s),xr(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=We(),r=mn(e),a=Vt(s,r);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=dn(e,a,r),t!==null&&(Ct(t,e,r,s),xr(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=We(),s=mn(e),r=Vt(n,s);r.tag=2,t!=null&&(r.callback=t),t=dn(e,r,s),t!==null&&(Ct(t,e,s,n),xr(t,e,s))}};function Yu(e,t,n,s,r,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,o):t.prototype&&t.prototype.isPureReactComponent?!vi(n,s)||!vi(r,a):!0}function yf(e,t,n){var s=!1,r=gn,a=t.contextType;return typeof a=="object"&&a!==null?a=pt(a):(r=Xe(t)?In:$e.current,s=t.contextTypes,a=(s=s!=null)?ys(e,r):gn),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=pa,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t}function Qu(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&pa.enqueueReplaceState(t,t.state,null)}function Xo(e,t,n,s){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},tc(e);var a=t.contextType;typeof a=="object"&&a!==null?r.context=pt(a):(a=Xe(t)?In:$e.current,r.context=ys(e,a)),r.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Qo(e,t,a,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&pa.enqueueReplaceState(r,r.state,null),Ur(e,n,r,s),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function Ss(e,t){try{var n="",s=t;do n+=jv(s),s=s.return;while(s);var r=n}catch(a){r=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:r,digest:null}}function to(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Zo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Kx=typeof WeakMap=="function"?WeakMap:Map;function jf(e,t,n){n=Vt(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){qr||(qr=!0,ll=s),Zo(e,t)},n}function wf(e,t,n){n=Vt(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var r=t.value;n.payload=function(){return s(r)},n.callback=function(){Zo(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Zo(e,t),typeof s!="function"&&(hn===null?hn=new Set([this]):hn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Xu(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Kx;var r=new Set;s.set(t,r)}else r=s.get(t),r===void 0&&(r=new Set,s.set(t,r));r.has(n)||(r.add(n),e=oy.bind(null,e,t,n),t.then(e,e))}function Zu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ju(e,t,n,s,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Vt(-1,1),t.tag=2,dn(n,t,1))),n.lanes|=1),e)}var qx=qt.ReactCurrentOwner,Ye=!1;function He(e,t,n,s){t.child=e===null?Ym(t,null,n,s):ws(t,e.child,n,s)}function ed(e,t,n,s,r){n=n.render;var a=t.ref;return gs(t,r),s=ac(e,t,n,s,a,r),n=oc(),e!==null&&!Ye?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Gt(e,t,r)):(he&&n&&ql(t),t.flags|=1,He(e,t,s,r),t.child)}function td(e,t,n,s,r){if(e===null){var a=n.type;return typeof a=="function"&&!vc(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Nf(e,t,a,s,r)):(e=Cr(n.type,null,s,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&r)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:vi,n(o,s)&&e.ref===t.ref)return Gt(e,t,r)}return t.flags|=1,e=fn(a,s),e.ref=t.ref,e.return=t,t.child=e}function Nf(e,t,n,s,r){if(e!==null){var a=e.memoizedProps;if(vi(a,s)&&e.ref===t.ref)if(Ye=!1,t.pendingProps=s=a,(e.lanes&r)!==0)e.flags&131072&&(Ye=!0);else return t.lanes=e.lanes,Gt(e,t,r)}return Jo(e,t,n,s,r)}function Sf(e,t,n){var s=t.pendingProps,r=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(is,Je),Je|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,le(is,Je),Je|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,le(is,Je),Je|=s}else a!==null?(s=a.baseLanes|n,t.memoizedState=null):s=n,le(is,Je),Je|=s;return He(e,t,r,n),t.child}function Cf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Jo(e,t,n,s,r){var a=Xe(n)?In:$e.current;return a=ys(t,a),gs(t,r),n=ac(e,t,n,s,a,r),s=oc(),e!==null&&!Ye?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Gt(e,t,r)):(he&&s&&ql(t),t.flags|=1,He(e,t,n,r),t.child)}function nd(e,t,n,s,r){if(Xe(n)){var a=!0;Or(t)}else a=!1;if(gs(t,r),t.stateNode===null)wr(e,t),yf(t,n,s),Xo(t,n,s,r),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=pt(u):(u=Xe(n)?In:$e.current,u=ys(t,u));var d=n.getDerivedStateFromProps,m=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==u)&&Qu(t,o,s,u),Jt=!1;var h=t.memoizedState;o.state=h,Ur(t,s,o,r),c=t.memoizedState,l!==s||h!==c||Qe.current||Jt?(typeof d=="function"&&(Qo(t,n,d,s),c=t.memoizedState),(l=Jt||Yu(t,n,l,s,h,c,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=u,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,Xm(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:jt(t.type,l),o.props=u,m=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=pt(c):(c=Xe(n)?In:$e.current,c=ys(t,c));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||h!==c)&&Qu(t,o,s,c),Jt=!1,h=t.memoizedState,o.state=h,Ur(t,s,o,r);var w=t.memoizedState;l!==m||h!==w||Qe.current||Jt?(typeof v=="function"&&(Qo(t,n,v,s),w=t.memoizedState),(u=Jt||Yu(t,n,u,s,h,w,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,w,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=w),o.props=s,o.state=w,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),s=!1)}return el(e,t,n,s,a,r)}function el(e,t,n,s,r,a){Cf(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return r&&Bu(t,n,!1),Gt(e,t,a);s=t.stateNode,qx.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=ws(t,e.child,null,a),t.child=ws(t,null,l,a)):He(e,t,l,a),t.memoizedState=s.state,r&&Bu(t,n,!0),t.child}function bf(e){var t=e.stateNode;t.pendingContext?Vu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Vu(e,t.context,!1),nc(e,t.containerInfo)}function sd(e,t,n,s,r){return js(),Ql(r),t.flags|=256,He(e,t,n,s),t.child}var tl={dehydrated:null,treeContext:null,retryLane:0};function nl(e){return{baseLanes:e,cachePool:null,transitions:null}}function kf(e,t,n){var s=t.pendingProps,r=pe.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(r&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),le(pe,r&1),e===null)return qo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,a?(s=t.mode,a=t.child,o={mode:"hidden",children:o},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=xa(o,s,0,null),e=Mn(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=nl(n),t.memoizedState=tl,e):uc(t,o));if(r=e.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return Yx(e,t,o,s,l,r,n);if(a){a=s.fallback,o=t.mode,r=e.child,l=r.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==r?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=fn(r,c),s.subtreeFlags=r.subtreeFlags&14680064),l!==null?a=fn(l,a):(a=Mn(a,o,n,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,o=e.child.memoizedState,o=o===null?nl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=tl,s}return a=e.child,e=a.sibling,s=fn(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function uc(e,t){return t=xa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function sr(e,t,n,s){return s!==null&&Ql(s),ws(t,e.child,null,n),e=uc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Yx(e,t,n,s,r,a,o){if(n)return t.flags&256?(t.flags&=-257,s=to(Error(M(422))),sr(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,r=t.mode,s=xa({mode:"visible",children:s.children},r,0,null),a=Mn(a,r,o,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&ws(t,e.child,null,o),t.child.memoizedState=nl(o),t.memoizedState=tl,a);if(!(t.mode&1))return sr(e,t,o,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var l=s.dgst;return s=l,a=Error(M(419)),s=to(a,s,void 0),sr(e,t,o,s)}if(l=(o&e.childLanes)!==0,Ye||l){if(s=De,s!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|o)?0:r,r!==0&&r!==a.retryLane&&(a.retryLane=r,Wt(e,r),Ct(s,e,r,-1))}return gc(),s=to(Error(M(421))),sr(e,t,o,s)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=ly.bind(null,e),r._reactRetry=t,null):(e=a.treeContext,et=un(r.nextSibling),tt=t,he=!0,Nt=null,e!==null&&(dt[ht++]=Ot,dt[ht++]=Ft,dt[ht++]=Ln,Ot=e.id,Ft=e.overflow,Ln=t),t=uc(t,s.children),t.flags|=4096,t)}function id(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Yo(e.return,t,n)}function no(e,t,n,s,r){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=r)}function Tf(e,t,n){var s=t.pendingProps,r=s.revealOrder,a=s.tail;if(He(e,t,s.children,n),s=pe.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&id(e,n,t);else if(e.tag===19)id(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(le(pe,s),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Hr(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),no(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Hr(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}no(t,!0,n,null,a);break;case"together":no(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wr(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),On|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=fn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=fn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Qx(e,t,n){switch(t.tag){case 3:bf(t),js();break;case 5:Zm(t);break;case 1:Xe(t.type)&&Or(t);break;case 4:nc(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,r=t.memoizedProps.value;le(Br,s._currentValue),s._currentValue=r;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(le(pe,pe.current&1),t.flags|=128,null):n&t.child.childLanes?kf(e,t,n):(le(pe,pe.current&1),e=Gt(e,t,n),e!==null?e.sibling:null);le(pe,pe.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return Tf(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),le(pe,pe.current),s)break;return null;case 22:case 23:return t.lanes=0,Sf(e,t,n)}return Gt(e,t,n)}var Ef,sl,Pf,Af;Ef=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sl=function(){};Pf=function(e,t,n,s){var r=e.memoizedProps;if(r!==s){e=t.stateNode,An(Mt.current);var a=null;switch(n){case"input":r=bo(e,r),s=bo(e,s),a=[];break;case"select":r=xe({},r,{value:void 0}),s=xe({},s,{value:void 0}),a=[];break;case"textarea":r=Eo(e,r),s=Eo(e,s),a=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Lr)}Ao(n,s);var o;n=null;for(u in r)if(!s.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var l=r[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ui.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in s){var c=s[u];if(l=r!=null?r[u]:void 0,s.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ui.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ce("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Af=function(e,t,n,s){n!==s&&(t.flags|=4)};function Bs(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Xx(e,t,n){var s=t.pendingProps;switch(Yl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return Xe(t.type)&&_r(),Oe(t),null;case 3:return s=t.stateNode,Ns(),ue(Qe),ue($e),ic(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(tr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Nt!==null&&(dl(Nt),Nt=null))),sl(e,t),Oe(t),null;case 5:sc(t);var r=An(Ni.current);if(n=t.type,e!==null&&t.stateNode!=null)Pf(e,t,n,s,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(M(166));return Oe(t),null}if(e=An(Mt.current),tr(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[Dt]=t,s[ji]=a,e=(t.mode&1)!==0,n){case"dialog":ce("cancel",s),ce("close",s);break;case"iframe":case"object":case"embed":ce("load",s);break;case"video":case"audio":for(r=0;r<Ks.length;r++)ce(Ks[r],s);break;case"source":ce("error",s);break;case"img":case"image":case"link":ce("error",s),ce("load",s);break;case"details":ce("toggle",s);break;case"input":mu(s,a),ce("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},ce("invalid",s);break;case"textarea":pu(s,a),ce("invalid",s)}Ao(n,a),r=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?s.textContent!==l&&(a.suppressHydrationWarning!==!0&&er(s.textContent,l,e),r=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&er(s.textContent,l,e),r=["children",""+l]):ui.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ce("scroll",s)}switch(n){case"input":Gi(s),fu(s,a,!0);break;case"textarea":Gi(s),gu(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=Lr)}s=r,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=sm(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[Dt]=t,e[ji]=s,Ef(e,t,!1,!1),t.stateNode=e;e:{switch(o=Do(n,s),n){case"dialog":ce("cancel",e),ce("close",e),r=s;break;case"iframe":case"object":case"embed":ce("load",e),r=s;break;case"video":case"audio":for(r=0;r<Ks.length;r++)ce(Ks[r],e);r=s;break;case"source":ce("error",e),r=s;break;case"img":case"image":case"link":ce("error",e),ce("load",e),r=s;break;case"details":ce("toggle",e),r=s;break;case"input":mu(e,s),r=bo(e,s),ce("invalid",e);break;case"option":r=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},r=xe({},s,{value:void 0}),ce("invalid",e);break;case"textarea":pu(e,s),r=Eo(e,s),ce("invalid",e);break;default:r=s}Ao(n,r),l=r;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?am(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&im(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&di(e,c):typeof c=="number"&&di(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ui.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ce("scroll",e):c!=null&&Rl(e,a,c,o))}switch(n){case"input":Gi(e),fu(e,s,!1);break;case"textarea":Gi(e),gu(e);break;case"option":s.value!=null&&e.setAttribute("value",""+pn(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?hs(e,!!s.multiple,a,!1):s.defaultValue!=null&&hs(e,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=Lr)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Oe(t),null;case 6:if(e&&t.stateNode!=null)Af(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(M(166));if(n=An(Ni.current),An(Mt.current),tr(t)){if(s=t.stateNode,n=t.memoizedProps,s[Dt]=t,(a=s.nodeValue!==n)&&(e=tt,e!==null))switch(e.tag){case 3:er(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&er(s.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Dt]=t,t.stateNode=s}return Oe(t),null;case 13:if(ue(pe),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(he&&et!==null&&t.mode&1&&!(t.flags&128))Km(),js(),t.flags|=98560,a=!1;else if(a=tr(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(M(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(M(317));a[Dt]=t}else js(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oe(t),a=!1}else Nt!==null&&(dl(Nt),Nt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||pe.current&1?Te===0&&(Te=3):gc())),t.updateQueue!==null&&(t.flags|=4),Oe(t),null);case 4:return Ns(),sl(e,t),e===null&&xi(t.stateNode.containerInfo),Oe(t),null;case 10:return Jl(t.type._context),Oe(t),null;case 17:return Xe(t.type)&&_r(),Oe(t),null;case 19:if(ue(pe),a=t.memoizedState,a===null)return Oe(t),null;if(s=(t.flags&128)!==0,o=a.rendering,o===null)if(s)Bs(a,!1);else{if(Te!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Hr(e),o!==null){for(t.flags|=128,Bs(a,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)a=n,e=s,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return le(pe,pe.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ne()>Cs&&(t.flags|=128,s=!0,Bs(a,!1),t.lanes=4194304)}else{if(!s)if(e=Hr(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Bs(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!he)return Oe(t),null}else 2*Ne()-a.renderingStartTime>Cs&&n!==1073741824&&(t.flags|=128,s=!0,Bs(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ne(),t.sibling=null,n=pe.current,le(pe,s?n&1|2:n&1),t):(Oe(t),null);case 22:case 23:return pc(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Je&1073741824&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function Zx(e,t){switch(Yl(t),t.tag){case 1:return Xe(t.type)&&_r(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ns(),ue(Qe),ue($e),ic(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return sc(t),null;case 13:if(ue(pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));js()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ue(pe),null;case 4:return Ns(),null;case 10:return Jl(t.type._context),null;case 22:case 23:return pc(),null;case 24:return null;default:return null}}var ir=!1,Ve=!1,Jx=typeof WeakSet=="function"?WeakSet:Set,_=null;function ss(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){je(e,t,s)}else n.current=null}function il(e,t,n){try{n()}catch(s){je(e,t,s)}}var rd=!1;function ey(e,t){if(Bo=Mr,e=Rm(),Kl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,m=e,h=null;t:for(;;){for(var v;m!==n||r!==0&&m.nodeType!==3||(l=o+r),m!==a||s!==0&&m.nodeType!==3||(c=o+s),m.nodeType===3&&(o+=m.nodeValue.length),(v=m.firstChild)!==null;)h=m,m=v;for(;;){if(m===e)break t;if(h===n&&++u===r&&(l=o),h===a&&++d===s&&(c=o),(v=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=v}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for($o={focusedElem:e,selectionRange:n},Mr=!1,_=t;_!==null;)if(t=_,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,_=e;else for(;_!==null;){t=_;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var S=w.memoizedProps,N=w.memoizedState,f=t.stateNode,p=f.getSnapshotBeforeUpdate(t.elementType===t.type?S:jt(t.type,S),N);f.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(x){je(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,_=e;break}_=t.return}return w=rd,rd=!1,w}function si(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&e)===e){var a=r.destroy;r.destroy=void 0,a!==void 0&&il(t,n,a)}r=r.next}while(r!==s)}}function ga(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Df(e){var t=e.alternate;t!==null&&(e.alternate=null,Df(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Dt],delete t[ji],delete t[Wo],delete t[Lx],delete t[_x])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function zf(e){return e.tag===5||e.tag===3||e.tag===4}function ad(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function al(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Lr));else if(s!==4&&(e=e.child,e!==null))for(al(e,t,n),e=e.sibling;e!==null;)al(e,t,n),e=e.sibling}function ol(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(ol(e,t,n),e=e.sibling;e!==null;)ol(e,t,n),e=e.sibling}var ze=null,wt=!1;function Qt(e,t,n){for(n=n.child;n!==null;)Mf(e,t,n),n=n.sibling}function Mf(e,t,n){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(la,n)}catch{}switch(n.tag){case 5:Ve||ss(n,t);case 6:var s=ze,r=wt;ze=null,Qt(e,t,n),ze=s,wt=r,ze!==null&&(wt?(e=ze,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ze.removeChild(n.stateNode));break;case 18:ze!==null&&(wt?(e=ze,n=n.stateNode,e.nodeType===8?Ya(e.parentNode,n):e.nodeType===1&&Ya(e,n),pi(e)):Ya(ze,n.stateNode));break;case 4:s=ze,r=wt,ze=n.stateNode.containerInfo,wt=!0,Qt(e,t,n),ze=s,wt=r;break;case 0:case 11:case 14:case 15:if(!Ve&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var a=r,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&il(n,t,o),r=r.next}while(r!==s)}Qt(e,t,n);break;case 1:if(!Ve&&(ss(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){je(n,t,l)}Qt(e,t,n);break;case 21:Qt(e,t,n);break;case 22:n.mode&1?(Ve=(s=Ve)||n.memoizedState!==null,Qt(e,t,n),Ve=s):Qt(e,t,n);break;default:Qt(e,t,n)}}function od(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Jx),t.forEach(function(s){var r=cy.bind(null,e,s);n.has(s)||(n.add(s),s.then(r,r))})}}function xt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ze=l.stateNode,wt=!1;break e;case 3:ze=l.stateNode.containerInfo,wt=!0;break e;case 4:ze=l.stateNode.containerInfo,wt=!0;break e}l=l.return}if(ze===null)throw Error(M(160));Mf(a,o,r),ze=null,wt=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(u){je(r,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Rf(t,e),t=t.sibling}function Rf(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xt(t,e),Pt(e),s&4){try{si(3,e,e.return),ga(3,e)}catch(S){je(e,e.return,S)}try{si(5,e,e.return)}catch(S){je(e,e.return,S)}}break;case 1:xt(t,e),Pt(e),s&512&&n!==null&&ss(n,n.return);break;case 5:if(xt(t,e),Pt(e),s&512&&n!==null&&ss(n,n.return),e.flags&32){var r=e.stateNode;try{di(r,"")}catch(S){je(e,e.return,S)}}if(s&4&&(r=e.stateNode,r!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&tm(r,a),Do(l,o);var u=Do(l,a);for(o=0;o<c.length;o+=2){var d=c[o],m=c[o+1];d==="style"?am(r,m):d==="dangerouslySetInnerHTML"?im(r,m):d==="children"?di(r,m):Rl(r,d,m,u)}switch(l){case"input":ko(r,a);break;case"textarea":nm(r,a);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?hs(r,!!a.multiple,v,!1):h!==!!a.multiple&&(a.defaultValue!=null?hs(r,!!a.multiple,a.defaultValue,!0):hs(r,!!a.multiple,a.multiple?[]:"",!1))}r[ji]=a}catch(S){je(e,e.return,S)}}break;case 6:if(xt(t,e),Pt(e),s&4){if(e.stateNode===null)throw Error(M(162));r=e.stateNode,a=e.memoizedProps;try{r.nodeValue=a}catch(S){je(e,e.return,S)}}break;case 3:if(xt(t,e),Pt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{pi(t.containerInfo)}catch(S){je(e,e.return,S)}break;case 4:xt(t,e),Pt(e);break;case 13:xt(t,e),Pt(e),r=e.child,r.flags&8192&&(a=r.memoizedState!==null,r.stateNode.isHidden=a,!a||r.alternate!==null&&r.alternate.memoizedState!==null||(mc=Ne())),s&4&&od(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ve=(u=Ve)||d,xt(t,e),Ve=u):xt(t,e),Pt(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(_=e,d=e.child;d!==null;){for(m=_=d;_!==null;){switch(h=_,v=h.child,h.tag){case 0:case 11:case 14:case 15:si(4,h,h.return);break;case 1:ss(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){s=h,n=h.return;try{t=s,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(S){je(s,n,S)}}break;case 5:ss(h,h.return);break;case 22:if(h.memoizedState!==null){cd(m);continue}}v!==null?(v.return=h,_=v):cd(m)}d=d.sibling}e:for(d=null,m=e;;){if(m.tag===5){if(d===null){d=m;try{r=m.stateNode,u?(a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=rm("display",o))}catch(S){je(e,e.return,S)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(S){je(e,e.return,S)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:xt(t,e),Pt(e),s&4&&od(e);break;case 21:break;default:xt(t,e),Pt(e)}}function Pt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(zf(n)){var s=n;break e}n=n.return}throw Error(M(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(di(r,""),s.flags&=-33);var a=ad(e);ol(e,a,r);break;case 3:case 4:var o=s.stateNode.containerInfo,l=ad(e);al(e,l,o);break;default:throw Error(M(161))}}catch(c){je(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ty(e,t,n){_=e,If(e)}function If(e,t,n){for(var s=(e.mode&1)!==0;_!==null;){var r=_,a=r.child;if(r.tag===22&&s){var o=r.memoizedState!==null||ir;if(!o){var l=r.alternate,c=l!==null&&l.memoizedState!==null||Ve;l=ir;var u=Ve;if(ir=o,(Ve=c)&&!u)for(_=r;_!==null;)o=_,c=o.child,o.tag===22&&o.memoizedState!==null?ud(r):c!==null?(c.return=o,_=c):ud(r);for(;a!==null;)_=a,If(a),a=a.sibling;_=r,ir=l,Ve=u}ld(e)}else r.subtreeFlags&8772&&a!==null?(a.return=r,_=a):ld(e)}}function ld(e){for(;_!==null;){var t=_;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ve||ga(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Ve)if(n===null)s.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:jt(t.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Gu(t,a,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Gu(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&pi(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}Ve||t.flags&512&&rl(t)}catch(h){je(t,t.return,h)}}if(t===e){_=null;break}if(n=t.sibling,n!==null){n.return=t.return,_=n;break}_=t.return}}function cd(e){for(;_!==null;){var t=_;if(t===e){_=null;break}var n=t.sibling;if(n!==null){n.return=t.return,_=n;break}_=t.return}}function ud(e){for(;_!==null;){var t=_;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ga(4,t)}catch(c){je(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var r=t.return;try{s.componentDidMount()}catch(c){je(t,r,c)}}var a=t.return;try{rl(t)}catch(c){je(t,a,c)}break;case 5:var o=t.return;try{rl(t)}catch(c){je(t,o,c)}}}catch(c){je(t,t.return,c)}if(t===e){_=null;break}var l=t.sibling;if(l!==null){l.return=t.return,_=l;break}_=t.return}}var ny=Math.ceil,Kr=qt.ReactCurrentDispatcher,dc=qt.ReactCurrentOwner,ft=qt.ReactCurrentBatchConfig,Q=0,De=null,Se=null,Re=0,Je=0,is=jn(0),Te=0,ki=null,On=0,va=0,hc=0,ii=null,qe=null,mc=0,Cs=1/0,Lt=null,qr=!1,ll=null,hn=null,rr=!1,sn=null,Yr=0,ri=0,cl=null,Nr=-1,Sr=0;function We(){return Q&6?Ne():Nr!==-1?Nr:Nr=Ne()}function mn(e){return e.mode&1?Q&2&&Re!==0?Re&-Re:Fx.transition!==null?(Sr===0&&(Sr=xm()),Sr):(e=ne,e!==0||(e=window.event,e=e===void 0?16:bm(e.type)),e):1}function Ct(e,t,n,s){if(50<ri)throw ri=0,cl=null,Error(M(185));Mi(e,n,s),(!(Q&2)||e!==De)&&(e===De&&(!(Q&2)&&(va|=n),Te===4&&tn(e,Re)),Ze(e,s),n===1&&Q===0&&!(t.mode&1)&&(Cs=Ne()+500,ma&&wn()))}function Ze(e,t){var n=e.callbackNode;Fv(e,t);var s=zr(e,e===De?Re:0);if(s===0)n!==null&&yu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&yu(n),t===1)e.tag===0?Ox(dd.bind(null,e)):Hm(dd.bind(null,e)),Rx(function(){!(Q&6)&&wn()}),n=null;else{switch(ym(s)){case 1:n=Fl;break;case 4:n=gm;break;case 16:n=Dr;break;case 536870912:n=vm;break;default:n=Dr}n=Uf(n,Lf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Lf(e,t){if(Nr=-1,Sr=0,Q&6)throw Error(M(327));var n=e.callbackNode;if(vs()&&e.callbackNode!==n)return null;var s=zr(e,e===De?Re:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Qr(e,s);else{t=s;var r=Q;Q|=2;var a=Of();(De!==e||Re!==t)&&(Lt=null,Cs=Ne()+500,zn(e,t));do try{ry();break}catch(l){_f(e,l)}while(!0);Zl(),Kr.current=a,Q=r,Se!==null?t=0:(De=null,Re=0,t=Te)}if(t!==0){if(t===2&&(r=Lo(e),r!==0&&(s=r,t=ul(e,r))),t===1)throw n=ki,zn(e,0),tn(e,s),Ze(e,Ne()),n;if(t===6)tn(e,s);else{if(r=e.current.alternate,!(s&30)&&!sy(r)&&(t=Qr(e,s),t===2&&(a=Lo(e),a!==0&&(s=a,t=ul(e,a))),t===1))throw n=ki,zn(e,0),tn(e,s),Ze(e,Ne()),n;switch(e.finishedWork=r,e.finishedLanes=s,t){case 0:case 1:throw Error(M(345));case 2:bn(e,qe,Lt);break;case 3:if(tn(e,s),(s&130023424)===s&&(t=mc+500-Ne(),10<t)){if(zr(e,0)!==0)break;if(r=e.suspendedLanes,(r&s)!==s){We(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Ho(bn.bind(null,e,qe,Lt),t);break}bn(e,qe,Lt);break;case 4:if(tn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,r=-1;0<s;){var o=31-St(s);a=1<<o,o=t[o],o>r&&(r=o),s&=~a}if(s=r,s=Ne()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*ny(s/1960))-s,10<s){e.timeoutHandle=Ho(bn.bind(null,e,qe,Lt),s);break}bn(e,qe,Lt);break;case 5:bn(e,qe,Lt);break;default:throw Error(M(329))}}}return Ze(e,Ne()),e.callbackNode===n?Lf.bind(null,e):null}function ul(e,t){var n=ii;return e.current.memoizedState.isDehydrated&&(zn(e,t).flags|=256),e=Qr(e,t),e!==2&&(t=qe,qe=n,t!==null&&dl(t)),e}function dl(e){qe===null?qe=e:qe.push.apply(qe,e)}function sy(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],a=r.getSnapshot;r=r.value;try{if(!bt(a(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function tn(e,t){for(t&=~hc,t&=~va,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-St(t),s=1<<n;e[n]=-1,t&=~s}}function dd(e){if(Q&6)throw Error(M(327));vs();var t=zr(e,0);if(!(t&1))return Ze(e,Ne()),null;var n=Qr(e,t);if(e.tag!==0&&n===2){var s=Lo(e);s!==0&&(t=s,n=ul(e,s))}if(n===1)throw n=ki,zn(e,0),tn(e,t),Ze(e,Ne()),n;if(n===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bn(e,qe,Lt),Ze(e,Ne()),null}function fc(e,t){var n=Q;Q|=1;try{return e(t)}finally{Q=n,Q===0&&(Cs=Ne()+500,ma&&wn())}}function Fn(e){sn!==null&&sn.tag===0&&!(Q&6)&&vs();var t=Q;Q|=1;var n=ft.transition,s=ne;try{if(ft.transition=null,ne=1,e)return e()}finally{ne=s,ft.transition=n,Q=t,!(Q&6)&&wn()}}function pc(){Je=is.current,ue(is)}function zn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Mx(n)),Se!==null)for(n=Se.return;n!==null;){var s=n;switch(Yl(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&_r();break;case 3:Ns(),ue(Qe),ue($e),ic();break;case 5:sc(s);break;case 4:Ns();break;case 13:ue(pe);break;case 19:ue(pe);break;case 10:Jl(s.type._context);break;case 22:case 23:pc()}n=n.return}if(De=e,Se=e=fn(e.current,null),Re=Je=t,Te=0,ki=null,hc=va=On=0,qe=ii=null,Pn!==null){for(t=0;t<Pn.length;t++)if(n=Pn[t],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,a=n.pending;if(a!==null){var o=a.next;a.next=r,s.next=o}n.pending=s}Pn=null}return e}function _f(e,t){do{var n=Se;try{if(Zl(),yr.current=Gr,Wr){for(var s=ve.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Wr=!1}if(_n=0,Ae=ke=ve=null,ni=!1,Si=0,dc.current=null,n===null||n.return===null){Te=1,ki=t,Se=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Re,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Zu(o);if(v!==null){v.flags&=-257,Ju(v,o,l,a,t),v.mode&1&&Xu(a,u,t),t=v,c=u;var w=t.updateQueue;if(w===null){var S=new Set;S.add(c),t.updateQueue=S}else w.add(c);break e}else{if(!(t&1)){Xu(a,u,t),gc();break e}c=Error(M(426))}}else if(he&&l.mode&1){var N=Zu(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Ju(N,o,l,a,t),Ql(Ss(c,l));break e}}a=c=Ss(c,l),Te!==4&&(Te=2),ii===null?ii=[a]:ii.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var f=jf(a,c,t);Wu(a,f);break e;case 1:l=c;var p=a.type,g=a.stateNode;if(!(a.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(hn===null||!hn.has(g)))){a.flags|=65536,t&=-t,a.lanes|=t;var x=wf(a,l,t);Wu(a,x);break e}}a=a.return}while(a!==null)}Vf(n)}catch(b){t=b,Se===n&&n!==null&&(Se=n=n.return);continue}break}while(!0)}function Of(){var e=Kr.current;return Kr.current=Gr,e===null?Gr:e}function gc(){(Te===0||Te===3||Te===2)&&(Te=4),De===null||!(On&268435455)&&!(va&268435455)||tn(De,Re)}function Qr(e,t){var n=Q;Q|=2;var s=Of();(De!==e||Re!==t)&&(Lt=null,zn(e,t));do try{iy();break}catch(r){_f(e,r)}while(!0);if(Zl(),Q=n,Kr.current=s,Se!==null)throw Error(M(261));return De=null,Re=0,Te}function iy(){for(;Se!==null;)Ff(Se)}function ry(){for(;Se!==null&&!Av();)Ff(Se)}function Ff(e){var t=$f(e.alternate,e,Je);e.memoizedProps=e.pendingProps,t===null?Vf(e):Se=t,dc.current=null}function Vf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Zx(n,t),n!==null){n.flags&=32767,Se=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Te=6,Se=null;return}}else if(n=Xx(n,t,Je),n!==null){Se=n;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);Te===0&&(Te=5)}function bn(e,t,n){var s=ne,r=ft.transition;try{ft.transition=null,ne=1,ay(e,t,n,s)}finally{ft.transition=r,ne=s}return null}function ay(e,t,n,s){do vs();while(sn!==null);if(Q&6)throw Error(M(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Vv(e,a),e===De&&(Se=De=null,Re=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||rr||(rr=!0,Uf(Dr,function(){return vs(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=ft.transition,ft.transition=null;var o=ne;ne=1;var l=Q;Q|=4,dc.current=null,ey(e,n),Rf(n,e),kx($o),Mr=!!Bo,$o=Bo=null,e.current=n,ty(n),Dv(),Q=l,ne=o,ft.transition=a}else e.current=n;if(rr&&(rr=!1,sn=e,Yr=r),a=e.pendingLanes,a===0&&(hn=null),Rv(n.stateNode),Ze(e,Ne()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(qr)throw qr=!1,e=ll,ll=null,e;return Yr&1&&e.tag!==0&&vs(),a=e.pendingLanes,a&1?e===cl?ri++:(ri=0,cl=e):ri=0,wn(),null}function vs(){if(sn!==null){var e=ym(Yr),t=ft.transition,n=ne;try{if(ft.transition=null,ne=16>e?16:e,sn===null)var s=!1;else{if(e=sn,sn=null,Yr=0,Q&6)throw Error(M(331));var r=Q;for(Q|=4,_=e.current;_!==null;){var a=_,o=a.child;if(_.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(_=u;_!==null;){var d=_;switch(d.tag){case 0:case 11:case 15:si(8,d,a)}var m=d.child;if(m!==null)m.return=d,_=m;else for(;_!==null;){d=_;var h=d.sibling,v=d.return;if(Df(d),d===u){_=null;break}if(h!==null){h.return=v,_=h;break}_=v}}}var w=a.alternate;if(w!==null){var S=w.child;if(S!==null){w.child=null;do{var N=S.sibling;S.sibling=null,S=N}while(S!==null)}}_=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,_=o;else e:for(;_!==null;){if(a=_,a.flags&2048)switch(a.tag){case 0:case 11:case 15:si(9,a,a.return)}var f=a.sibling;if(f!==null){f.return=a.return,_=f;break e}_=a.return}}var p=e.current;for(_=p;_!==null;){o=_;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,_=g;else e:for(o=p;_!==null;){if(l=_,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ga(9,l)}}catch(b){je(l,l.return,b)}if(l===o){_=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,_=x;break e}_=l.return}}if(Q=r,wn(),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(la,e)}catch{}s=!0}return s}finally{ne=n,ft.transition=t}}return!1}function hd(e,t,n){t=Ss(n,t),t=jf(e,t,1),e=dn(e,t,1),t=We(),e!==null&&(Mi(e,1,t),Ze(e,t))}function je(e,t,n){if(e.tag===3)hd(e,e,n);else for(;t!==null;){if(t.tag===3){hd(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(hn===null||!hn.has(s))){e=Ss(n,e),e=wf(t,e,1),t=dn(t,e,1),e=We(),t!==null&&(Mi(t,1,e),Ze(t,e));break}}t=t.return}}function oy(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=We(),e.pingedLanes|=e.suspendedLanes&n,De===e&&(Re&n)===n&&(Te===4||Te===3&&(Re&130023424)===Re&&500>Ne()-mc?zn(e,0):hc|=n),Ze(e,t)}function Bf(e,t){t===0&&(e.mode&1?(t=Yi,Yi<<=1,!(Yi&130023424)&&(Yi=4194304)):t=1);var n=We();e=Wt(e,t),e!==null&&(Mi(e,t,n),Ze(e,n))}function ly(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Bf(e,n)}function cy(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(M(314))}s!==null&&s.delete(t),Bf(e,n)}var $f;$f=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qe.current)Ye=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ye=!1,Qx(e,t,n);Ye=!!(e.flags&131072)}else Ye=!1,he&&t.flags&1048576&&Wm(t,Vr,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;wr(e,t),e=t.pendingProps;var r=ys(t,$e.current);gs(t,n),r=ac(null,t,s,e,r,n);var a=oc();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xe(s)?(a=!0,Or(t)):a=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,tc(t),r.updater=pa,t.stateNode=r,r._reactInternals=t,Xo(t,s,e,n),t=el(null,t,s,!0,a,n)):(t.tag=0,he&&a&&ql(t),He(null,t,r,n),t=t.child),t;case 16:s=t.elementType;e:{switch(wr(e,t),e=t.pendingProps,r=s._init,s=r(s._payload),t.type=s,r=t.tag=dy(s),e=jt(s,e),r){case 0:t=Jo(null,t,s,e,n);break e;case 1:t=nd(null,t,s,e,n);break e;case 11:t=ed(null,t,s,e,n);break e;case 14:t=td(null,t,s,jt(s.type,e),n);break e}throw Error(M(306,s,""))}return t;case 0:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:jt(s,r),Jo(e,t,s,r,n);case 1:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:jt(s,r),nd(e,t,s,r,n);case 3:e:{if(bf(t),e===null)throw Error(M(387));s=t.pendingProps,a=t.memoizedState,r=a.element,Xm(e,t),Ur(t,s,null,n);var o=t.memoizedState;if(s=o.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){r=Ss(Error(M(423)),t),t=sd(e,t,s,n,r);break e}else if(s!==r){r=Ss(Error(M(424)),t),t=sd(e,t,s,n,r);break e}else for(et=un(t.stateNode.containerInfo.firstChild),tt=t,he=!0,Nt=null,n=Ym(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(js(),s===r){t=Gt(e,t,n);break e}He(e,t,s,n)}t=t.child}return t;case 5:return Zm(t),e===null&&qo(t),s=t.type,r=t.pendingProps,a=e!==null?e.memoizedProps:null,o=r.children,Uo(s,r)?o=null:a!==null&&Uo(s,a)&&(t.flags|=32),Cf(e,t),He(e,t,o,n),t.child;case 6:return e===null&&qo(t),null;case 13:return kf(e,t,n);case 4:return nc(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ws(t,null,s,n):He(e,t,s,n),t.child;case 11:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:jt(s,r),ed(e,t,s,r,n);case 7:return He(e,t,t.pendingProps,n),t.child;case 8:return He(e,t,t.pendingProps.children,n),t.child;case 12:return He(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,r=t.pendingProps,a=t.memoizedProps,o=r.value,le(Br,s._currentValue),s._currentValue=o,a!==null)if(bt(a.value,o)){if(a.children===r.children&&!Qe.current){t=Gt(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=Vt(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Yo(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(M(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Yo(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}He(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,s=t.pendingProps.children,gs(t,n),r=pt(r),s=s(r),t.flags|=1,He(e,t,s,n),t.child;case 14:return s=t.type,r=jt(s,t.pendingProps),r=jt(s.type,r),td(e,t,s,r,n);case 15:return Nf(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:jt(s,r),wr(e,t),t.tag=1,Xe(s)?(e=!0,Or(t)):e=!1,gs(t,n),yf(t,s,r),Xo(t,s,r,n),el(null,t,s,!0,e,n);case 19:return Tf(e,t,n);case 22:return Sf(e,t,n)}throw Error(M(156,t.tag))};function Uf(e,t){return pm(e,t)}function uy(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mt(e,t,n,s){return new uy(e,t,n,s)}function vc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dy(e){if(typeof e=="function")return vc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ll)return 11;if(e===_l)return 14}return 2}function fn(e,t){var n=e.alternate;return n===null?(n=mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Cr(e,t,n,s,r,a){var o=2;if(s=e,typeof e=="function")vc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case qn:return Mn(n.children,r,a,t);case Il:o=8,r|=8;break;case wo:return e=mt(12,n,t,r|2),e.elementType=wo,e.lanes=a,e;case No:return e=mt(13,n,t,r),e.elementType=No,e.lanes=a,e;case So:return e=mt(19,n,t,r),e.elementType=So,e.lanes=a,e;case Zh:return xa(n,r,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Qh:o=10;break e;case Xh:o=9;break e;case Ll:o=11;break e;case _l:o=14;break e;case Zt:o=16,s=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=mt(o,n,t,r),t.elementType=e,t.type=s,t.lanes=a,t}function Mn(e,t,n,s){return e=mt(7,e,s,t),e.lanes=n,e}function xa(e,t,n,s){return e=mt(22,e,s,t),e.elementType=Zh,e.lanes=n,e.stateNode={isHidden:!1},e}function so(e,t,n){return e=mt(6,e,null,t),e.lanes=n,e}function io(e,t,n){return t=mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hy(e,t,n,s,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oa(0),this.expirationTimes=Oa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oa(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function xc(e,t,n,s,r,a,o,l,c){return e=new hy(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=mt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},tc(a),e}function my(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kn,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Hf(e){if(!e)return gn;e=e._reactInternals;e:{if(Bn(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var n=e.type;if(Xe(n))return Um(e,n,t)}return t}function Wf(e,t,n,s,r,a,o,l,c){return e=xc(n,s,!0,e,r,a,o,l,c),e.context=Hf(null),n=e.current,s=We(),r=mn(n),a=Vt(s,r),a.callback=t??null,dn(n,a,r),e.current.lanes=r,Mi(e,r,s),Ze(e,s),e}function ya(e,t,n,s){var r=t.current,a=We(),o=mn(r);return n=Hf(n),t.context===null?t.context=n:t.pendingContext=n,t=Vt(a,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=dn(r,t,o),e!==null&&(Ct(e,r,o,a),xr(e,r,o)),o}function Xr(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function md(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function yc(e,t){md(e,t),(e=e.alternate)&&md(e,t)}function fy(){return null}var Gf=typeof reportError=="function"?reportError:function(e){console.error(e)};function jc(e){this._internalRoot=e}ja.prototype.render=jc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));ya(e,t,null,null)};ja.prototype.unmount=jc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fn(function(){ya(null,e,null,null)}),t[Ht]=null}};function ja(e){this._internalRoot=e}ja.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<en.length&&t!==0&&t<en[n].priority;n++);en.splice(n,0,e),n===0&&Cm(e)}};function wc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fd(){}function py(e,t,n,s,r){if(r){if(typeof s=="function"){var a=s;s=function(){var u=Xr(o);a.call(u)}}var o=Wf(t,s,e,0,null,!1,!1,"",fd);return e._reactRootContainer=o,e[Ht]=o.current,xi(e.nodeType===8?e.parentNode:e),Fn(),o}for(;r=e.lastChild;)e.removeChild(r);if(typeof s=="function"){var l=s;s=function(){var u=Xr(c);l.call(u)}}var c=xc(e,0,!1,null,null,!1,!1,"",fd);return e._reactRootContainer=c,e[Ht]=c.current,xi(e.nodeType===8?e.parentNode:e),Fn(function(){ya(t,c,n,s)}),c}function Na(e,t,n,s,r){var a=n._reactRootContainer;if(a){var o=a;if(typeof r=="function"){var l=r;r=function(){var c=Xr(o);l.call(c)}}ya(t,o,e,r)}else o=py(n,t,e,r,s);return Xr(o)}jm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Gs(t.pendingLanes);n!==0&&(Vl(t,n|1),Ze(t,Ne()),!(Q&6)&&(Cs=Ne()+500,wn()))}break;case 13:Fn(function(){var s=Wt(e,1);if(s!==null){var r=We();Ct(s,e,1,r)}}),yc(e,1)}};Bl=function(e){if(e.tag===13){var t=Wt(e,134217728);if(t!==null){var n=We();Ct(t,e,134217728,n)}yc(e,134217728)}};wm=function(e){if(e.tag===13){var t=mn(e),n=Wt(e,t);if(n!==null){var s=We();Ct(n,e,t,s)}yc(e,t)}};Nm=function(){return ne};Sm=function(e,t){var n=ne;try{return ne=e,t()}finally{ne=n}};Mo=function(e,t,n){switch(t){case"input":if(ko(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var r=ha(s);if(!r)throw Error(M(90));em(s),ko(s,r)}}}break;case"textarea":nm(e,n);break;case"select":t=n.value,t!=null&&hs(e,!!n.multiple,t,!1)}};cm=fc;um=Fn;var gy={usingClientEntryPoint:!1,Events:[Ii,Zn,ha,om,lm,fc]},$s={findFiberByHostInstance:En,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vy={bundleType:$s.bundleType,version:$s.version,rendererPackageName:$s.rendererPackageName,rendererConfig:$s.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=mm(e),e===null?null:e.stateNode},findFiberByHostInstance:$s.findFiberByHostInstance||fy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ar=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ar.isDisabled&&ar.supportsFiber)try{la=ar.inject(vy),zt=ar}catch{}}rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gy;rt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wc(t))throw Error(M(200));return my(e,t,null,n)};rt.createRoot=function(e,t){if(!wc(e))throw Error(M(299));var n=!1,s="",r=Gf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=xc(e,1,!1,null,null,n,!1,s,r),e[Ht]=t.current,xi(e.nodeType===8?e.parentNode:e),new jc(t)};rt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=mm(t),e=e===null?null:e.stateNode,e};rt.flushSync=function(e){return Fn(e)};rt.hydrate=function(e,t,n){if(!wa(t))throw Error(M(200));return Na(null,e,t,!0,n)};rt.hydrateRoot=function(e,t,n){if(!wc(e))throw Error(M(405));var s=n!=null&&n.hydratedSources||null,r=!1,a="",o=Gf;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Wf(t,null,e,1,n??null,r,!1,a,o),e[Ht]=t.current,xi(e),s)for(e=0;e<s.length;e++)n=s[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new ja(t)};rt.render=function(e,t,n){if(!wa(t))throw Error(M(200));return Na(null,e,t,!1,n)};rt.unmountComponentAtNode=function(e){if(!wa(e))throw Error(M(40));return e._reactRootContainer?(Fn(function(){Na(null,null,e,!1,function(){e._reactRootContainer=null,e[Ht]=null})}),!0):!1};rt.unstable_batchedUpdates=fc;rt.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!wa(n))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return Na(e,t,n,!1,s)};rt.version="18.3.1-next-f1338f8080-20240426";function Kf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kf)}catch(e){console.error(e)}}Kf(),Gh.exports=rt;var xy=Gh.exports,pd=xy;yo.createRoot=pd.createRoot,yo.hydrateRoot=pd.hydrateRoot;const Nc=y.createContext({});function Sc(e){const t=y.useRef(null);return t.current===null&&(t.current=e()),t.current}const Sa=y.createContext(null),Cc=y.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class yy extends y.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function jy({children:e,isPresent:t}){const n=y.useId(),s=y.useRef(null),r=y.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=y.useContext(Cc);return y.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=r.current;if(t||!s.current||!o||!l)return;s.current.dataset.motionPopId=n;const d=document.createElement("style");return a&&(d.nonce=a),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),i.jsx(yy,{isPresent:t,childRef:s,sizeRef:r,children:y.cloneElement(e,{ref:s})})}const wy=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:a,mode:o})=>{const l=Sc(Ny),c=y.useId(),u=y.useCallback(m=>{l.set(m,!0);for(const h of l.values())if(!h)return;s&&s()},[l,s]),d=y.useMemo(()=>({id:c,initial:t,isPresent:n,custom:r,onExitComplete:u,register:m=>(l.set(m,!1),()=>l.delete(m))}),a?[Math.random(),u]:[n,u]);return y.useMemo(()=>{l.forEach((m,h)=>l.set(h,!1))},[n]),y.useEffect(()=>{!n&&!l.size&&s&&s()},[n]),o==="popLayout"&&(e=i.jsx(jy,{isPresent:n,children:e})),i.jsx(Sa.Provider,{value:d,children:e})};function Ny(){return new Map}function qf(e=!0){const t=y.useContext(Sa);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:r}=t,a=y.useId();y.useEffect(()=>{e&&r(a)},[e]);const o=y.useCallback(()=>e&&s&&s(a),[a,s,e]);return!n&&s?[!1,o]:[!0]}const or=e=>e.key||"";function gd(e){const t=[];return y.Children.forEach(e,n=>{y.isValidElement(n)&&t.push(n)}),t}const bc=typeof window<"u",Yf=bc?y.useLayoutEffect:y.useEffect,Qf=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:r=!0,mode:a="sync",propagate:o=!1})=>{const[l,c]=qf(o),u=y.useMemo(()=>gd(e),[e]),d=o&&!l?[]:u.map(or),m=y.useRef(!0),h=y.useRef(u),v=Sc(()=>new Map),[w,S]=y.useState(u),[N,f]=y.useState(u);Yf(()=>{m.current=!1,h.current=u;for(let x=0;x<N.length;x++){const b=or(N[x]);d.includes(b)?v.delete(b):v.get(b)!==!0&&v.set(b,!1)}},[N,d.length,d.join("-")]);const p=[];if(u!==w){let x=[...u];for(let b=0;b<N.length;b++){const j=N[b],C=or(j);d.includes(C)||(x.splice(b,0,j),p.push(j))}a==="wait"&&p.length&&(x=p),f(gd(x)),S(u);return}const{forceRender:g}=y.useContext(Nc);return i.jsx(i.Fragment,{children:N.map(x=>{const b=or(x),j=o&&!l?!1:u===N||d.includes(b),C=()=>{if(v.has(b))v.set(b,!0);else return;let T=!0;v.forEach(k=>{k||(T=!1)}),T&&(g==null||g(),f(h.current),o&&(c==null||c()),s&&s())};return i.jsx(wy,{isPresent:j,initial:!m.current||n?void 0:!1,custom:j?void 0:t,presenceAffectsLayout:r,mode:a,onExitComplete:j?void 0:C,children:x},b)})})},nt=e=>e;let Xf=nt;function kc(e){let t;return()=>(t===void 0&&(t=e()),t)}const bs=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s},Bt=e=>e*1e3,$t=e=>e/1e3,Sy={useManualTiming:!1};function Cy(e){let t=new Set,n=new Set,s=!1,r=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){a.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,d=!1,m=!1)=>{const v=m&&s?t:n;return d&&a.add(u),v.has(u)||v.add(u),u},cancel:u=>{n.delete(u),a.delete(u)},process:u=>{if(o=u,s){r=!0;return}s=!0,[t,n]=[n,t],t.forEach(l),t.clear(),s=!1,r&&(r=!1,c.process(u))}};return c}const lr=["read","resolveKeyframes","update","preRender","render","postRender"],by=40;function Zf(e,t){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=lr.reduce((f,p)=>(f[p]=Cy(a),f),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:m,postRender:h}=o,v=()=>{const f=performance.now();n=!1,r.delta=s?1e3/60:Math.max(Math.min(f-r.timestamp,by),1),r.timestamp=f,r.isProcessing=!0,l.process(r),c.process(r),u.process(r),d.process(r),m.process(r),h.process(r),r.isProcessing=!1,n&&t&&(s=!1,e(v))},w=()=>{n=!0,s=!0,r.isProcessing||e(v)};return{schedule:lr.reduce((f,p)=>{const g=o[p];return f[p]=(x,b=!1,j=!1)=>(n||w(),g.schedule(x,b,j)),f},{}),cancel:f=>{for(let p=0;p<lr.length;p++)o[lr[p]].cancel(f)},state:r,steps:o}}const{schedule:de,cancel:vn,state:Me,steps:ro}=Zf(typeof requestAnimationFrame<"u"?requestAnimationFrame:nt,!0),Jf=y.createContext({strict:!1}),vd={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ks={};for(const e in vd)ks[e]={isEnabled:t=>vd[e].some(n=>!!t[n])};function ky(e){for(const t in e)ks[t]={...ks[t],...e[t]}}const Ty=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Zr(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Ty.has(e)}let ep=e=>!Zr(e);function Ey(e){e&&(ep=t=>t.startsWith("on")?!Zr(t):e(t))}try{Ey(require("@emotion/is-prop-valid").default)}catch{}function Py(e,t,n){const s={};for(const r in e)r==="values"&&typeof e.values=="object"||(ep(r)||n===!0&&Zr(r)||!t&&!Zr(r)||e.draggable&&r.startsWith("onDrag"))&&(s[r]=e[r]);return s}function Ay(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...s)=>e(...s);return new Proxy(n,{get:(s,r)=>r==="create"?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}const Ca=y.createContext({});function Ti(e){return typeof e=="string"||Array.isArray(e)}function ba(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Tc=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ec=["initial",...Tc];function ka(e){return ba(e.animate)||Ec.some(t=>Ti(e[t]))}function tp(e){return!!(ka(e)||e.variants)}function Dy(e,t){if(ka(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Ti(n)?n:void 0,animate:Ti(s)?s:void 0}}return e.inherit!==!1?t:{}}function zy(e){const{initial:t,animate:n}=Dy(e,y.useContext(Ca));return y.useMemo(()=>({initial:t,animate:n}),[xd(t),xd(n)])}function xd(e){return Array.isArray(e)?e.join(" "):e}const My=Symbol.for("motionComponentSymbol");function rs(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Ry(e,t,n){return y.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):rs(n)&&(n.current=s))},[t])}const Pc=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Iy="framerAppearId",np="data-"+Pc(Iy),{schedule:Ac}=Zf(queueMicrotask,!1),sp=y.createContext({});function Ly(e,t,n,s,r){var a,o;const{visualElement:l}=y.useContext(Ca),c=y.useContext(Jf),u=y.useContext(Sa),d=y.useContext(Cc).reducedMotion,m=y.useRef(null);s=s||c.renderer,!m.current&&s&&(m.current=s(e,{visualState:t,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const h=m.current,v=y.useContext(sp);h&&!h.projection&&r&&(h.type==="html"||h.type==="svg")&&_y(m.current,n,r,v);const w=y.useRef(!1);y.useInsertionEffect(()=>{h&&w.current&&h.update(n,u)});const S=n[np],N=y.useRef(!!S&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,S))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,S)));return Yf(()=>{h&&(w.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),Ac.render(h.render),N.current&&h.animationState&&h.animationState.animateChanges())}),y.useEffect(()=>{h&&(!N.current&&h.animationState&&h.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{var f;(f=window.MotionHandoffMarkAsComplete)===null||f===void 0||f.call(window,S)}),N.current=!1))}),h}function _y(e,t,n,s){const{layoutId:r,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:ip(e.parent)),e.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:!!o||l&&rs(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,layoutScroll:c,layoutRoot:u})}function ip(e){if(e)return e.options.allowProjection!==!1?e.projection:ip(e.parent)}function Oy({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:s,Component:r}){var a,o;e&&ky(e);function l(u,d){let m;const h={...y.useContext(Cc),...u,layoutId:Fy(u)},{isStatic:v}=h,w=zy(u),S=s(u,v);if(!v&&bc){Vy();const N=By(h);m=N.MeasureLayout,w.visualElement=Ly(r,S,h,t,N.ProjectionNode)}return i.jsxs(Ca.Provider,{value:w,children:[m&&w.visualElement?i.jsx(m,{visualElement:w.visualElement,...h}):null,n(r,u,Ry(S,w.visualElement,d),S,v,w.visualElement)]})}l.displayName=`motion.${typeof r=="string"?r:`create(${(o=(a=r.displayName)!==null&&a!==void 0?a:r.name)!==null&&o!==void 0?o:""})`}`;const c=y.forwardRef(l);return c[My]=r,c}function Fy({layoutId:e}){const t=y.useContext(Nc).id;return t&&e!==void 0?t+"-"+e:e}function Vy(e,t){y.useContext(Jf).strict}function By(e){const{drag:t,layout:n}=ks;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const $y=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Dc(e){return typeof e!="string"||e.includes("-")?!1:!!($y.indexOf(e)>-1||/[A-Z]/u.test(e))}function yd(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function zc(e,t,n,s){if(typeof t=="function"){const[r,a]=yd(s);t=t(n!==void 0?n:e.custom,r,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[r,a]=yd(s);t=t(n!==void 0?n:e.custom,r,a)}return t}const hl=e=>Array.isArray(e),Uy=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Hy=e=>hl(e)?e[e.length-1]||0:e,Be=e=>!!(e&&e.getVelocity);function br(e){const t=Be(e)?e.get():e;return Uy(t)?t.toValue():t}function Wy({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},s,r,a){const o={latestValues:Gy(s,r,a,e),renderState:t()};return n&&(o.onMount=l=>n({props:s,current:l,...o}),o.onUpdate=l=>n(l)),o}const rp=e=>(t,n)=>{const s=y.useContext(Ca),r=y.useContext(Sa),a=()=>Wy(e,t,s,r);return n?a():Sc(a)};function Gy(e,t,n,s){const r={},a=s(e,{});for(const h in a)r[h]=br(a[h]);let{initial:o,animate:l}=e;const c=ka(e),u=tp(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const m=d?l:o;if(m&&typeof m!="boolean"&&!ba(m)){const h=Array.isArray(m)?m:[m];for(let v=0;v<h.length;v++){const w=zc(e,h[v]);if(w){const{transitionEnd:S,transition:N,...f}=w;for(const p in f){let g=f[p];if(Array.isArray(g)){const x=d?g.length-1:0;g=g[x]}g!==null&&(r[p]=g)}for(const p in S)r[p]=S[p]}}}return r}const Ds=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$n=new Set(Ds),ap=e=>t=>typeof t=="string"&&t.startsWith(e),op=ap("--"),Ky=ap("var(--"),Mc=e=>Ky(e)?qy.test(e.split("/*")[0].trim()):!1,qy=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,lp=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Kt=(e,t,n)=>n>t?t:n<e?e:n,zs={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ei={...zs,transform:e=>Kt(0,1,e)},cr={...zs,default:1},_i=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Xt=_i("deg"),Rt=_i("%"),$=_i("px"),Yy=_i("vh"),Qy=_i("vw"),jd={...Rt,parse:e=>Rt.parse(e)/100,transform:e=>Rt.transform(e*100)},Xy={borderWidth:$,borderTopWidth:$,borderRightWidth:$,borderBottomWidth:$,borderLeftWidth:$,borderRadius:$,radius:$,borderTopLeftRadius:$,borderTopRightRadius:$,borderBottomRightRadius:$,borderBottomLeftRadius:$,width:$,maxWidth:$,height:$,maxHeight:$,top:$,right:$,bottom:$,left:$,padding:$,paddingTop:$,paddingRight:$,paddingBottom:$,paddingLeft:$,margin:$,marginTop:$,marginRight:$,marginBottom:$,marginLeft:$,backgroundPositionX:$,backgroundPositionY:$},Zy={rotate:Xt,rotateX:Xt,rotateY:Xt,rotateZ:Xt,scale:cr,scaleX:cr,scaleY:cr,scaleZ:cr,skew:Xt,skewX:Xt,skewY:Xt,distance:$,translateX:$,translateY:$,translateZ:$,x:$,y:$,z:$,perspective:$,transformPerspective:$,opacity:Ei,originX:jd,originY:jd,originZ:$},wd={...zs,transform:Math.round},Rc={...Xy,...Zy,zIndex:wd,size:$,fillOpacity:Ei,strokeOpacity:Ei,numOctaves:wd},Jy={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},e0=Ds.length;function t0(e,t,n){let s="",r=!0;for(let a=0;a<e0;a++){const o=Ds[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=lp(l,Rc[o]);if(!c){r=!1;const d=Jy[o]||o;s+=`${d}(${u}) `}n&&(t[o]=u)}}return s=s.trim(),n?s=n(t,r?"":s):r&&(s="none"),s}function Ic(e,t,n){const{style:s,vars:r,transformOrigin:a}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if($n.has(c)){o=!0;continue}else if(op(c)){r[c]=u;continue}else{const d=lp(u,Rc[c]);c.startsWith("origin")?(l=!0,a[c]=d):s[c]=d}}if(t.transform||(o||n?s.transform=t0(t,e.transform,n):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=a;s.transformOrigin=`${c} ${u} ${d}`}}const n0={offset:"stroke-dashoffset",array:"stroke-dasharray"},s0={offset:"strokeDashoffset",array:"strokeDasharray"};function i0(e,t,n=1,s=0,r=!0){e.pathLength=1;const a=r?n0:s0;e[a.offset]=$.transform(-s);const o=$.transform(t),l=$.transform(n);e[a.array]=`${o} ${l}`}function Nd(e,t,n){return typeof e=="string"?e:$.transform(t+n*e)}function r0(e,t,n){const s=Nd(t,e.x,e.width),r=Nd(n,e.y,e.height);return`${s} ${r}`}function Lc(e,{attrX:t,attrY:n,attrScale:s,originX:r,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,m){if(Ic(e,u,m),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:v,dimensions:w}=e;h.transform&&(w&&(v.transform=h.transform),delete h.transform),w&&(r!==void 0||a!==void 0||v.transform)&&(v.transformOrigin=r0(w,r!==void 0?r:.5,a!==void 0?a:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),s!==void 0&&(h.scale=s),o!==void 0&&i0(h,o,l,c,!1)}const _c=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),cp=()=>({..._c(),attrs:{}}),Oc=e=>typeof e=="string"&&e.toLowerCase()==="svg";function up(e,{style:t,vars:n},s,r){Object.assign(e.style,t,r&&r.getProjectionStyles(s));for(const a in n)e.style.setProperty(a,n[a])}const dp=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hp(e,t,n,s){up(e,t,void 0,s);for(const r in t.attrs)e.setAttribute(dp.has(r)?r:Pc(r),t.attrs[r])}const Jr={};function a0(e){Object.assign(Jr,e)}function mp(e,{layout:t,layoutId:n}){return $n.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Jr[e]||e==="opacity")}function Fc(e,t,n){var s;const{style:r}=e,a={};for(const o in r)(Be(r[o])||t.style&&Be(t.style[o])||mp(o,e)||((s=n==null?void 0:n.getValue(o))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(a[o]=r[o]);return a}function fp(e,t,n){const s=Fc(e,t,n);for(const r in e)if(Be(e[r])||Be(t[r])){const a=Ds.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[a]=e[r]}return s}function o0(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Sd=["x","y","width","height","cx","cy","r"],l0={useVisualState:rp({scrapeMotionValuesFromProps:fp,createRenderState:cp,onUpdate:({props:e,prevProps:t,current:n,renderState:s,latestValues:r})=>{if(!n)return;let a=!!e.drag;if(!a){for(const l in r)if($n.has(l)){a=!0;break}}if(!a)return;let o=!t;if(t)for(let l=0;l<Sd.length;l++){const c=Sd[l];e[c]!==t[c]&&(o=!0)}o&&de.read(()=>{o0(n,s),de.render(()=>{Lc(s,r,Oc(n.tagName),e.transformTemplate),hp(n,s)})})}})},c0={useVisualState:rp({scrapeMotionValuesFromProps:Fc,createRenderState:_c})};function pp(e,t,n){for(const s in t)!Be(t[s])&&!mp(s,n)&&(e[s]=t[s])}function u0({transformTemplate:e},t){return y.useMemo(()=>{const n=_c();return Ic(n,t,e),Object.assign({},n.vars,n.style)},[t])}function d0(e,t){const n=e.style||{},s={};return pp(s,n,e),Object.assign(s,u0(e,t)),s}function h0(e,t){const n={},s=d0(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}function m0(e,t,n,s){const r=y.useMemo(()=>{const a=cp();return Lc(a,t,Oc(s),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};pp(a,e.style,e),r.style={...a,...r.style}}return r}function f0(e=!1){return(n,s,r,{latestValues:a},o)=>{const c=(Dc(n)?m0:h0)(s,a,o,n),u=Py(s,typeof n=="string",e),d=n!==y.Fragment?{...u,...c,ref:r}:{},{children:m}=s,h=y.useMemo(()=>Be(m)?m.get():m,[m]);return y.createElement(n,{...d,children:h})}}function p0(e,t){return function(s,{forwardMotionProps:r}={forwardMotionProps:!1}){const o={...Dc(s)?l0:c0,preloadedFeatures:e,useRender:f0(r),createVisualElement:t,Component:s};return Oy(o)}}function gp(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}function Ta(e,t,n){const s=e.getProps();return zc(s,t,n!==void 0?n:s.custom,e)}const g0=kc(()=>window.ScrollTimeline!==void 0);class v0{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let s=0;s<this.animations.length;s++)this.animations[s][t]=n}attachTimeline(t,n){const s=this.animations.map(r=>{if(g0()&&r.attachTimeline)return r.attachTimeline(t);if(typeof n=="function")return n(r)});return()=>{s.forEach((r,a)=>{r&&r(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class x0 extends v0{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function Vc(e,t){return e?e[t]||e.default||e:void 0}const ml=2e4;function vp(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<ml;)t+=n,s=e.next(t);return t>=ml?1/0:t}function Bc(e){return typeof e=="function"}function Cd(e,t){e.timeline=t,e.onfinish=null}const $c=e=>Array.isArray(e)&&typeof e[0]=="number",y0={linearEasing:void 0};function j0(e,t){const n=kc(e);return()=>{var s;return(s=y0[t])!==null&&s!==void 0?s:n()}}const ea=j0(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),xp=(e,t,n=10)=>{let s="";const r=Math.max(Math.round(t/n),2);for(let a=0;a<r;a++)s+=e(bs(0,r-1,a))+", ";return`linear(${s.substring(0,s.length-2)})`};function yp(e){return!!(typeof e=="function"&&ea()||!e||typeof e=="string"&&(e in fl||ea())||$c(e)||Array.isArray(e)&&e.every(yp))}const qs=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,fl={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qs([0,.65,.55,1]),circOut:qs([.55,0,1,.45]),backIn:qs([.31,.01,.66,-.59]),backOut:qs([.33,1.53,.69,.99])};function jp(e,t){if(e)return typeof e=="function"&&ea()?xp(e,t):$c(e)?qs(e):Array.isArray(e)?e.map(n=>jp(n,t)||fl.easeOut):fl[e]}const yt={x:!1,y:!1};function wp(){return yt.x||yt.y}function w0(e,t,n){var s;if(e instanceof Element)return[e];if(typeof e=="string"){let r=document;const a=(s=void 0)!==null&&s!==void 0?s:r.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function Np(e,t){const n=w0(e),s=new AbortController,r={passive:!0,...t,signal:s.signal};return[n,r,()=>s.abort()]}function bd(e){return t=>{t.pointerType==="touch"||wp()||e(t)}}function N0(e,t,n={}){const[s,r,a]=Np(e,n),o=bd(l=>{const{target:c}=l,u=t(l);if(typeof u!="function"||!c)return;const d=bd(m=>{u(m),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,r)});return s.forEach(l=>{l.addEventListener("pointerenter",o,r)}),a}const Sp=(e,t)=>t?e===t?!0:Sp(e,t.parentElement):!1,Uc=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,S0=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function C0(e){return S0.has(e.tagName)||e.tabIndex!==-1}const Ys=new WeakSet;function kd(e){return t=>{t.key==="Enter"&&e(t)}}function ao(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const b0=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=kd(()=>{if(Ys.has(n))return;ao(n,"down");const r=kd(()=>{ao(n,"up")}),a=()=>ao(n,"cancel");n.addEventListener("keyup",r,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function Td(e){return Uc(e)&&!wp()}function k0(e,t,n={}){const[s,r,a]=Np(e,n),o=l=>{const c=l.currentTarget;if(!Td(l)||Ys.has(c))return;Ys.add(c);const u=t(l),d=(v,w)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",h),!(!Td(v)||!Ys.has(c))&&(Ys.delete(c),typeof u=="function"&&u(v,{success:w}))},m=v=>{d(v,n.useGlobalTarget||Sp(c,v.target))},h=v=>{d(v,!1)};window.addEventListener("pointerup",m,r),window.addEventListener("pointercancel",h,r)};return s.forEach(l=>{!C0(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,r),l.addEventListener("focus",u=>b0(u,r),r)}),a}function T0(e){return e==="x"||e==="y"?yt[e]?null:(yt[e]=!0,()=>{yt[e]=!1}):yt.x||yt.y?null:(yt.x=yt.y=!0,()=>{yt.x=yt.y=!1})}const Cp=new Set(["width","height","top","left","right","bottom",...Ds]);let kr;function E0(){kr=void 0}const It={now:()=>(kr===void 0&&It.set(Me.isProcessing||Sy.useManualTiming?Me.timestamp:performance.now()),kr),set:e=>{kr=e,queueMicrotask(E0)}};function Hc(e,t){e.indexOf(t)===-1&&e.push(t)}function Wc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Gc{constructor(){this.subscriptions=[]}add(t){return Hc(this.subscriptions,t),()=>Wc(this.subscriptions,t)}notify(t,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,n,s);else for(let a=0;a<r;a++){const o=this.subscriptions[a];o&&o(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function bp(e,t){return t?e*(1e3/t):0}const Ed=30,P0=e=>!isNaN(parseFloat(e));class A0{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,r=!0)=>{const a=It.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=It.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=P0(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Gc);const s=this.events[t].add(n);return t==="change"?()=>{s(),de.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=It.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Ed)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Ed);return bp(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Pi(e,t){return new A0(e,t)}function D0(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Pi(n))}function z0(e,t){const n=Ta(e,t);let{transitionEnd:s={},transition:r={},...a}=n||{};a={...a,...s};for(const o in a){const l=Hy(a[o]);D0(e,o,l)}}function M0(e){return!!(Be(e)&&e.add)}function pl(e,t){const n=e.getValue("willChange");if(M0(n))return n.add(t)}function kp(e){return e.props[np]}const Tp=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,R0=1e-7,I0=12;function L0(e,t,n,s,r){let a,o,l=0;do o=t+(n-t)/2,a=Tp(o,s,r)-e,a>0?n=o:t=o;while(Math.abs(a)>R0&&++l<I0);return o}function Oi(e,t,n,s){if(e===t&&n===s)return nt;const r=a=>L0(a,0,1,e,n);return a=>a===0||a===1?a:Tp(r(a),t,s)}const Ep=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Pp=e=>t=>1-e(1-t),Ap=Oi(.33,1.53,.69,.99),Kc=Pp(Ap),Dp=Ep(Kc),zp=e=>(e*=2)<1?.5*Kc(e):.5*(2-Math.pow(2,-10*(e-1))),qc=e=>1-Math.sin(Math.acos(e)),Mp=Pp(qc),Rp=Ep(qc),Ip=e=>/^0[^.\s]+$/u.test(e);function _0(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Ip(e):!0}const ai=e=>Math.round(e*1e5)/1e5,Yc=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function O0(e){return e==null}const F0=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Qc=(e,t)=>n=>!!(typeof n=="string"&&F0.test(n)&&n.startsWith(e)||t&&!O0(n)&&Object.prototype.hasOwnProperty.call(n,t)),Lp=(e,t,n)=>s=>{if(typeof s!="string")return s;const[r,a,o,l]=s.match(Yc);return{[e]:parseFloat(r),[t]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},V0=e=>Kt(0,255,e),oo={...zs,transform:e=>Math.round(V0(e))},Dn={test:Qc("rgb","red"),parse:Lp("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+oo.transform(e)+", "+oo.transform(t)+", "+oo.transform(n)+", "+ai(Ei.transform(s))+")"};function B0(e){let t="",n="",s="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,s+=s,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const gl={test:Qc("#"),parse:B0,transform:Dn.transform},as={test:Qc("hsl","hue"),parse:Lp("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Rt.transform(ai(t))+", "+Rt.transform(ai(n))+", "+ai(Ei.transform(s))+")"},Fe={test:e=>Dn.test(e)||gl.test(e)||as.test(e),parse:e=>Dn.test(e)?Dn.parse(e):as.test(e)?as.parse(e):gl.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Dn.transform(e):as.transform(e)},$0=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function U0(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Yc))===null||t===void 0?void 0:t.length)||0)+(((n=e.match($0))===null||n===void 0?void 0:n.length)||0)>0}const _p="number",Op="color",H0="var",W0="var(",Pd="${}",G0=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ai(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},r=[];let a=0;const l=t.replace(G0,c=>(Fe.test(c)?(s.color.push(a),r.push(Op),n.push(Fe.parse(c))):c.startsWith(W0)?(s.var.push(a),r.push(H0),n.push(c)):(s.number.push(a),r.push(_p),n.push(parseFloat(c))),++a,Pd)).split(Pd);return{values:n,split:l,indexes:s,types:r}}function Fp(e){return Ai(e).values}function Vp(e){const{split:t,types:n}=Ai(e),s=t.length;return r=>{let a="";for(let o=0;o<s;o++)if(a+=t[o],r[o]!==void 0){const l=n[o];l===_p?a+=ai(r[o]):l===Op?a+=Fe.transform(r[o]):a+=r[o]}return a}}const K0=e=>typeof e=="number"?0:e;function q0(e){const t=Fp(e);return Vp(e)(t.map(K0))}const xn={test:U0,parse:Fp,createTransformer:Vp,getAnimatableNone:q0},Y0=new Set(["brightness","contrast","saturate","opacity"]);function Q0(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Yc)||[];if(!s)return e;const r=n.replace(s,"");let a=Y0.has(t)?1:0;return s!==n&&(a*=100),t+"("+a+r+")"}const X0=/\b([a-z-]*)\(.*?\)/gu,vl={...xn,getAnimatableNone:e=>{const t=e.match(X0);return t?t.map(Q0).join(" "):e}},Z0={...Rc,color:Fe,backgroundColor:Fe,outlineColor:Fe,fill:Fe,stroke:Fe,borderColor:Fe,borderTopColor:Fe,borderRightColor:Fe,borderBottomColor:Fe,borderLeftColor:Fe,filter:vl,WebkitFilter:vl},Xc=e=>Z0[e];function Bp(e,t){let n=Xc(e);return n!==vl&&(n=xn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const J0=new Set(["auto","none","0"]);function ej(e,t,n){let s=0,r;for(;s<e.length&&!r;){const a=e[s];typeof a=="string"&&!J0.has(a)&&Ai(a).values.length&&(r=e[s]),s++}if(r&&n)for(const a of t)e[a]=Bp(n,r)}const Ad=e=>e===zs||e===$,Dd=(e,t)=>parseFloat(e.split(", ")[t]),zd=(e,t)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const r=s.match(/^matrix3d\((.+)\)$/u);if(r)return Dd(r[1],t);{const a=s.match(/^matrix\((.+)\)$/u);return a?Dd(a[1],e):0}},tj=new Set(["x","y","z"]),nj=Ds.filter(e=>!tj.has(e));function sj(e){const t=[];return nj.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Ts={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:zd(4,13),y:zd(5,14)};Ts.translateX=Ts.x;Ts.translateY=Ts.y;const Rn=new Set;let xl=!1,yl=!1;function $p(){if(yl){const e=Array.from(Rn).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const r=sj(s);r.length&&(n.set(s,r),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const r=n.get(s);r&&r.forEach(([a,o])=>{var l;(l=s.getValue(a))===null||l===void 0||l.set(o)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}yl=!1,xl=!1,Rn.forEach(e=>e.complete()),Rn.clear()}function Up(){Rn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(yl=!0)})}function ij(){Up(),$p()}class Zc{constructor(t,n,s,r,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=r,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Rn.add(this),xl||(xl=!0,de.read(Up),de.resolveKeyframes($p))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:r}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const o=r==null?void 0:r.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(s&&n){const c=s.readValue(n,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),r&&o===void 0&&r.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Rn.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Rn.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Hp=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),rj=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function aj(e){const t=rj.exec(e);if(!t)return[,];const[,n,s,r]=t;return[`--${n??s}`,r]}function Wp(e,t,n=1){const[s,r]=aj(e);if(!s)return;const a=window.getComputedStyle(t).getPropertyValue(s);if(a){const o=a.trim();return Hp(o)?parseFloat(o):o}return Mc(r)?Wp(r,t,n+1):r}const Gp=e=>t=>t.test(e),oj={test:e=>e==="auto",parse:e=>e},Kp=[zs,$,Rt,Xt,Qy,Yy,oj],Md=e=>Kp.find(Gp(e));class qp extends Zc{constructor(t,n,s,r,a){super(t,n,s,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),Mc(u))){const d=Wp(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Cp.has(s)||t.length!==2)return;const[r,a]=t,o=Md(r),l=Md(a);if(o!==l)if(Ad(o)&&Ad(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let r=0;r<t.length;r++)_0(t[r])&&s.push(r);s.length&&ej(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ts[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&t.getValue(s,r).jump(r,!1)}measureEndState(){var t;const{element:n,name:s,unresolvedKeyframes:r}=this;if(!n||!n.current)return;const a=n.getValue(s);a&&a.jump(this.measuredOrigin,!1);const o=r.length-1,l=r[o];r[o]=Ts[s](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const Rd=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(xn.test(e)||e==="0")&&!e.startsWith("url("));function lj(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function cj(e,t,n,s){const r=e[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=Rd(r,t),l=Rd(a,t);return!o||!l?!1:lj(e)||(n==="spring"||Bc(n))&&s}const uj=e=>e!==null;function Ea(e,{repeat:t,repeatType:n="loop"},s){const r=e.filter(uj),a=t&&n!=="loop"&&t%2===1?0:r.length-1;return!a||s===void 0?r[a]:s}const dj=40;class Yp{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=It.now(),this.options={autoplay:t,delay:n,type:s,repeat:r,repeatDelay:a,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>dj?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&ij(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=It.now(),this.hasAttemptedResolve=!0;const{name:s,type:r,velocity:a,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!cj(t,s,r,a))if(o)this.options.duration=0;else{c&&c(Ea(t,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,n);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const ge=(e,t,n)=>e+(t-e)*n;function lo(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function hj({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let r=0,a=0,o=0;if(!t)r=a=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;r=lo(c,l,e+1/3),a=lo(c,l,e),o=lo(c,l,e-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:s}}function ta(e,t){return n=>n>0?t:e}const co=(e,t,n)=>{const s=e*e,r=n*(t*t-s)+s;return r<0?0:Math.sqrt(r)},mj=[gl,Dn,as],fj=e=>mj.find(t=>t.test(e));function Id(e){const t=fj(e);if(!t)return!1;let n=t.parse(e);return t===as&&(n=hj(n)),n}const Ld=(e,t)=>{const n=Id(e),s=Id(t);if(!n||!s)return ta(e,t);const r={...n};return a=>(r.red=co(n.red,s.red,a),r.green=co(n.green,s.green,a),r.blue=co(n.blue,s.blue,a),r.alpha=ge(n.alpha,s.alpha,a),Dn.transform(r))},pj=(e,t)=>n=>t(e(n)),Fi=(...e)=>e.reduce(pj),jl=new Set(["none","hidden"]);function gj(e,t){return jl.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function vj(e,t){return n=>ge(e,t,n)}function Jc(e){return typeof e=="number"?vj:typeof e=="string"?Mc(e)?ta:Fe.test(e)?Ld:jj:Array.isArray(e)?Qp:typeof e=="object"?Fe.test(e)?Ld:xj:ta}function Qp(e,t){const n=[...e],s=n.length,r=e.map((a,o)=>Jc(a)(a,t[o]));return a=>{for(let o=0;o<s;o++)n[o]=r[o](a);return n}}function xj(e,t){const n={...e,...t},s={};for(const r in n)e[r]!==void 0&&t[r]!==void 0&&(s[r]=Jc(e[r])(e[r],t[r]));return r=>{for(const a in s)n[a]=s[a](r);return n}}function yj(e,t){var n;const s=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],l=e.indexes[o][r[o]],c=(n=e.values[l])!==null&&n!==void 0?n:0;s[a]=c,r[o]++}return s}const jj=(e,t)=>{const n=xn.createTransformer(t),s=Ai(e),r=Ai(t);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?jl.has(e)&&!r.values.length||jl.has(t)&&!s.values.length?gj(e,t):Fi(Qp(yj(s,r),r.values),n):ta(e,t)};function Xp(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ge(e,t,n):Jc(e)(e,t)}const wj=5;function Zp(e,t,n){const s=Math.max(t-wj,0);return bp(n-e(s),t-s)}const ye={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},uo=.001;function Nj({duration:e=ye.duration,bounce:t=ye.bounce,velocity:n=ye.velocity,mass:s=ye.mass}){let r,a,o=1-t;o=Kt(ye.minDamping,ye.maxDamping,o),e=Kt(ye.minDuration,ye.maxDuration,$t(e)),o<1?(r=u=>{const d=u*o,m=d*e,h=d-n,v=wl(u,o),w=Math.exp(-m);return uo-h/v*w},a=u=>{const m=u*o*e,h=m*n+n,v=Math.pow(o,2)*Math.pow(u,2)*e,w=Math.exp(-m),S=wl(Math.pow(u,2),o);return(-r(u)+uo>0?-1:1)*((h-v)*w)/S}):(r=u=>{const d=Math.exp(-u*e),m=(u-n)*e+1;return-uo+d*m},a=u=>{const d=Math.exp(-u*e),m=(n-u)*(e*e);return d*m});const l=5/e,c=Cj(r,a,l);if(e=Bt(e),isNaN(c))return{stiffness:ye.stiffness,damping:ye.damping,duration:e};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:o*2*Math.sqrt(s*u),duration:e}}}const Sj=12;function Cj(e,t,n){let s=n;for(let r=1;r<Sj;r++)s=s-e(s)/t(s);return s}function wl(e,t){return e*Math.sqrt(1-t*t)}const bj=["duration","bounce"],kj=["stiffness","damping","mass"];function _d(e,t){return t.some(n=>e[n]!==void 0)}function Tj(e){let t={velocity:ye.velocity,stiffness:ye.stiffness,damping:ye.damping,mass:ye.mass,isResolvedFromDuration:!1,...e};if(!_d(e,kj)&&_d(e,bj))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),r=s*s,a=2*Kt(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:ye.mass,stiffness:r,damping:a}}else{const n=Nj(e);t={...t,...n,mass:ye.mass},t.isResolvedFromDuration=!0}return t}function Jp(e=ye.visualDuration,t=ye.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:r}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:m,velocity:h,isResolvedFromDuration:v}=Tj({...n,velocity:-$t(n.velocity||0)}),w=h||0,S=u/(2*Math.sqrt(c*d)),N=o-a,f=$t(Math.sqrt(c/d)),p=Math.abs(N)<5;s||(s=p?ye.restSpeed.granular:ye.restSpeed.default),r||(r=p?ye.restDelta.granular:ye.restDelta.default);let g;if(S<1){const b=wl(f,S);g=j=>{const C=Math.exp(-S*f*j);return o-C*((w+S*f*N)/b*Math.sin(b*j)+N*Math.cos(b*j))}}else if(S===1)g=b=>o-Math.exp(-f*b)*(N+(w+f*N)*b);else{const b=f*Math.sqrt(S*S-1);g=j=>{const C=Math.exp(-S*f*j),T=Math.min(b*j,300);return o-C*((w+S*f*N)*Math.sinh(T)+b*N*Math.cosh(T))/b}}const x={calculatedDuration:v&&m||null,next:b=>{const j=g(b);if(v)l.done=b>=m;else{let C=0;S<1&&(C=b===0?Bt(w):Zp(g,b,j));const T=Math.abs(C)<=s,k=Math.abs(o-j)<=r;l.done=T&&k}return l.value=l.done?o:j,l},toString:()=>{const b=Math.min(vp(x),ml),j=xp(C=>x.next(b*C).value,b,30);return b+"ms "+j}};return x}function Od({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const m=e[0],h={done:!1,value:m},v=T=>l!==void 0&&T<l||c!==void 0&&T>c,w=T=>l===void 0?c:c===void 0||Math.abs(l-T)<Math.abs(c-T)?l:c;let S=n*t;const N=m+S,f=o===void 0?N:o(N);f!==N&&(S=f-m);const p=T=>-S*Math.exp(-T/s),g=T=>f+p(T),x=T=>{const k=p(T),P=g(T);h.done=Math.abs(k)<=u,h.value=h.done?f:P};let b,j;const C=T=>{v(h.value)&&(b=T,j=Jp({keyframes:[h.value,w(h.value)],velocity:Zp(g,T,h.value),damping:r,stiffness:a,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:T=>{let k=!1;return!j&&b===void 0&&(k=!0,x(T),C(T)),b!==void 0&&T>=b?j.next(T-b):(!k&&x(T),h)}}}const Ej=Oi(.42,0,1,1),Pj=Oi(0,0,.58,1),eg=Oi(.42,0,.58,1),Aj=e=>Array.isArray(e)&&typeof e[0]!="number",Dj={linear:nt,easeIn:Ej,easeInOut:eg,easeOut:Pj,circIn:qc,circInOut:Rp,circOut:Mp,backIn:Kc,backInOut:Dp,backOut:Ap,anticipate:zp},Fd=e=>{if($c(e)){Xf(e.length===4);const[t,n,s,r]=e;return Oi(t,n,s,r)}else if(typeof e=="string")return Dj[e];return e};function zj(e,t,n){const s=[],r=n||Xp,a=e.length-1;for(let o=0;o<a;o++){let l=r(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||nt:t;l=Fi(c,l)}s.push(l)}return s}function Mj(e,t,{clamp:n=!0,ease:s,mixer:r}={}){const a=e.length;if(Xf(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=zj(t,s,r),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let m=0;if(c>1)for(;m<e.length-2&&!(d<e[m+1]);m++);const h=bs(e[m],e[m+1],d);return l[m](h)};return n?d=>u(Kt(e[0],e[a-1],d)):u}function Rj(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const r=bs(0,t,s);e.push(ge(n,1,r))}}function Ij(e){const t=[0];return Rj(t,e.length-1),t}function Lj(e,t){return e.map(n=>n*t)}function _j(e,t){return e.map(()=>t||eg).splice(0,e.length-1)}function na({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const r=Aj(s)?s.map(Fd):Fd(s),a={done:!1,value:t[0]},o=Lj(n&&n.length===t.length?n:Ij(t),e),l=Mj(o,t,{ease:Array.isArray(r)?r:_j(t,r)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const Oj=e=>{const t=({timestamp:n})=>e(n);return{start:()=>de.update(t,!0),stop:()=>vn(t),now:()=>Me.isProcessing?Me.timestamp:It.now()}},Fj={decay:Od,inertia:Od,tween:na,keyframes:na,spring:Jp},Vj=e=>e/100;class eu extends Yp{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:s,element:r,keyframes:a}=this.options,o=(r==null?void 0:r.KeyframeResolver)||Zc,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(a,l,n,s,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:a,velocity:o=0}=this.options,l=Bc(n)?n:Fj[n]||na;let c,u;l!==na&&typeof t[0]!="number"&&(c=Fi(Vj,Xp(t[0],t[1])),t=[0,100]);const d=l({...this.options,keyframes:t});a==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=vp(d));const{calculatedDuration:m}=d,h=m+r,v=h*(s+1)-r;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:m,resolvedDuration:h,totalDuration:v}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:s}=this;if(!s){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:r,generator:a,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:m}=s;if(this.startTime===null)return a.next(0);const{delay:h,repeat:v,repeatType:w,repeatDelay:S,onUpdate:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const f=this.currentTime-h*(this.speed>=0?1:-1),p=this.speed>=0?f<0:f>d;this.currentTime=Math.max(f,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let g=this.currentTime,x=a;if(v){const T=Math.min(this.currentTime,d)/m;let k=Math.floor(T),P=T%1;!P&&T>=1&&(P=1),P===1&&k--,k=Math.min(k,v+1),!!(k%2)&&(w==="reverse"?(P=1-P,S&&(P-=S/m)):w==="mirror"&&(x=o)),g=Kt(0,1,P)*m}const b=p?{done:!1,value:c[0]}:x.next(g);l&&(b.value=l(b.value));let{done:j}=b;!p&&u!==null&&(j=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return C&&r!==void 0&&(b.value=Ea(c,this.options,r)),N&&N(b.value),C&&this.finish(),b}get duration(){const{resolved:t}=this;return t?$t(t.calculatedDuration):0}get time(){return $t(this.currentTime)}set time(t){t=Bt(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=$t(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=Oj,onPlay:n,startTime:s}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Bj=new Set(["opacity","clipPath","filter","transform"]);function $j(e,t,n,{delay:s=0,duration:r=300,repeat:a=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=jp(l,r);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:s,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}const Uj=kc(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sa=10,Hj=2e4;function Wj(e){return Bc(e.type)||e.type==="spring"||!yp(e.ease)}function Gj(e,t){const n=new eu({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:e[0]};const r=[];let a=0;for(;!s.done&&a<Hj;)s=n.sample(a),r.push(s.value),a+=sa;return{times:void 0,keyframes:r,duration:a-sa,ease:"linear"}}const tg={anticipate:zp,backInOut:Dp,circInOut:Rp};function Kj(e){return e in tg}class Vd extends Yp{constructor(t){super(t);const{name:n,motionValue:s,element:r,keyframes:a}=this.options;this.resolver=new qp(a,(o,l)=>this.onKeyframesResolved(o,l),n,s,r),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:s=300,times:r,ease:a,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof a=="string"&&ea()&&Kj(a)&&(a=tg[a]),Wj(this.options)){const{onComplete:m,onUpdate:h,motionValue:v,element:w,...S}=this.options,N=Gj(t,S);t=N.keyframes,t.length===1&&(t[1]=t[0]),s=N.duration,r=N.times,a=N.ease,o="keyframes"}const d=$j(l.owner.current,c,t,{...this.options,duration:s,times:r,ease:a});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(Cd(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:m}=this.options;l.set(Ea(t,this.options,n)),m&&m(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:s,times:r,type:o,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return $t(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return $t(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.currentTime=Bt(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return nt;const{animation:s}=n;Cd(s,t)}return nt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:s,duration:r,type:a,ease:o,times:l}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:m,element:h,...v}=this.options,w=new eu({...v,keyframes:s,duration:r,type:a,ease:o,times:l,isGenerator:!0}),S=Bt(this.time);u.setWithVelocity(w.sample(S-sa).value,w.sample(S).value,sa)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:s,repeatDelay:r,repeatType:a,damping:o,type:l}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return Uj()&&s&&Bj.has(s)&&!c&&!u&&!r&&a!=="mirror"&&o!==0&&l!=="inertia"}}const qj={type:"spring",stiffness:500,damping:25,restSpeed:10},Yj=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Qj={type:"keyframes",duration:.8},Xj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Zj=(e,{keyframes:t})=>t.length>2?Qj:$n.has(e)?e.startsWith("scale")?Yj(t[1]):qj:Xj;function Jj({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const tu=(e,t,n,s={},r,a)=>o=>{const l=Vc(s,e)||{},c=l.delay||s.delay||0;let{elapsed:u=0}=s;u=u-Bt(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:r};Jj(l)||(d={...d,...Zj(e,d)}),d.duration&&(d.duration=Bt(d.duration)),d.repeatDelay&&(d.repeatDelay=Bt(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let m=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(m=!0)),m&&!a&&t.get()!==void 0){const h=Ea(d.keyframes,l);if(h!==void 0)return de.update(()=>{d.onUpdate(h),d.onComplete()}),new x0([])}return!a&&Vd.supports(d)?new Vd(d):new eu(d)};function ew({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function ng(e,t,{delay:n=0,transitionOverride:s,type:r}={}){var a;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;s&&(o=s);const u=[],d=r&&e.animationState&&e.animationState.getState()[r];for(const m in c){const h=e.getValue(m,(a=e.latestValues[m])!==null&&a!==void 0?a:null),v=c[m];if(v===void 0||d&&ew(d,m))continue;const w={delay:n,...Vc(o||{},m)};let S=!1;if(window.MotionHandoffAnimation){const f=kp(e);if(f){const p=window.MotionHandoffAnimation(f,m,de);p!==null&&(w.startTime=p,S=!0)}}pl(e,m),h.start(tu(m,h,v,e.shouldReduceMotion&&Cp.has(m)?{type:!1}:w,e,S));const N=h.animation;N&&u.push(N)}return l&&Promise.all(u).then(()=>{de.update(()=>{l&&z0(e,l)})}),u}function Nl(e,t,n={}){var s;const r=Ta(e,t,n.type==="exit"?(s=e.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const o=r?()=>Promise.all(ng(e,r,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:m,staggerDirection:h}=a;return tw(e,t,d+u,m,h,n)}:()=>Promise.resolve(),{when:c}=a;if(c){const[u,d]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>d())}else return Promise.all([o(),l(n.delay)])}function tw(e,t,n=0,s=0,r=1,a){const o=[],l=(e.variantChildren.size-1)*s,c=r===1?(u=0)=>u*s:(u=0)=>l-u*s;return Array.from(e.variantChildren).sort(nw).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(Nl(u,t,{...a,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function nw(e,t){return e.sortNodePosition(t)}function sw(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const r=t.map(a=>Nl(e,a,n));s=Promise.all(r)}else if(typeof t=="string")s=Nl(e,t,n);else{const r=typeof t=="function"?Ta(e,t,n.custom):t;s=Promise.all(ng(e,r,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}const iw=Ec.length;function sg(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?sg(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<iw;n++){const s=Ec[n],r=e.props[s];(Ti(r)||r===!1)&&(t[s]=r)}return t}const rw=[...Tc].reverse(),aw=Tc.length;function ow(e){return t=>Promise.all(t.map(({animation:n,options:s})=>sw(e,n,s)))}function lw(e){let t=ow(e),n=Bd(),s=!0;const r=c=>(u,d)=>{var m;const h=Ta(e,d,c==="exit"?(m=e.presenceContext)===null||m===void 0?void 0:m.custom:void 0);if(h){const{transition:v,transitionEnd:w,...S}=h;u={...u,...S,...w}}return u};function a(c){t=c(e)}function o(c){const{props:u}=e,d=sg(e.parent)||{},m=[],h=new Set;let v={},w=1/0;for(let N=0;N<aw;N++){const f=rw[N],p=n[f],g=u[f]!==void 0?u[f]:d[f],x=Ti(g),b=f===c?p.isActive:null;b===!1&&(w=N);let j=g===d[f]&&g!==u[f]&&x;if(j&&s&&e.manuallyAnimateOnMount&&(j=!1),p.protectedKeys={...v},!p.isActive&&b===null||!g&&!p.prevProp||ba(g)||typeof g=="boolean")continue;const C=cw(p.prevProp,g);let T=C||f===c&&p.isActive&&!j&&x||N>w&&x,k=!1;const P=Array.isArray(g)?g:[g];let z=P.reduce(r(f),{});b===!1&&(z={});const{prevResolvedValues:B={}}=p,ie={...B,...z},me=G=>{T=!0,h.has(G)&&(k=!0,h.delete(G)),p.needsAnimating[G]=!0;const R=e.getValue(G);R&&(R.liveStyle=!1)};for(const G in ie){const R=z[G],L=B[G];if(v.hasOwnProperty(G))continue;let I=!1;hl(R)&&hl(L)?I=!gp(R,L):I=R!==L,I?R!=null?me(G):h.add(G):R!==void 0&&h.has(G)?me(G):p.protectedKeys[G]=!0}p.prevProp=g,p.prevResolvedValues=z,p.isActive&&(v={...v,...z}),s&&e.blockInitialAnimation&&(T=!1),T&&(!(j&&C)||k)&&m.push(...P.map(G=>({animation:G,options:{type:f}})))}if(h.size){const N={};h.forEach(f=>{const p=e.getBaseTarget(f),g=e.getValue(f);g&&(g.liveStyle=!0),N[f]=p??null}),m.push({animation:N})}let S=!!m.length;return s&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(S=!1),s=!1,S?t(m):Promise.resolve()}function l(c,u){var d;if(n[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(h=>{var v;return(v=h.animationState)===null||v===void 0?void 0:v.setActive(c,u)}),n[c].isActive=u;const m=o(c);for(const h in n)n[h].protectedKeys={};return m}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Bd(),s=!0}}}function cw(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!gp(t,e):!1}function Sn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Bd(){return{animate:Sn(!0),whileInView:Sn(),whileHover:Sn(),whileTap:Sn(),whileDrag:Sn(),whileFocus:Sn(),exit:Sn()}}class Nn{constructor(t){this.isMounted=!1,this.node=t}update(){}}class uw extends Nn{constructor(t){super(t),t.animationState||(t.animationState=lw(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ba(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let dw=0;class hw extends Nn{constructor(){super(...arguments),this.id=dw++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const r=this.node.animationState.setActive("exit",!t);n&&!t&&r.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const mw={animation:{Feature:uw},exit:{Feature:hw}};function Di(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function Vi(e){return{point:{x:e.pageX,y:e.pageY}}}const fw=e=>t=>Uc(t)&&e(t,Vi(t));function oi(e,t,n,s){return Di(e,t,fw(n),s)}const $d=(e,t)=>Math.abs(e-t);function pw(e,t){const n=$d(e.x,t.x),s=$d(e.y,t.y);return Math.sqrt(n**2+s**2)}class ig{constructor(t,n,{transformPagePoint:s,contextWindow:r,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=mo(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,v=pw(m.offset,{x:0,y:0})>=3;if(!h&&!v)return;const{point:w}=m,{timestamp:S}=Me;this.history.push({...w,timestamp:S});const{onStart:N,onMove:f}=this.handlers;h||(N&&N(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),f&&f(this.lastMoveEvent,m)},this.handlePointerMove=(m,h)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=ho(h,this.transformPagePoint),de.update(this.updatePoint,!0)},this.handlePointerUp=(m,h)=>{this.end();const{onEnd:v,onSessionEnd:w,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=mo(m.type==="pointercancel"?this.lastMoveEventInfo:ho(h,this.transformPagePoint),this.history);this.startEvent&&v&&v(m,N),w&&w(m,N)},!Uc(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.contextWindow=r||window;const o=Vi(t),l=ho(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Me;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,mo(l,this.history)),this.removeListeners=Fi(oi(this.contextWindow,"pointermove",this.handlePointerMove),oi(this.contextWindow,"pointerup",this.handlePointerUp),oi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),vn(this.updatePoint)}}function ho(e,t){return t?{point:t(e.point)}:e}function Ud(e,t){return{x:e.x-t.x,y:e.y-t.y}}function mo({point:e},t){return{point:e,delta:Ud(e,rg(t)),offset:Ud(e,gw(t)),velocity:vw(t,.1)}}function gw(e){return e[0]}function rg(e){return e[e.length-1]}function vw(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const r=rg(e);for(;n>=0&&(s=e[n],!(r.timestamp-s.timestamp>Bt(t)));)n--;if(!s)return{x:0,y:0};const a=$t(r.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const o={x:(r.x-s.x)/a,y:(r.y-s.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const ag=1e-4,xw=1-ag,yw=1+ag,og=.01,jw=0-og,ww=0+og;function it(e){return e.max-e.min}function Nw(e,t,n){return Math.abs(e-t)<=n}function Hd(e,t,n,s=.5){e.origin=s,e.originPoint=ge(t.min,t.max,e.origin),e.scale=it(n)/it(t),e.translate=ge(n.min,n.max,e.origin)-e.originPoint,(e.scale>=xw&&e.scale<=yw||isNaN(e.scale))&&(e.scale=1),(e.translate>=jw&&e.translate<=ww||isNaN(e.translate))&&(e.translate=0)}function li(e,t,n,s){Hd(e.x,t.x,n.x,s?s.originX:void 0),Hd(e.y,t.y,n.y,s?s.originY:void 0)}function Wd(e,t,n){e.min=n.min+t.min,e.max=e.min+it(t)}function Sw(e,t,n){Wd(e.x,t.x,n.x),Wd(e.y,t.y,n.y)}function Gd(e,t,n){e.min=t.min-n.min,e.max=e.min+it(t)}function ci(e,t,n){Gd(e.x,t.x,n.x),Gd(e.y,t.y,n.y)}function Cw(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?ge(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?ge(n,e,s.max):Math.min(e,n)),e}function Kd(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function bw(e,{top:t,left:n,bottom:s,right:r}){return{x:Kd(e.x,n,r),y:Kd(e.y,t,s)}}function qd(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function kw(e,t){return{x:qd(e.x,t.x),y:qd(e.y,t.y)}}function Tw(e,t){let n=.5;const s=it(e),r=it(t);return r>s?n=bs(t.min,t.max-s,e.min):s>r&&(n=bs(e.min,e.max-r,t.min)),Kt(0,1,n)}function Ew(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Sl=.35;function Pw(e=Sl){return e===!1?e=0:e===!0&&(e=Sl),{x:Yd(e,"left","right"),y:Yd(e,"top","bottom")}}function Yd(e,t,n){return{min:Qd(e,t),max:Qd(e,n)}}function Qd(e,t){return typeof e=="number"?e:e[t]||0}const Xd=()=>({translate:0,scale:1,origin:0,originPoint:0}),os=()=>({x:Xd(),y:Xd()}),Zd=()=>({min:0,max:0}),we=()=>({x:Zd(),y:Zd()});function ut(e){return[e("x"),e("y")]}function lg({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function Aw({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Dw(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function fo(e){return e===void 0||e===1}function Cl({scale:e,scaleX:t,scaleY:n}){return!fo(e)||!fo(t)||!fo(n)}function kn(e){return Cl(e)||cg(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function cg(e){return Jd(e.x)||Jd(e.y)}function Jd(e){return e&&e!=="0%"}function ia(e,t,n){const s=e-n,r=t*s;return n+r}function eh(e,t,n,s,r){return r!==void 0&&(e=ia(e,r,s)),ia(e,n,s)+t}function bl(e,t=0,n=1,s,r){e.min=eh(e.min,t,n,s,r),e.max=eh(e.max,t,n,s,r)}function ug(e,{x:t,y:n}){bl(e.x,t.translate,t.scale,t.originPoint),bl(e.y,n.translate,n.scale,n.originPoint)}const th=.999999999999,nh=1.0000000000001;function zw(e,t,n,s=!1){const r=n.length;if(!r)return;t.x=t.y=1;let a,o;for(let l=0;l<r;l++){a=n[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&cs(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,ug(e,o)),s&&kn(a.latestValues)&&cs(e,a.latestValues))}t.x<nh&&t.x>th&&(t.x=1),t.y<nh&&t.y>th&&(t.y=1)}function ls(e,t){e.min=e.min+t,e.max=e.max+t}function sh(e,t,n,s,r=.5){const a=ge(e.min,e.max,r);bl(e,t,n,a,s)}function cs(e,t){sh(e.x,t.x,t.scaleX,t.scale,t.originX),sh(e.y,t.y,t.scaleY,t.scale,t.originY)}function dg(e,t){return lg(Dw(e.getBoundingClientRect(),t))}function Mw(e,t,n){const s=dg(e,n),{scroll:r}=t;return r&&(ls(s.x,r.offset.x),ls(s.y,r.offset.y)),s}const hg=({current:e})=>e?e.ownerDocument.defaultView:null,Rw=new WeakMap;class Iw{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=we(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=d=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Vi(d).point)},a=(d,m)=>{const{drag:h,dragPropagation:v,onDragStart:w}=this.getProps();if(h&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=T0(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ut(N=>{let f=this.getAxisMotionValue(N).get()||0;if(Rt.test(f)){const{projection:p}=this.visualElement;if(p&&p.layout){const g=p.layout.layoutBox[N];g&&(f=it(g)*(parseFloat(f)/100))}}this.originPoint[N]=f}),w&&de.postRender(()=>w(d,m)),pl(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(d,m)=>{const{dragPropagation:h,dragDirectionLock:v,onDirectionLock:w,onDrag:S}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:N}=m;if(v&&this.currentDirection===null){this.currentDirection=Lw(N),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",m.point,N),this.updateAxis("y",m.point,N),this.visualElement.render(),S&&S(d,m)},l=(d,m)=>this.stop(d,m),c=()=>ut(d=>{var m;return this.getAnimationState(d)==="paused"&&((m=this.getAxisMotionValue(d).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new ig(t,{onSessionStart:r,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:hg(this.visualElement)})}stop(t,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:a}=this.getProps();a&&de.postRender(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:r}=this.getProps();if(!s||!ur(t,r,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=Cw(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&rs(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=bw(r.layoutBox,n):this.constraints=!1,this.elastic=Pw(s),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ut(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Ew(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!rs(t))return!1;const s=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=Mw(s,r.root,this.visualElement.getTransformPagePoint());let o=kw(r.layout.layoutBox,a);if(n){const l=n(Aw(o));this.hasMutatedConstraints=!!l,l&&(o=lg(l))}return o}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=ut(d=>{if(!ur(d,n,this.currentDirection))return;let m=c&&c[d]||{};o&&(m={min:0,max:0});const h=r?200:1e6,v=r?40:1e7,w={type:"inertia",velocity:s?t[d]:0,bounceStiffness:h,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...a,...m};return this.startAxisValueAnimation(d,w)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return pl(this.visualElement,t),s.start(tu(t,s,0,n,this.visualElement,!1))}stopAnimation(){ut(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ut(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){ut(n=>{const{drag:s}=this.getProps();if(!ur(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:l}=r.layout.layoutBox[n];a.set(t[n]-ge(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!rs(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};ut(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();r[o]=Tw({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ut(o=>{if(!ur(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(ge(c,u,r[o]))})}addListeners(){if(!this.visualElement.current)return;Rw.set(this.visualElement,this);const t=this.visualElement.current,n=oi(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();rs(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),de.read(s);const o=Di(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ut(d=>{const m=this.getAxisMotionValue(d);m&&(this.originPoint[d]+=c[d].translate,m.set(m.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:o=Sl,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function ur(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Lw(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class _w extends Nn{constructor(t){super(t),this.removeGroupControls=nt,this.removeListeners=nt,this.controls=new Iw(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||nt}unmount(){this.removeGroupControls(),this.removeListeners()}}const ih=e=>(t,n)=>{e&&de.postRender(()=>e(t,n))};class Ow extends Nn{constructor(){super(...arguments),this.removePointerDownListener=nt}onPointerDown(t){this.session=new ig(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hg(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:ih(t),onStart:ih(n),onMove:s,onEnd:(a,o)=>{delete this.session,r&&de.postRender(()=>r(a,o))}}}mount(){this.removePointerDownListener=oi(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Tr={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function rh(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Us={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if($.test(e))e=parseFloat(e);else return e;const n=rh(e,t.target.x),s=rh(e,t.target.y);return`${n}% ${s}%`}},Fw={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,r=xn.parse(e);if(r.length>5)return s;const a=xn.createTransformer(e),o=typeof r[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;r[0+o]/=l,r[1+o]/=c;const u=ge(l,c,.5);return typeof r[2+o]=="number"&&(r[2+o]/=u),typeof r[3+o]=="number"&&(r[3+o]/=u),a(r)}};class Vw extends y.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:a}=t;a0(Bw),a&&(n.group&&n.group.add(a),s&&s.register&&r&&s.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Tr.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:r,isPresent:a}=this.props,o=s.projection;return o&&(o.isPresent=a,r||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||de.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Ac.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function mg(e){const[t,n]=qf(),s=y.useContext(Nc);return i.jsx(Vw,{...e,layoutGroup:s,switchLayoutGroup:y.useContext(sp),isPresent:t,safeToRemove:n})}const Bw={borderRadius:{...Us,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Us,borderTopRightRadius:Us,borderBottomLeftRadius:Us,borderBottomRightRadius:Us,boxShadow:Fw};function $w(e,t,n){const s=Be(e)?e:Pi(e);return s.start(tu("",s,t,n)),s.animation}function Uw(e){return e instanceof SVGElement&&e.tagName!=="svg"}const Hw=(e,t)=>e.depth-t.depth;class Ww{constructor(){this.children=[],this.isDirty=!1}add(t){Hc(this.children,t),this.isDirty=!0}remove(t){Wc(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Hw),this.isDirty=!1,this.children.forEach(t)}}function Gw(e,t){const n=It.now(),s=({timestamp:r})=>{const a=r-n;a>=t&&(vn(s),e(a-t))};return de.read(s,!0),()=>vn(s)}const fg=["TopLeft","TopRight","BottomLeft","BottomRight"],Kw=fg.length,ah=e=>typeof e=="string"?parseFloat(e):e,oh=e=>typeof e=="number"||$.test(e);function qw(e,t,n,s,r,a){r?(e.opacity=ge(0,n.opacity!==void 0?n.opacity:1,Yw(s)),e.opacityExit=ge(t.opacity!==void 0?t.opacity:1,0,Qw(s))):a&&(e.opacity=ge(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let o=0;o<Kw;o++){const l=`border${fg[o]}Radius`;let c=lh(t,l),u=lh(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||oh(c)===oh(u)?(e[l]=Math.max(ge(ah(c),ah(u),s),0),(Rt.test(u)||Rt.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=ge(t.rotate||0,n.rotate||0,s))}function lh(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Yw=pg(0,.5,Mp),Qw=pg(.5,.95,nt);function pg(e,t,n){return s=>s<e?0:s>t?1:n(bs(e,t,s))}function ch(e,t){e.min=t.min,e.max=t.max}function ct(e,t){ch(e.x,t.x),ch(e.y,t.y)}function uh(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function dh(e,t,n,s,r){return e-=t,e=ia(e,1/n,s),r!==void 0&&(e=ia(e,1/r,s)),e}function Xw(e,t=0,n=1,s=.5,r,a=e,o=e){if(Rt.test(t)&&(t=parseFloat(t),t=ge(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=ge(a.min,a.max,s);e===a&&(l-=t),e.min=dh(e.min,t,n,l,r),e.max=dh(e.max,t,n,l,r)}function hh(e,t,[n,s,r],a,o){Xw(e,t[n],t[s],t[r],t.scale,a,o)}const Zw=["x","scaleX","originX"],Jw=["y","scaleY","originY"];function mh(e,t,n,s){hh(e.x,t,Zw,n?n.x:void 0,s?s.x:void 0),hh(e.y,t,Jw,n?n.y:void 0,s?s.y:void 0)}function fh(e){return e.translate===0&&e.scale===1}function gg(e){return fh(e.x)&&fh(e.y)}function ph(e,t){return e.min===t.min&&e.max===t.max}function eN(e,t){return ph(e.x,t.x)&&ph(e.y,t.y)}function gh(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function vg(e,t){return gh(e.x,t.x)&&gh(e.y,t.y)}function vh(e){return it(e.x)/it(e.y)}function xh(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class tN{constructor(){this.members=[]}add(t){Hc(this.members,t),t.scheduleRender()}remove(t){if(Wc(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(r=>t===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function nN(e,t,n){let s="";const r=e.x.translate/t.x,a=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((r||a||o)&&(s=`translate3d(${r}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:m,rotateY:h,skewX:v,skewY:w}=n;u&&(s=`perspective(${u}px) ${s}`),d&&(s+=`rotate(${d}deg) `),m&&(s+=`rotateX(${m}deg) `),h&&(s+=`rotateY(${h}deg) `),v&&(s+=`skewX(${v}deg) `),w&&(s+=`skewY(${w}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const Tn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Qs=typeof window<"u"&&window.MotionDebug!==void 0,po=["","X","Y","Z"],sN={visibility:"hidden"},yh=1e3;let iN=0;function go(e,t,n,s){const{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),s&&(s[e]=0))}function xg(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=kp(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",de,!(r||a))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&xg(s)}function yg({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(o={},l=t==null?void 0:t()){this.id=iN++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Qs&&(Tn.totalNodes=Tn.resolvedTargetDeltas=Tn.recalculatedProjection=0),this.nodes.forEach(oN),this.nodes.forEach(hN),this.nodes.forEach(mN),this.nodes.forEach(lN),Qs&&window.MotionDebug.record(Tn)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ww)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Gc),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Uw(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let m;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=Gw(h,250),Tr.hasAnimatedSinceResize&&(Tr.hasAnimatedSinceResize=!1,this.nodes.forEach(wh))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:h,hasRelativeTargetChanged:v,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||d.getDefaultTransition()||xN,{onLayoutAnimationStart:N,onLayoutAnimationComplete:f}=d.getProps(),p=!this.targetLayout||!vg(this.targetLayout,w)||v,g=!h&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||g||h&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,g);const x={...Vc(S,"layout"),onPlay:N,onComplete:f};(d.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else h||wh(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,vn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(fN),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&xg(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const m=this.path[d];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(jh);return}this.isUpdating||this.nodes.forEach(uN),this.isUpdating=!1,this.nodes.forEach(dN),this.nodes.forEach(rN),this.nodes.forEach(aN),this.clearAllSnapshots();const l=It.now();Me.delta=Kt(0,1e3/60,l-Me.timestamp),Me.timestamp=l,Me.isProcessing=!0,ro.update.process(Me),ro.preRender.process(Me),ro.render.process(Me),Me.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ac.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(cN),this.sharedNodes.forEach(pN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,de.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){de.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=we(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!gg(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||kn(this.latestValues)||d)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),yN(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return we();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(jN))){const{scroll:d}=this.root;d&&(ls(c.x,d.offset.x),ls(c.y,d.offset.y))}return c}removeElementScroll(o){var l;const c=we();if(ct(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:m,options:h}=d;d!==this.root&&m&&h.layoutScroll&&(m.wasRoot&&ct(c,o),ls(c.x,m.offset.x),ls(c.y,m.offset.y))}return c}applyTransform(o,l=!1){const c=we();ct(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&cs(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),kn(d.latestValues)&&cs(c,d.latestValues)}return kn(this.latestValues)&&cs(c,this.latestValues),c}removeTransform(o){const l=we();ct(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!kn(u.latestValues))continue;Cl(u.latestValues)&&u.updateSnapshot();const d=we(),m=u.measurePageBox();ct(d,m),mh(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return kn(this.latestValues)&&mh(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Me.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:h}=this.options;if(!(!this.layout||!(m||h))){if(this.resolvedRelativeTargetAt=Me.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=we(),this.relativeTargetOrigin=we(),ci(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),ct(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=we(),this.targetWithTransforms=we()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Sw(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ct(this.target,this.layout.layoutBox),ug(this.target,this.targetDelta)):ct(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=we(),this.relativeTargetOrigin=we(),ci(this.relativeTargetOrigin,this.target,v.target),ct(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Qs&&Tn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Cl(this.parent.latestValues)||cg(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Me.timestamp&&(u=!1),u)return;const{layout:d,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||m))return;ct(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,v=this.treeScale.y;zw(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=we());const{target:w}=l;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(uh(this.prevProjectionDelta.x,this.projectionDelta.x),uh(this.prevProjectionDelta.y,this.projectionDelta.y)),li(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==v||!xh(this.projectionDelta.x,this.prevProjectionDelta.x)||!xh(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),Qs&&Tn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=os(),this.projectionDelta=os(),this.projectionDeltaWithTransform=os()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},m=os();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=we(),v=c?c.source:void 0,w=this.layout?this.layout.source:void 0,S=v!==w,N=this.getStack(),f=!N||N.members.length<=1,p=!!(S&&!f&&this.options.crossfade===!0&&!this.path.some(vN));this.animationProgress=0;let g;this.mixTargetDelta=x=>{const b=x/1e3;Nh(m.x,o.x,b),Nh(m.y,o.y,b),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ci(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gN(this.relativeTarget,this.relativeTargetOrigin,h,b),g&&eN(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=we()),ct(g,this.relativeTarget)),S&&(this.animationValues=d,qw(d,u,this.latestValues,b,p,f)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(vn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=de.update(()=>{Tr.hasAnimatedSinceResize=!0,this.currentAnimation=$w(0,yh,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(yh),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&jg(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||we();const m=it(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const h=it(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}ct(l,c),cs(l,d),li(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new tN),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&go("z",o,u,this.animationValues);for(let d=0;d<po.length;d++)go(`rotate${po[d]}`,o,u,this.animationValues),go(`skew${po[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return sN;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=br(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=br(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!kn(this.latestValues)&&(S.transform=d?d({},""):"none",this.hasProjected=!1),S}const h=m.animationValues||m.latestValues;this.applyTransformsToTarget(),u.transform=nN(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:v,y:w}=this.projectionDelta;u.transformOrigin=`${v.origin*100}% ${w.origin*100}% 0`,m.animationValues?u.opacity=m===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=m===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const S in Jr){if(h[S]===void 0)continue;const{correct:N,applyTo:f}=Jr[S],p=u.transform==="none"?h[S]:N(h[S],m);if(f){const g=f.length;for(let x=0;x<g;x++)u[f[x]]=p}else u[S]=p}return this.options.layoutId&&(u.pointerEvents=m===this?br(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(jh),this.root.sharedNodes.clear()}}}function rN(e){e.updateLayout()}function aN(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=e.layout,{animationType:a}=e.options,o=n.source!==e.layout.source;a==="size"?ut(m=>{const h=o?n.measuredBox[m]:n.layoutBox[m],v=it(h);h.min=s[m].min,h.max=h.min+v}):jg(a,n.layoutBox,s)&&ut(m=>{const h=o?n.measuredBox[m]:n.layoutBox[m],v=it(s[m]);h.max=h.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+v)});const l=os();li(l,s,n.layoutBox);const c=os();o?li(c,e.applyTransform(r,!0),n.measuredBox):li(c,s,n.layoutBox);const u=!gg(l);let d=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:h,layout:v}=m;if(h&&v){const w=we();ci(w,n.layoutBox,h.layoutBox);const S=we();ci(S,s,v.layoutBox),vg(w,S)||(d=!0),m.options.layoutRoot&&(e.relativeTarget=S,e.relativeTargetOrigin=w,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function oN(e){Qs&&Tn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function lN(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function cN(e){e.clearSnapshot()}function jh(e){e.clearMeasurements()}function uN(e){e.isLayoutDirty=!1}function dN(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function wh(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function hN(e){e.resolveTargetDelta()}function mN(e){e.calcProjection()}function fN(e){e.resetSkewAndRotation()}function pN(e){e.removeLeadSnapshot()}function Nh(e,t,n){e.translate=ge(t.translate,0,n),e.scale=ge(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Sh(e,t,n,s){e.min=ge(t.min,n.min,s),e.max=ge(t.max,n.max,s)}function gN(e,t,n,s){Sh(e.x,t.x,n.x,s),Sh(e.y,t.y,n.y,s)}function vN(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const xN={duration:.45,ease:[.4,0,.1,1]},Ch=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),bh=Ch("applewebkit/")&&!Ch("chrome/")?Math.round:nt;function kh(e){e.min=bh(e.min),e.max=bh(e.max)}function yN(e){kh(e.x),kh(e.y)}function jg(e,t,n){return e==="position"||e==="preserve-aspect"&&!Nw(vh(t),vh(n),.2)}function jN(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const wN=yg({attachResizeListener:(e,t)=>Di(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vo={current:void 0},wg=yg({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!vo.current){const e=new wN({});e.mount(window),e.setOptions({layoutScroll:!0}),vo.current=e}return vo.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),NN={pan:{Feature:Ow},drag:{Feature:_w,ProjectionNode:wg,MeasureLayout:mg}};function Th(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,a=s[r];a&&de.postRender(()=>a(t,Vi(t)))}class SN extends Nn{mount(){const{current:t}=this.node;t&&(this.unmount=N0(t,n=>(Th(this.node,n,"Start"),s=>Th(this.node,s,"End"))))}unmount(){}}class CN extends Nn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fi(Di(this.node.current,"focus",()=>this.onFocus()),Di(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Eh(e,t,n){const{props:s}=e;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),a=s[r];a&&de.postRender(()=>a(t,Vi(t)))}class bN extends Nn{mount(){const{current:t}=this.node;t&&(this.unmount=k0(t,n=>(Eh(this.node,n,"Start"),(s,{success:r})=>Eh(this.node,s,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const kl=new WeakMap,xo=new WeakMap,kN=e=>{const t=kl.get(e.target);t&&t(e)},TN=e=>{e.forEach(kN)};function EN({root:e,...t}){const n=e||document;xo.has(n)||xo.set(n,{});const s=xo.get(n),r=JSON.stringify(t);return s[r]||(s[r]=new IntersectionObserver(TN,{root:e,...t})),s[r]}function PN(e,t,n){const s=EN(t);return kl.set(e,n),s.observe(e),()=>{kl.delete(e),s.unobserve(e)}}const AN={some:0,all:1};class DN extends Nn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:a}=t,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:AN[r]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:m}=this.node.getProps(),h=u?d:m;h&&h(c)};return PN(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(zN(t,n))&&this.startObserver()}unmount(){}}function zN({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const MN={inView:{Feature:DN},tap:{Feature:bN},focus:{Feature:CN},hover:{Feature:SN}},RN={layout:{ProjectionNode:wg,MeasureLayout:mg}},Tl={current:null},Ng={current:!1};function IN(){if(Ng.current=!0,!!bc)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Tl.current=e.matches;e.addListener(t),t()}else Tl.current=!1}const LN=[...Kp,Fe,xn],_N=e=>LN.find(Gp(e)),Ph=new WeakMap;function ON(e,t,n){for(const s in t){const r=t[s],a=n[s];if(Be(r))e.addValue(s,r);else if(Be(a))e.addValue(s,Pi(r,{owner:e}));else if(a!==r)if(e.hasValue(s)){const o=e.getValue(s);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=e.getStaticValue(s);e.addValue(s,Pi(o!==void 0?o:r,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Ah=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class FN{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Zc,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=It.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,de.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=ka(n),this.isVariantNode=tp(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in h){const w=h[v];c[v]!==void 0&&Be(w)&&w.set(c[v],!1)}}mount(t){this.current=t,Ph.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),Ng.current||IN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Tl.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Ph.delete(this.current),this.projection&&this.projection.unmount(),vn(this.notifyUpdate),vn(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=$n.has(t),r=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&de.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{r(),a(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ks){const n=ks[t];if(!n)continue;const{isEnabled:s,Feature:r}=n;if(!this.features[t]&&r&&s(this.props)&&(this.features[t]=new r(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):we()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Ah.length;s++){const r=Ah[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a="on"+r,o=t[a];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=ON(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Pi(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){var s;let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Hp(r)||Ip(r))?r=parseFloat(r):!_N(r)&&xn.test(n)&&(r=Bp(t,n)),this.setBaseTarget(t,Be(r)?r.get():r)),Be(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:s}=this.props;let r;if(typeof s=="string"||typeof s=="object"){const o=zc(this.props,s,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(r=o[t])}if(s&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Be(a)?a:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Gc),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Sg extends FN{constructor(){super(...arguments),this.KeyframeResolver=qp}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Be(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function VN(e){return window.getComputedStyle(e)}class BN extends Sg{constructor(){super(...arguments),this.type="html",this.renderInstance=up}readValueFromInstance(t,n){if($n.has(n)){const s=Xc(n);return s&&s.default||0}else{const s=VN(t),r=(op(n)?s.getPropertyValue(n):s[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:n}){return dg(t,n)}build(t,n,s){Ic(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return Fc(t,n,s)}}class $N extends Sg{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=we}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if($n.has(n)){const s=Xc(n);return s&&s.default||0}return n=dp.has(n)?n:Pc(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return fp(t,n,s)}build(t,n,s){Lc(t,n,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,s,r){hp(t,n,s,r)}mount(t){this.isSVGTag=Oc(t.tagName),super.mount(t)}}const UN=(e,t)=>Dc(e)?new $N(t):new BN(t,{allowProjection:e!==y.Fragment}),HN=p0({...mw,...MN,...NN,...RN},UN),J=Ay(HN);function WN({adminData:e,onLogout:t}){return i.jsxs(J.header,{className:"admin-header",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[i.jsx("div",{className:"header-left",children:i.jsxs("div",{className:"admin-logo",children:[i.jsx("img",{src:"/images/logos/exmatta-logo.png",alt:"AriaPerta Logo"}),i.jsx("span",{className:"admin-title",children:"Admin Dashboard"})]})}),i.jsxs("div",{className:"header-center",children:[i.jsx("h1",{children:"Gestione Exmatta"}),i.jsx("p",{children:"Pannello di controllo amministrativo"})]}),i.jsxs("div",{className:"header-right",children:[i.jsxs("div",{className:"admin-info",children:[i.jsxs("div",{className:"admin-name",children:[i.jsx("span",{className:"admin-icon",children:"🛡️"}),i.jsx("span",{className:"admin-title",children:e.role==="admin"?"Amministratore":e.role==="user"?"Utente":e.role==="news"?"News":e.role==="salaprove"?"Sala Prove":e.role==="salacorsi"?"Imparar Suonando":"Utente"})]}),i.jsxs("div",{className:"admin-details",children:[i.jsx("span",{className:"admin-username",children:e.username}),i.jsx("span",{className:"admin-role",children:e.role})]})]}),i.jsxs("div",{className:"header-actions",children:[i.jsxs("button",{className:"reset-password-btn",onClick:()=>window.location.hash="#/gestione-utenti",title:"Reset Password",children:[i.jsx("span",{className:"reset-icon",children:"🔐"}),i.jsx("span",{className:"reset-text",children:"Reset Password"})]}),i.jsxs("button",{className:"logout-btn",onClick:t,title:"Logout",children:[i.jsx("span",{className:"logout-icon",children:"🚪"}),i.jsx("span",{className:"logout-text",children:"Logout"})]})]})]})]})}function GN({currentView:e,onViewChange:t,userRole:n}){const[s,r]=y.useState("checking"),a=async()=>{try{(await fetch("http://localhost:3001/api/health",{method:"GET",signal:AbortSignal.timeout(3e3)})).ok?r("online"):r("offline")}catch{r("offline")}};y.useEffect(()=>{a();const d=setInterval(a,3e4);return()=>clearInterval(d)},[]);const l=(()=>{const d=[{id:"dashboard",label:"Dashboard",description:"Panoramica generale",icon:"📊"}];return(n==="admin"||n==="salacorsi"||n==="docente")&&d.push({id:"corsi",label:"Gestione Corsi",description:"Richieste informazioni",icon:"🎸"}),(n==="admin"||n==="salaprove")&&d.push({id:"prenotazioni",label:"Gestione Prenotazioni",description:"Sala prove e disponibilità",icon:"🎤"}),(n==="admin"||n==="news")&&d.push({id:"news",label:"Gestione News",description:"Articoli e comunicazioni",icon:"📰"}),n==="admin"&&d.push({id:"gestione-utenti",label:"Gestione Utenti",description:"Utenti e permessi",icon:"👥"}),n==="admin"&&d.push({id:"bug-reports",label:"Bug Reports",description:"Segnalazioni utenti",icon:"🐛"}),n==="admin"&&d.push({id:"controllo",label:"Pannello di Controllo",description:"Configurazione dashboard",icon:"⚙️"}),d})(),c=()=>{switch(s){case"online":return"status-dot online";case"offline":return"status-dot offline";case"checking":return"status-dot checking";default:return"status-dot offline"}},u=()=>{switch(s){case"online":return"Sistema Online";case"offline":return"Sistema Offline";case"checking":return"Controllo Server...";default:return"Sistema Offline"}};return i.jsxs("div",{className:"admin-sidebar",children:[i.jsx("div",{className:"sidebar-nav",children:i.jsx("ul",{className:"nav-menu",children:l.map(d=>i.jsx("li",{className:"nav-item",children:i.jsxs("button",{className:`nav-button ${e===d.id?"active":""}`,onClick:()=>t(d.id),children:[i.jsx("span",{className:"nav-icon",children:d.icon}),i.jsxs("div",{className:"nav-content",children:[i.jsx("span",{className:"nav-label",children:d.label}),i.jsx("span",{className:"nav-description",children:d.description})]}),e===d.id&&i.jsx("span",{className:"nav-indicator"})]})},d.id))})}),i.jsxs("div",{className:"sidebar-footer",children:[i.jsxs("div",{className:"admin-status",children:[i.jsx("span",{className:c()}),i.jsx("span",{className:"status-text",children:u()})]}),i.jsx("div",{className:"version-info",children:i.jsx("div",{className:"version",children:"v1.0.0"})}),i.jsxs("button",{className:"nav-button",onClick:()=>window.location.href="/",style:{marginTop:"1rem",background:"var(--admin-info)",color:"white",border:"none"},children:[i.jsx("span",{className:"nav-icon",children:"🏠"}),i.jsxs("div",{className:"nav-content",children:[i.jsx("span",{className:"nav-label",children:"Torna alla Dashboard"}),i.jsx("span",{className:"nav-description",children:"Dashboard pubblica"})]})]})]})]})}function KN({currentView:e,onViewChange:t,userRole:n,onClose:s,onLogout:r,onResetPassword:a}){const[o,l]=y.useState(!1),c=()=>{l(!o)},u=()=>{l(!1),s&&s()},d=N=>{t(N),u()},m=()=>{a&&a(),u()},h=()=>{r&&r(),u()},v=()=>{window.location.href="/"},S=(()=>{const N=[{id:"dashboard",label:"Dashboard",description:"Panoramica generale",icon:"📊"}];return(n==="admin"||n==="salacorsi"||n==="docente")&&N.push({id:"corsi",label:"Gestione Corsi",description:"Richieste informazioni",icon:"🎸"}),(n==="admin"||n==="salaprove")&&N.push({id:"prenotazioni",label:"Gestione Prenotazioni",description:"Sala prove e disponibilità",icon:"🎤"}),(n==="admin"||n==="news")&&N.push({id:"news",label:"Gestione News",description:"Articoli e comunicazioni",icon:"📰"}),n==="admin"&&N.push({id:"gestione-utenti",label:"Gestione Utenti",description:"Utenti e permessi",icon:"👥"}),n==="admin"&&N.push({id:"bug-reports",label:"Bug Reports",description:"Segnalazioni utenti",icon:"🐛"}),n==="admin"&&N.push({id:"controllo",label:"Pannello di Controllo",description:"Configurazione dashboard",icon:"⚙️"}),N})();return i.jsxs(i.Fragment,{children:[i.jsx("button",{className:`admin-mobile-menu-toggle ${o?"active":""}`,onClick:c,"aria-label":"Apri menu mobile admin","aria-expanded":o,children:i.jsxs("div",{className:"admin-hamburger-icon",children:[i.jsx("span",{}),i.jsx("span",{}),i.jsx("span",{})]})}),i.jsx("div",{className:`admin-mobile-menu-overlay ${o?"active":""}`,children:i.jsxs("div",{className:"admin-mobile-menu-content",children:[i.jsx("div",{className:"admin-mobile-menu-header",children:i.jsx("div",{className:"admin-mobile-menu-header-actions",children:i.jsx("button",{className:"admin-mobile-menu-public",onClick:v,"aria-label":"Torna alla dashboard pubblica",children:"🏠"})})}),i.jsx("div",{className:"admin-mobile-menu-items",children:S.map(N=>i.jsxs("button",{className:`admin-mobile-menu-item ${e===N.id?"active":""}`,onClick:()=>d(N.id),children:[i.jsx("span",{className:"admin-item-icon",children:N.icon}),i.jsxs("div",{className:"admin-item-content",children:[i.jsx("span",{className:"admin-item-label",children:N.label}),i.jsx("span",{className:"admin-item-description",children:N.description})]}),e===N.id&&i.jsx("span",{className:"admin-item-indicator",children:"▶️"})]},N.id))}),i.jsxs("div",{className:"admin-mobile-menu-footer",children:[i.jsx("div",{className:"admin-user-info",children:i.jsxs("span",{className:"admin-user-role",children:["👑 ",n==null?void 0:n.toUpperCase()]})}),i.jsxs("div",{className:"admin-mobile-menu-actions",children:[i.jsxs("button",{className:"admin-mobile-menu-action-btn admin-mobile-menu-reset",onClick:m,children:[i.jsx("span",{className:"admin-mobile-menu-action-icon",children:"🔐"}),i.jsx("span",{className:"admin-mobile-menu-action-label",children:"Reset Password"})]}),i.jsxs("button",{className:"admin-mobile-menu-action-btn admin-mobile-menu-logout",onClick:h,children:[i.jsx("span",{className:"admin-mobile-menu-action-icon",children:"🚪"}),i.jsx("span",{className:"admin-mobile-menu-action-label",children:"Logout"})]})]})]})]})})]})}const us="http://localhost:3001/api",dr=async(e,t={})=>{const n=`${us}${e}`,s={headers:{...t.headers},...t},r=localStorage.getItem("adminToken");r&&(s.headers.Authorization=`Bearer ${r}`),t.body instanceof FormData||(s.headers["Content-Type"]="application/json",t.body&&(s.body=JSON.stringify(t.body)));try{const a=await fetch(n,s);if(!a.ok){const o=await a.json().catch(()=>({}));throw new Error(o.error||`HTTP error! status: ${a.status}`)}return await a.json()}catch(a){throw console.error("API Error:",a),a}},X={get:e=>dr(e),post:(e,t)=>dr(e,{method:"POST",body:t}),put:(e,t)=>dr(e,{method:"PUT",body:t}),delete:e=>dr(e,{method:"DELETE"})},ds={getAll:()=>X.get("/news/all"),getPublished:()=>X.get("/news"),getById:e=>X.get(`/news/${e}`),create:e=>X.post("/news",e),update:(e,t)=>X.put(`/news/${e}`,t),updateStatus:(e,t)=>X.put(`/news/${e}/status`,{stato:t}),delete:e=>X.delete(`/news/${e}`),getStats:()=>X.get("/news/stats")},rn={getAll:()=>X.get("/courses"),getStats:()=>X.get("/courses/stats"),create:e=>X.post("/courses",e),updateStatus:(e,t)=>X.put(`/courses/${e}/status`,{status:t}),updateDetails:(e,t)=>X.put(`/courses/${e}`,t),delete:e=>X.delete(`/courses/${e}`)},Dh={getAll:()=>X.get("/bookings"),checkAvailability:(e,t,n)=>X.get(`/bookings/available/${e}`),create:e=>X.post("/bookings",e),updateStatus:(e,t)=>X.put(`/bookings/${e}/status`,{status:t}),update:(e,t)=>X.put(`/bookings/${e}`,t),delete:e=>X.delete(`/bookings/${e}`),getClientBookings:e=>X.get(`/bookings/client/${e}`),getDateBookings:e=>X.get(`/bookings/date/${e}`),getStats:()=>X.get("/bookings/stats/overview"),formatDate:e=>typeof e=="string"?e:e.toISOString().split("T")[0],formatTime:e=>typeof e=="string"?e:`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`,validateBookingData:e=>{const t=[];return e.date||t.push("Data è richiesta"),e.start_time||t.push("Orario di inizio è richiesto"),e.duration||t.push("Durata è richiesta"),e.band_name||t.push("Nome band è richiesto"),e.email||t.push("Email è richiesta"),e.duration&&![1,2,3,4].includes(e.duration)&&t.push("Durata deve essere 1, 2, 3 o 4 ore"),e.members_count&&(e.members_count<1||e.members_count>6)&&t.push("Numero componenti deve essere tra 1 e 6"),e.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)&&t.push("Email non valida"),t}},qN={getStats:()=>X.get("/email/stats")},hr={exportBookings:()=>fetch(`${us}/export/bookings`).then(e=>e.text()),exportCourses:()=>fetch(`${us}/export/courses`).then(e=>e.text()),exportNews:()=>fetch(`${us}/export/news`).then(e=>e.text()),exportAll:()=>fetch(`${us}/export/all`).then(e=>e.json())},YN={createBackup:()=>{const e=document.createElement("a");return e.href=`${us}/backup/database`,e.download=`ariaperta_backup_${new Date().toISOString().replace(/[:.]/g,"-")}.db`,document.body.appendChild(e),e.click(),document.body.removeChild(e),Promise.resolve()},getStatus:()=>X.get("/backup/status")};function QN({onViewChange:e,toast:t,userRole:n}){const s=n==="docente",[r,a]=y.useState({totalCorsi:0,totalPrenotazioni:0,corsiOggi:0,prenotazioniOggi:0,corsiInAttesa:0,prenotazioniAttive:0,totalNews:0,newsOggi:0,emailInviate:0,emailOggi:0}),[o,l]=y.useState([]),[c,u]=y.useState(!0),[d,m]=y.useState(!1),h=async()=>{try{if(!localStorage.getItem("adminToken")){console.warn("Dashboard: Token non trovato, saltando caricamento statistiche");return}if(s){const C=await rn.getAll().catch(B=>(console.error("Errore caricamento corsi docente:",B),[])),T=new Date().toISOString().split("T")[0],k=C.filter(B=>B.created_at&&B.created_at.startsWith(T)).length,P=C.filter(B=>B.status==="In attesa").length,z={totalCorsi:C.length||0,totalPrenotazioni:0,corsiOggi:k,prenotazioniOggi:0,corsiInAttesa:P,prenotazioniAttive:0,totalNews:0,newsOggi:0,emailInviate:0,emailOggi:0};a(z)}else{const[C,T,k,P]=await Promise.all([rn.getStats().catch(B=>(console.error("Errore statistiche corsi:",B),{total_requests:0,nuove_richieste:0})),Dh.getAll().catch(B=>(console.error("Errore statistiche prenotazioni:",B),[])),ds.getStats().catch(B=>(console.error("Errore statistiche news:",B),{total_news:0,pubblicate:0})),qN.getStats().catch(B=>(console.error("Errore statistiche email:",B),{total:0,today:0}))]),z={totalCorsi:(C==null?void 0:C.total_requests)||0,totalPrenotazioni:Array.isArray(T)?T.length:0,corsiOggi:(C==null?void 0:C.today)||0,prenotazioniOggi:Array.isArray(T)?T.filter(B=>{const ie=new Date().toISOString().split("T")[0];return B.date===ie}).length:0,corsiInAttesa:(C==null?void 0:C.nuove_richieste)||0,prenotazioniAttive:Array.isArray(T)?T.filter(B=>B.status==="approved").length:0,totalNews:(k==null?void 0:k.total_news)||0,newsOggi:(k==null?void 0:k.pubblicate)||0,emailInviate:(P==null?void 0:P.total)||0,emailOggi:(P==null?void 0:P.today)||0};a(z)}}catch(j){console.error("Errore nel caricamento statistiche:",j),a({totalCorsi:24,totalPrenotazioni:156,corsiOggi:3,prenotazioniOggi:8,corsiInAttesa:7,prenotazioniAttive:12,totalNews:15,newsOggi:3,emailInviate:342,emailOggi:12})}},v=async()=>{try{if(!localStorage.getItem("adminToken")){console.warn("Dashboard: Token non trovato, saltando caricamento attività recenti");return}if(u(!0),m(!1),s){const C=await rn.getAll().catch(()=>[]),T=[];Array.isArray(C)&&C.slice(0,5).forEach(k=>{T.push({id:`course-${k.id}`,type:"course",icon:"🎸",title:"Nuova richiesta corso",description:`${k.nome} - ${k.strumento}`,timestamp:new Date(k.created_at||Date.now()),status:k.status})}),l(T)}else{const[C,T]=await Promise.all([Dh.getAll().catch(()=>[]),rn.getAll().catch(()=>[])]),k=[];Array.isArray(C)&&C.slice(0,5).forEach(z=>{k.push({id:`booking-${z.id}`,type:"booking",icon:"🎤",title:`Prenotazione ${z.status==="approved"?"confermata":"in attesa"}`,description:`${z.band_name} - ${new Date(z.date).toLocaleDateString("it-IT")} ${z.start_time}`,timestamp:new Date(z.created_at||Date.now()),status:z.status})}),Array.isArray(T)&&T.slice(0,3).forEach(z=>{k.push({id:`course-${z.id}`,type:"course",icon:"🎸",title:"Nuova richiesta corso",description:`${z.nome} - ${z.strumento}`,timestamp:new Date(z.created_at||Date.now()),status:z.status})});const P=k.sort((z,B)=>B.timestamp-z.timestamp).slice(0,5);l(P)}}catch(j){console.error("Errore nel caricamento attività recenti:",j),m(!0)}finally{u(!1)}},w=j=>{const T=new Date-j,k=Math.floor(T/6e4),P=Math.floor(T/36e5),z=Math.floor(T/864e5);return k<1?"Adesso":k<60?`${k} minuti fa`:P<24?`${P} ore fa`:`${z} giorni fa`};y.useEffect(()=>{h(),v();const j=setInterval(()=>{h(),v()},3e4);return()=>clearInterval(j)},[n]);const S=[{id:"nuova-prenotazione",label:"Nuova Prenotazione",icon:"➕",description:"Aggiungi una sala prove",action:()=>{try{sessionStorage.setItem("openNewBooking","1")}catch{}e&&e("prenotazioni")},available:!0,showFor:["admin","salaprove"]},{id:"gestisci-corsi",label:"Gestisci Corsi",icon:"🎸",description:"Visualizza richieste iscrizione",action:()=>e&&e("corsi"),available:!0,showFor:["admin","salacorsi","docente"]},{id:"esporta-dati",label:"Esporta Dati",icon:"📊",description:"Scarica report e statistiche",action:()=>f(),available:!0,showFor:["admin","salaprove","salacorsi","news"]},{id:"backup",label:"Backup Sistema",icon:"💾",description:"Crea backup del database",action:()=>p(),available:!0,showFor:["admin"]}],N=()=>S.filter(j=>j.showFor.includes(n)),f=async()=>{try{t.showInfo("📊 Esportazione dati in corso...",3e3);const j=await g();if(!j)return;let C,T;switch(j){case"bookings":C=await hr.exportBookings(),T=`prenotazioni_${new Date().toISOString().split("T")[0]}.csv`;break;case"courses":C=await hr.exportCourses(),T=`corsi_${new Date().toISOString().split("T")[0]}.csv`;break;case"news":C=await hr.exportNews(),T=`news_${new Date().toISOString().split("T")[0]}.csv`;break;case"all":C=await hr.exportAll(),T=`export_completo_${new Date().toISOString().split("T")[0]}.json`;break;default:return}const k=new Blob([C],{type:j==="all"?"application/json":"text/csv"}),P=window.URL.createObjectURL(k),z=document.createElement("a");z.href=P,z.download=T,document.body.appendChild(z),z.click(),document.body.removeChild(z),window.URL.revokeObjectURL(P),t.showSuccess(`✅ ${j==="all"?"Export completo":"CSV"} scaricato con successo!`)}catch(j){console.error("Errore nell'esportazione:",j),t.showError("❌ Errore nell'esportazione dei dati")}},p=async()=>{try{t.showInfo("💾 Creazione backup in corso...",3e3);const j=await YN.createBackup();t.showSuccess("✅ Backup del database creato e scaricato!")}catch(j){console.error("Errore nella creazione backup:",j),t.showError("❌ Errore nella creazione del backup")}},g=()=>new Promise(j=>{const C=document.createElement("div");C.className="export-modal-overlay",C.innerHTML=`
        <div class="export-modal">
          <h3>📊 Seleziona tipo di export</h3>
          <div class="export-options">
            <button class="export-option" data-type="bookings">
              <span class="export-icon">🎤</span>
              <div class="export-text">
                <strong>Prenotazioni</strong>
                <small>CSV con tutte le prenotazioni sala prove</small>
              </div>
            </button>
            <button class="export-option" data-type="courses">
              <span class="export-icon">🎸</span>
              <div class="export-text">
                <strong>Corsi</strong>
                <small>CSV con richieste iscrizione corsi</small>
              </div>
            </button>
            <button class="export-option" data-type="news">
              <span class="export-icon">📰</span>
              <div class="export-text">
                <strong>News</strong>
                <small>CSV con contenuti e articoli</small>
              </div>
            </button>
            <button class="export-option" data-type="all">
              <span class="export-icon">📦</span>
              <div class="export-text">
                <strong>Export Completo</strong>
                <small>JSON con tutti i dati del sistema</small>
              </div>
            </button>
          </div>
          <div class="export-actions">
            <button class="export-cancel">Annulla</button>
          </div>
        </div>
      `,document.body.appendChild(C),C.querySelectorAll(".export-option").forEach(T=>{T.addEventListener("click",()=>{const k=T.dataset.type;document.body.removeChild(C),j(k)})}),C.querySelector(".export-cancel").addEventListener("click",()=>{document.body.removeChild(C),j(null)}),C.addEventListener("click",T=>{T.target===C&&(document.body.removeChild(C),j(null))})}),x=()=>{h(),t.showSuccess("Statistiche aggiornate!")},b=()=>[{id:"corsi",icon:"🎸",title:"Iscrizioni Corsi",number:r.totalCorsi,detail1:`+${r.corsiOggi} oggi`,detail2:`${r.corsiInAttesa} in attesa`,showFor:["admin","salacorsi","docente","user"]},{id:"prenotazioni",icon:"🎤",title:"Prenotazioni Sala",number:r.totalPrenotazioni,detail1:`+${r.prenotazioniOggi} oggi`,detail2:`${r.prenotazioniAttive} attive`,showFor:["admin","salaprove","user"]},{id:"news",icon:"📰",title:"News Pubblicate",number:r.totalNews||0,detail1:`+${r.newsOggi||0} questa settimana`,detail2:"Contenuti attivi",showFor:["admin","news","user"]},{id:"email",icon:"📧",title:"Email Inviate",number:r.emailInviate||0,detail1:`+${r.emailOggi||0} oggi`,detail2:"Conferme e notifiche",showFor:["admin","user"]}].filter(C=>C.showFor.includes(n));return i.jsxs("div",{className:"admin-dashboard",children:[i.jsx(J.div,{className:"dashboard-header",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:i.jsxs("div",{className:"header-content",children:[i.jsxs("div",{className:"header-text",children:[i.jsx("h1",{children:s?"Dashboard Docente":"Dashboard"}),i.jsx("p",{children:s?"Le tue richieste corsi e statistiche":"Panoramica generale di Exmatta"})]}),i.jsx("button",{onClick:x,className:"refresh-btn",title:"Aggiorna statistiche",children:"Aggiorna"})]})}),i.jsx("div",{className:"stats-grid",children:b().map((j,C)=>i.jsxs(J.div,{className:`stat-card ${j.id==="corsi"?"primary":j.id==="prenotazioni"?"secondary":j.id==="news"?"accent":"info"}`,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.1+C*.1},children:[i.jsx("div",{className:"stat-icon",children:j.icon}),i.jsxs("div",{className:"stat-content",children:[i.jsx("h3",{children:j.title}),i.jsx("div",{className:"stat-number",children:j.number}),i.jsxs("div",{className:"stat-detail",children:[i.jsx("span",{className:"stat-change positive",children:j.detail1}),i.jsx("span",{className:j.id==="corsi"?"stat-pending":j.id==="prenotazioni"?"stat-active":j.id==="news"?"stat-trend":"stat-status",children:j.detail2})]})]})]},j.id))}),i.jsxs(J.div,{className:"quick-actions",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},children:[i.jsx("h2",{children:s?"Azioni Disponibili":"Azioni Rapide"}),i.jsx("div",{className:"actions-grid",children:N().map((j,C)=>i.jsxs(J.div,{className:`action-card ${j.available?"":"not-available"}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.6+C*.1},children:[i.jsx("span",{className:"action-icon",children:j.icon}),i.jsxs("div",{className:"action-content",children:[i.jsx("h3",{children:j.label}),i.jsx("p",{children:j.description}),!j.available&&i.jsx("div",{className:"not-available-banner",children:"Questa funzione non è ancora disponibile"})]}),j.available?i.jsx(J.button,{className:"action-button",onClick:j.action,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Accedi"}):i.jsx("button",{className:"action-button disabled",onClick:j.action,children:"Info"})]},j.id))})]}),i.jsxs(J.div,{className:"recent-activity",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.7},children:[i.jsx("h2",{children:s?"Le Tue Richieste Recenti":"Attività Recenti"}),i.jsx("div",{className:"activity-list",children:c?i.jsxs("div",{className:"activity-loading",children:[i.jsx("div",{className:"loading-spinner"}),i.jsx("p",{children:"Caricamento attività..."})]}):d?i.jsxs("div",{className:"activity-error",children:[i.jsx("span",{className:"error-icon",children:"❌"}),i.jsx("p",{children:"Errore nel caricamento delle attività"}),i.jsx("button",{onClick:v,className:"retry-btn",children:"Riprova"})]}):o.length>0?o.map(j=>i.jsxs(J.div,{className:`activity-item ${j.type} ${j.status}`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},children:[i.jsx("span",{className:"activity-icon",children:j.icon}),i.jsxs("div",{className:"activity-content",children:[i.jsx("strong",{children:j.title}),i.jsx("p",{children:j.description}),i.jsx("span",{className:"activity-time",children:w(j.timestamp)})]}),i.jsx("span",{className:`activity-status ${j.status}`,children:j.status==="approved"?"✅":j.status==="pending"?"⏳":"❌"})]},j.id)):i.jsxs("div",{className:"activity-empty",children:[i.jsx("span",{className:"empty-icon",children:"📭"}),i.jsx("p",{children:"Nessuna attività recente"})]})})]})]})}function XN({userRole:e}){const t=e==="docente",[n,s]=y.useState([]),[r,a]=y.useState([]),[o,l]=y.useState("tutte"),[c,u]=y.useState(""),[d,m]=y.useState(null);y.useEffect(()=>{(async()=>{try{if(!localStorage.getItem("adminToken")){console.warn("GestioneCorsi: Token non trovato, saltando caricamento richieste");return}const p=await rn.getAll();p&&Array.isArray(p)?(s(p),a(p)):p&&p.requests?(s(p.requests),a(p.requests)):(s([]),a([]))}catch(f){console.error("Errore nel caricamento richieste:",f);const p=[{id:1,nome:"Mario Rossi",email:"mario.rossi@email.com",telefono:"333 123 4567",tipoCorso:"Musica",messaggio:"Sono un principiante, vorrei iniziare con la chitarra acustica",dataCreazione:"2024-01-15",status:"In attesa"}];s(p),a(p)}})()},[]),y.useEffect(()=>{let N=n;o!=="tutte"&&(N=N.filter(f=>f.status===o)),c&&(N=N.filter(f=>f.nome.toLowerCase().includes(c.toLowerCase())||f.email.toLowerCase().includes(c.toLowerCase())||f.strumento.toLowerCase().includes(c.toLowerCase()))),a(N)},[n,o,c]);const h=async(N,f)=>{try{(await rn.updateStatus(N,f)).success&&s(g=>g.map(x=>x.id===N?{...x,status:f}:x))}catch(p){console.error("Errore durante l'aggiornamento dello stato:",p)}},v=N=>{m(N)},w=async()=>{if(d)try{(await rn.delete(d.id)).success&&(s(f=>f.filter(p=>p.id!==d.id)),m(null))}catch(N){console.error("Errore durante l'eliminazione:",N),alert("Errore durante l'eliminazione della richiesta")}},S=N=>N==="tutte"?n.length:n.filter(f=>f.status===N).length;return i.jsxs("div",{className:"gestione-corsi",children:[i.jsxs("div",{className:"page-header",children:[i.jsxs("h1",{children:["🎸 ",t?"Le Tue Richieste Corsi":"Richieste Info Corsi"]}),i.jsx("p",{children:t?"Visualizza le richieste di informazioni sui tuoi corsi":"Gestisci le richieste sui corsi musicali"})]}),i.jsxs("div",{className:"stats-grid",children:[i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:"⏳"}),i.jsxs("div",{className:"stat-content",children:[i.jsx("div",{className:"stat-number",children:S("In attesa")}),i.jsx("div",{className:"stat-label",children:t?"Tue Richieste in Attesa":"Richieste in Attesa"})]})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:"✅"}),i.jsxs("div",{className:"stat-content",children:[i.jsx("div",{className:"stat-number",children:S("Completata")}),i.jsx("div",{className:"stat-label",children:t?"Tue Richieste Completate":"Completate"})]})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:"📊"}),i.jsxs("div",{className:"stat-content",children:[i.jsx("div",{className:"stat-number",children:S("tutte")}),i.jsx("div",{className:"stat-label",children:t?"Totale Tue Richieste":"Totale"})]})]})]}),i.jsx("div",{className:"filters-section",children:i.jsxs("div",{className:"filter-controls",children:[i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Filtra per stato:"}),i.jsxs("select",{value:o,onChange:N=>l(N.target.value),children:[i.jsx("option",{value:"tutte",children:t?"Tutte le tue richieste":"Tutte le richieste"}),i.jsx("option",{value:"In attesa",children:"In attesa"}),i.jsx("option",{value:"Completata",children:"Completate"})]})]}),i.jsxs("div",{className:"search-group",children:[i.jsx("label",{children:"Cerca:"}),i.jsx("input",{type:"text",placeholder:t?"Cerca nelle tue richieste...":"Nome, email o tipo corso...",value:c,onChange:N=>u(N.target.value)})]})]})}),i.jsxs("div",{className:"table-container",children:[i.jsxs("table",{className:"richieste-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"📅 Data"}),i.jsx("th",{children:"👤 Nome"}),i.jsx("th",{className:"dont-display",children:"📧 Email"}),i.jsx("th",{className:"dont-display",children:"📞 Telefono"}),i.jsx("th",{className:"dont-display",children:"🎸 Tipo Corso"}),i.jsx("th",{className:"dont-display",children:"👨‍🏫 Insegnante"}),i.jsx("th",{className:"dont-display",children:"💬 Messaggio"}),i.jsx("th",{className:"dont-display",children:"📊 Stato"}),i.jsx("th",{children:"⚡ Azioni"})]})}),i.jsx("tbody",{children:r.map(N=>i.jsxs("tr",{className:`richiesta-row ${N.status}`,children:[i.jsx("td",{className:"data-cell",children:new Date(N.created_at).toLocaleDateString("it-IT")}),i.jsx("td",{className:"nome-cell",children:i.jsx("strong",{children:N.nome})}),i.jsx("td",{className:"email-cell",children:i.jsx("a",{href:`mailto:${N.email}`,className:"email-link",children:N.email})}),i.jsx("td",{className:"telefono-cell",children:N.telefono?i.jsx("a",{href:`tel:${N.telefono}`,className:"phone-link",children:N.telefono}):i.jsx("span",{className:"no-phone",children:"-"})}),i.jsx("td",{className:"tipo-corso-cell",children:i.jsx("span",{className:"tipo-corso-badge",children:N.strumento})}),i.jsx("td",{className:"insegnante-cell",children:N.teacher_name?i.jsx("div",{className:"insegnante-info",children:i.jsx("span",{className:"insegnante-nome",children:N.teacher_name})}):i.jsx("span",{className:"no-insegnante",children:"Non specificato"})}),i.jsx("td",{className:"messaggio-cell",children:i.jsx("div",{className:"messaggio-text",children:N.descrizione||"Nessun messaggio"})}),i.jsx("td",{className:"stato-cell",children:i.jsx("span",{className:`stato-badge ${N.status}`,children:N.status==="In attesa"?"⏳ In attesa":"✅ Completata"})}),i.jsxs("td",{className:"azioni-cell",children:[N.status==="In attesa"?i.jsx("button",{className:"btn-completa",onClick:()=>h(N.id,"Completata"),title:"Segna come completata",children:"✅"}):i.jsx("button",{className:"btn-nuova",onClick:()=>h(N.id,"In attesa"),title:"Rimetti come in attesa",children:"⏳"}),N.telefono&&N.telefono!=="Non fornito"&&i.jsx("button",{className:"btn-chiama",onClick:()=>window.open(`tel:${N.telefono}`),title:"Chiama",children:"📞"}),i.jsx("button",{className:"btn-email",onClick:()=>window.open(`mailto:${N.email}`),title:"Invia email",children:"📧"}),i.jsx("button",{className:"btn-elimina",onClick:()=>v(N),title:"Elimina richiesta",children:"🗑️"})]})]},N.id))})]}),r.length===0&&i.jsx("div",{className:"no-results",children:i.jsx("p",{children:"📭 Nessuna richiesta trovata con i filtri selezionati."})})]}),d&&i.jsx("div",{className:"delete-confirmation-banner",children:i.jsxs("div",{className:"banner-content",children:[i.jsx("div",{className:"banner-icon",children:"🗑️"}),i.jsxs("div",{className:"banner-text",children:[i.jsx("h3",{children:"🗑️ Conferma Eliminazione"}),i.jsxs("p",{children:["Sei sicuro di voler eliminare la richiesta di ",i.jsxs("strong",{children:[d.nome," "]}),"per il corso di ",i.jsx("strong",{children:d.strumento}),"?"]}),i.jsxs("p",{className:"warning-text",children:[i.jsx("strong",{children:"⚠️ Attenzione:"})," Questa azione non può essere annullata."]})]}),i.jsxs("div",{className:"banner-actions",children:[i.jsx("button",{className:"btn-cancel",onClick:()=>m(null),children:"❌ Annulla"}),i.jsx("button",{className:"btn-confirm-delete",onClick:w,children:"🗑️ Elimina Definitivamente"})]})]})})]})}const ZN=()=>{const[e,t]=y.useState("prenotazioni"),[n,s]=y.useState([]),[r,a]=y.useState(!0),[o,l]=y.useState(null),[c,u]=y.useState({}),[d,m]=y.useState(!1),[h,v]=y.useState(null),[w,S]=y.useState(""),[N,f]=y.useState(!1),[p,g]=y.useState({band_name:"",date:"",start_time:"",duration:1,members_count:"",email:"",phone:"",notes:""}),[x,b]=y.useState([]),[j,C]=y.useState(!1),[T,k]=y.useState({start_date:"",end_date:"",start_time:"",end_time:"",reason:""}),[P,z]=y.useState({show:!1,type:"",message:""});y.useEffect(()=>{e==="prenotazioni"?B():e==="disponibilita"&&ie()},[e]);const B=async()=>{try{a(!0);const D=await X.get("/bookings");s(D),l(null)}catch(D){l("Errore nel caricamento delle prenotazioni"),console.error("Errore fetch prenotazioni:",D)}finally{a(!1)}},ie=async()=>{try{a(!0);const D=await X.get("/bookings/availability-blocks");b(D),l(null)}catch(D){l("Errore nel caricamento dei blocchi disponibilità"),console.error("Errore fetch blocchi disponibilità:",D)}finally{a(!1)}},me=async D=>{D.preventDefault();try{u(re=>({...re,create:!0})),(await X.post("/bookings",p)).success?(I("success","Prenotazione creata con successo!"),g({band_name:"",date:"",start_time:"",duration:1,members_count:"",email:"",phone:"",notes:""}),f(!1),B()):I("error","Errore nella creazione della prenotazione")}catch(F){I("error","Errore nella creazione della prenotazione"),console.error("Errore creazione prenotazione:",F)}finally{u(F=>({...F,create:!1}))}},ot=async D=>{D.preventDefault();try{u(re=>({...re,availability:!0})),(await X.post("/bookings/availability-blocks",T)).success?(I("success","Blocco disponibilità creato con successo!"),k({start_date:"",end_date:"",start_time:"",end_time:"",reason:""}),C(!1),ie()):I("error","Errore nella creazione del blocco disponibilità")}catch(F){I("error","Errore nella creazione del blocco disponibilità"),console.error("Errore creazione blocco disponibilità:",F)}finally{u(F=>({...F,availability:!1}))}},Le=async D=>{try{u(re=>({...re,[D]:!0})),(await X.delete(`/bookings/availability-blocks/${D}`)).success?(I("success","Blocco disponibilità eliminato con successo!"),ie()):I("error","Errore nell'eliminazione del blocco disponibilità")}catch(F){I("error","Errore nell'eliminazione del blocco disponibilità"),console.error("Errore eliminazione blocco disponibilità:",F)}finally{u(F=>({...F,[D]:!1}))}},G=async D=>{try{u(re=>({...re,[D]:!0}));const F=await X.post(`/bookings/${D}/confirm`);F.success?(I("success",`Prenotazione confermata! File .ics generato: ${F.icsFilename}`),s(re=>re.map(A=>A.id===D?{...A,status:"approved"}:A))):I("error","Errore nella conferma della prenotazione")}catch(F){I("error","Errore nella conferma della prenotazione"),console.error("Errore conferma prenotazione:",F)}finally{u(F=>({...F,[D]:!1}))}},R=async(D,F)=>{try{u(A=>({...A,[D]:!0}));const re=await X.post(`/bookings/${D}/cancel`,{reason:F});re.success?(I("success",`Prenotazione cancellata! File .ics generato: ${re.icsFilename}`),s(A=>A.map(V=>V.id===D?{...V,status:"cancelled"}:V)),m(!1),v(null),S("")):I("error","Errore nella cancellazione della prenotazione")}catch(re){I("error","Errore nella cancellazione della prenotazione"),console.error("Errore cancellazione prenotazione:",re)}finally{u(re=>({...re,[D]:!1}))}},L=D=>{v(D),m(!0)},I=(D,F)=>{z({show:!0,type:D,message:F}),setTimeout(()=>z({show:!1,type:"",message:""}),5e3)},Z=D=>{const re={pending:{text:"In Attesa",class:"status-pending"},approved:{text:"Confermata",class:"status-approved"},rejected:{text:"Rifiutata",class:"status-rejected"},cancelled:{text:"Cancellata",class:"status-cancelled"}}[D]||{text:D,class:"status-unknown"};return i.jsx("span",{className:`status-badge ${re.class}`,children:re.text})},ee=D=>D.status==="pending"?i.jsxs("div",{className:"action-buttons",children:[i.jsx("button",{className:"btn-confirm",onClick:()=>G(D.id),disabled:c[D.id],children:c[D.id]?"⏳ Confermando...":"✅ Conferma"}),i.jsx("button",{className:"btn-cancel",onClick:()=>L(D),disabled:c[D.id],children:"❌ Cancella"})]}):D.status==="approved"?i.jsx("div",{className:"action-buttons",children:i.jsx("button",{className:"btn-cancel",onClick:()=>L(D),disabled:c[D.id],children:"❌ Cancella"})}):i.jsx("span",{className:"no-actions",children:"Nessuna azione disponibile"}),se=D=>new Date(D).toLocaleDateString("it-IT",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),Ce=D=>D,kt=D=>new Date(D).toLocaleDateString("it-IT",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),be=()=>{g({band_name:"",date:"",start_time:"",duration:1,members_count:"",email:"",phone:"",notes:""}),f(!1)},Ue=()=>{k({start_date:"",end_date:"",start_time:"",end_time:"",reason:""}),C(!1)};return r?i.jsx("div",{className:"gestione-prenotazioni",children:i.jsxs("div",{className:"loading-container",children:[i.jsx("div",{className:"loading-spinner",children:"⏳"}),i.jsx("p",{children:"Caricamento prenotazioni..."})]})}):o?i.jsx("div",{className:"gestione-prenotazioni",children:i.jsxs("div",{className:"error-container",children:[i.jsx("h2",{children:"❌ Errore"}),i.jsx("p",{children:o}),i.jsx("button",{onClick:B,className:"btn-retry",children:"🔄 Riprova"})]})}):i.jsxs("div",{className:"gestione-prenotazioni",children:[i.jsxs("div",{className:"header",children:[i.jsx("h1",{children:"🎵 Gestione Sala Prove"}),i.jsx("p",{children:"Gestisci prenotazioni, blocchi disponibilità e genera file calendario (.ics) automaticamente"})]}),P.show&&i.jsxs("div",{className:`feedback-message ${P.type}`,children:[i.jsx("span",{className:"feedback-icon",children:P.type==="success"?"✅":"❌"}),P.message]}),i.jsxs("div",{className:"tab-navigation",children:[i.jsx("button",{className:`tab-button ${e==="prenotazioni"?"active":""}`,onClick:()=>t("prenotazioni"),children:"📋 Gestione Prenotazioni"}),i.jsx("button",{className:`tab-button ${e==="disponibilita"?"active":""}`,onClick:()=>t("disponibilita"),children:"🚫 Blocchi Disponibilità"})]}),e==="prenotazioni"&&i.jsxs("div",{className:"tab-content",children:[i.jsxs("div",{className:"stats-container",children:[i.jsxs("div",{className:"stat-card",children:[i.jsx("h3",{children:"📊 Totale Prenotazioni"}),i.jsx("p",{className:"stat-number",children:n.length})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("h3",{children:"⏳ In Attesa"}),i.jsx("p",{className:"stat-number",children:n.filter(D=>D.status==="pending").length})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("h3",{children:"✅ Confermate"}),i.jsx("p",{className:"stat-number",children:n.filter(D=>D.status==="approved").length})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("h3",{children:"❌ Cancellate"}),i.jsx("p",{className:"stat-number",children:n.filter(D=>D.status==="cancelled").length})]})]}),i.jsxs("div",{className:"form-section",children:[i.jsxs("div",{className:"form-header",children:[i.jsx("h2",{children:"➕ Nuova Prenotazione"}),i.jsx("button",{className:"btn-toggle-form",onClick:()=>f(!N),children:N?"❌ Chiudi":"➕ Nuova Prenotazione"})]}),N&&i.jsxs("form",{onSubmit:me,className:"new-booking-form",children:[i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"band_name",children:"Nome Band *"}),i.jsx("input",{type:"text",id:"band_name",value:p.band_name,onChange:D=>g(F=>({...F,band_name:D.target.value})),required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"email",children:"Email *"}),i.jsx("input",{type:"email",id:"email",value:p.email,onChange:D=>g(F=>({...F,email:D.target.value})),required:!0})]})]}),i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"date",children:"Data *"}),i.jsx("input",{type:"date",id:"date",value:p.date,onChange:D=>g(F=>({...F,date:D.target.value})),required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"start_time",children:"Orario Inizio *"}),i.jsx("input",{type:"time",id:"start_time",value:p.start_time,onChange:D=>g(F=>({...F,start_time:D.target.value})),required:!0})]})]}),i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"duration",children:"Durata (ore) *"}),i.jsxs("select",{id:"duration",value:p.duration,onChange:D=>g(F=>({...F,duration:parseInt(D.target.value)})),required:!0,children:[i.jsx("option",{value:1,children:"1 ora"}),i.jsx("option",{value:2,children:"2 ore"}),i.jsx("option",{value:3,children:"3 ore"}),i.jsx("option",{value:4,children:"4 ore"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"members_count",children:"Numero Componenti"}),i.jsx("input",{type:"number",id:"members_count",value:p.members_count,onChange:D=>g(F=>({...F,members_count:D.target.value})),min:"1",max:"20"})]})]}),i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"phone",children:"Telefono"}),i.jsx("input",{type:"tel",id:"phone",value:p.phone,onChange:D=>g(F=>({...F,phone:D.target.value}))})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"notes",children:"Note"}),i.jsx("textarea",{id:"notes",value:p.notes,onChange:D=>g(F=>({...F,notes:D.target.value})),rows:"2"})]})]}),i.jsxs("div",{className:"form-actions",children:[i.jsx("button",{type:"button",className:"btn-secondary",onClick:be,children:"❌ Annulla"}),i.jsx("button",{type:"submit",className:"btn-primary",disabled:c.create,children:c.create?"⏳ Creando...":"✅ Crea Prenotazione"})]})]})]}),i.jsxs("div",{className:"bookings-container",children:[i.jsx("h2",{children:"📋 Lista Prenotazioni"}),n.length===0?i.jsx("div",{className:"no-bookings",children:i.jsx("p",{children:"Nessuna prenotazione trovata"})}):i.jsx("div",{className:"bookings-grid",children:n.map(D=>i.jsxs("div",{className:"booking-card",children:[i.jsxs("div",{className:"booking-header",children:[i.jsx("h3",{children:D.band_name}),Z(D.status)]}),i.jsxs("div",{className:"booking-details",children:[i.jsxs("div",{className:"detail-row",children:[i.jsx("span",{className:"detail-label",children:"📅 Data:"}),i.jsx("span",{className:"detail-value",children:se(D.date)})]}),i.jsxs("div",{className:"detail-row",children:[i.jsx("span",{className:"detail-label",children:"🕐 Orario:"}),i.jsx("span",{className:"detail-value",children:Ce(D.start_time)})]}),i.jsxs("div",{className:"detail-row",children:[i.jsx("span",{className:"detail-label",children:"⏱️ Durata:"}),i.jsxs("span",{className:"detail-value",children:[D.duration," ",D.duration===1?"ora":"ore"]})]}),i.jsxs("div",{className:"detail-row",children:[i.jsx("span",{className:"detail-label",children:"👥 Componenti:"}),i.jsx("span",{className:"detail-value",children:D.members_count||"Non specificato"})]}),i.jsxs("div",{className:"detail-row",children:[i.jsx("span",{className:"detail-label",children:"📧 Email:"}),i.jsx("span",{className:"detail-value",children:D.email})]}),D.phone&&i.jsxs("div",{className:"detail-row",children:[i.jsx("span",{className:"detail-label",children:"📞 Telefono:"}),i.jsx("span",{className:"detail-value",children:D.phone})]}),D.notes&&i.jsxs("div",{className:"detail-row",children:[i.jsx("span",{className:"detail-label",children:"📝 Note:"}),i.jsx("span",{className:"detail-value",children:D.notes})]})]}),i.jsx("div",{className:"booking-actions",children:ee(D)})]},D.id))})]})]}),e==="disponibilita"&&i.jsxs("div",{className:"tab-content",children:[i.jsxs("div",{className:"form-section",children:[i.jsxs("div",{className:"form-header",children:[i.jsx("h2",{children:"🚫 Nuovo Blocco Disponibilità"}),i.jsx("button",{className:"btn-toggle-form",onClick:()=>C(!j),children:j?"❌ Chiudi":"🚫 Nuovo Blocco"})]}),j&&i.jsxs("form",{onSubmit:ot,className:"new-availability-form",children:[i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"block_start_date",children:"Data Inizio *"}),i.jsx("input",{type:"date",id:"block_start_date",value:T.start_date,onChange:D=>k(F=>({...F,start_date:D.target.value})),required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"block_end_date",children:"Data Fine *"}),i.jsx("input",{type:"date",id:"block_end_date",value:T.end_date,onChange:D=>k(F=>({...F,end_date:D.target.value})),required:!0})]})]}),i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"block_start_time",children:"Orario Inizio *"}),i.jsx("input",{type:"time",id:"block_start_time",value:T.start_time,onChange:D=>k(F=>({...F,start_time:D.target.value})),required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"block_end_time",children:"Orario Fine *"}),i.jsx("input",{type:"time",id:"block_end_time",value:T.end_time,onChange:D=>k(F=>({...F,end_time:D.target.value})),required:!0})]})]}),i.jsx("div",{className:"form-row",children:i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"block_reason",children:"Motivo *"}),i.jsx("input",{type:"text",id:"block_reason",value:T.reason,onChange:D=>k(F=>({...F,reason:D.target.value})),placeholder:"Es: Manutenzione, Evento, Chiusura...",required:!0})]})}),i.jsxs("div",{className:"form-actions",children:[i.jsx("button",{type:"button",className:"btn-secondary",onClick:Ue,children:"❌ Annulla"}),i.jsx("button",{type:"submit",className:"btn-primary",disabled:c.availability,children:c.availability?"⏳ Creando...":"🚫 Crea Blocco"})]})]})]}),i.jsxs("div",{className:"availability-container",children:[i.jsx("h2",{children:"🚫 Blocchi Disponibilità Attivi"}),x.length===0?i.jsx("div",{className:"no-blocks",children:i.jsx("p",{children:"Nessun blocco disponibilità trovato"})}):i.jsx("div",{className:"availability-grid",children:x.map(D=>i.jsxs("div",{className:"availability-card",children:[i.jsxs("div",{className:"availability-header",children:[i.jsxs("h3",{children:["🚫 ",D.reason]}),i.jsx("button",{className:"btn-delete",onClick:()=>Le(D.id),disabled:c[D.id],children:c[D.id]?"⏳":"🗑️"})]}),i.jsxs("div",{className:"availability-details",children:[i.jsxs("div",{className:"detail-row",children:[i.jsx("span",{className:"detail-label",children:"📅 Data:"}),i.jsxs("span",{className:"detail-value",children:[kt(D.start_date)," - ",kt(D.end_date)]})]}),i.jsxs("div",{className:"detail-row",children:[i.jsx("span",{className:"detail-label",children:"🕐 Orario:"}),i.jsxs("span",{className:"detail-value",children:[D.start_time," - ",D.end_time]})]}),i.jsxs("div",{className:"detail-row",children:[i.jsx("span",{className:"detail-label",children:"⏱️ Durata:"}),i.jsx("span",{className:"detail-value",children:(()=>{const F=new Date(`${D.start_date}T${D.start_time}`),A=new Date(`${D.end_date}T${D.end_time}`)-F,V=Math.round(A/(1e3*60*60));return`${V} ${V===1?"ora":"ore"}`})()})]})]})]},D.id))})]})]}),d&&h&&i.jsx("div",{className:"modal-overlay",onClick:()=>m(!1),children:i.jsxs("div",{className:"modal-content",onClick:D=>D.stopPropagation(),children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h3",{children:"❌ Cancella Prenotazione"}),i.jsx("button",{className:"modal-close",onClick:()=>m(!1),children:"✕"})]}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("p",{children:["Stai per cancellare la prenotazione di ",i.jsx("strong",{children:h.band_name}),"per il ",i.jsx("strong",{children:se(h.date)})," alle ",i.jsx("strong",{children:Ce(h.start_time)}),"."]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"cancelReason",children:"Motivo della cancellazione:"}),i.jsx("textarea",{id:"cancelReason",value:w,onChange:D=>S(D.target.value),placeholder:"Inserisci il motivo della cancellazione...",rows:"3"})]}),i.jsxs("p",{className:"modal-note",children:[i.jsx("strong",{children:"Nota:"})," Verrà generato automaticamente un file calendario (.ics) e inviato via email al cliente e allo staff."]})]}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{className:"btn-secondary",onClick:()=>m(!1),children:"Annulla"}),i.jsx("button",{className:"btn-danger",onClick:()=>R(h.id,w),disabled:c[h.id],children:c[h.id]?"⏳ Cancellando...":"Conferma Cancellazione"})]})]})})]})};function JN({toast:e}){const[t,n]=y.useState([]),[s,r]=y.useState(!1),[a,o]=y.useState(null),[l,c]=y.useState(null),[u,d]=y.useState({titolo:"",sottotitolo:"",descrizione:"",stato:"Bozza",image:null});y.useEffect(()=>{(async()=>{try{const x=await ds.getAll();x&&x.success&&x.news?n(x.news):n([])}catch(x){console.error("Errore nel caricamento news:",x),n([])}})()},[]);const m=["Bozza","Pubblicato","Archiviato"],h=g=>{const{name:x,value:b}=g.target;d(j=>({...j,[x]:b}))},v=async g=>{if(g.preventDefault(),!u.titolo||!u.descrizione){e.showError("Titolo e descrizione sono obbligatori",3e3);return}if(u.descrizione.length>1e3){e.showError("La descrizione non può superare 1000 caratteri",3e3);return}try{const x=new FormData;if(x.append("titolo",u.titolo),x.append("sottotitolo",u.sottotitolo),x.append("descrizione",u.descrizione),x.append("stato",u.stato),u.image&&x.append("image",u.image),a){if((await ds.update(a.id,x)).success){const j=t.map(C=>C.id===a.id?{...C,titolo:u.titolo,sottotitolo:u.sottotitolo,descrizione:u.descrizione,stato:u.stato,updated_at:new Date().toISOString()}:C);n(j),e.showSuccess("News modificata con successo!",3e3)}}else{const b=await ds.create(x);if(b.success){const j={id:b.articleId,titolo:u.titolo,sottotitolo:u.sottotitolo,descrizione:u.descrizione,stato:u.stato,created_at:new Date().toISOString()};n([j,...t]),e.showSuccess("News creata con successo!",3e3)}}d({titolo:"",sottotitolo:"",descrizione:"",stato:"Bozza"}),r(!1),o(null)}catch(x){console.error("Errore durante il salvataggio:",x),e.showError("Errore durante il salvataggio. Riprova.",3e3)}},w=g=>{o(g),d({titolo:g.titolo,sottotitolo:g.sottotitolo,descrizione:g.descrizione,stato:g.stato,image:null}),r(!0)},S=g=>{c(g)},N=async()=>{if(l)try{(await ds.delete(l.id)).success&&(n(t.filter(x=>x.id!==l.id)),e.showSuccess("News eliminata con successo!",3e3),c(null))}catch(g){console.error("Errore durante l'eliminazione:",g),e.showError("Errore durante l'eliminazione. Riprova.",3e3)}},f=()=>{d({titolo:"",sottotitolo:"",descrizione:"",stato:"Bozza",image:null}),o(null),r(!1)},p=()=>u.descrizione.length;return i.jsxs("div",{className:"gestione-news",children:[i.jsxs("div",{className:"news-header",children:[i.jsx("h2",{children:"📰 Gestione News"}),i.jsx("p",{children:"Gestisci gli articoli e le comunicazioni per i soci"}),i.jsx("button",{className:"add-news-btn",onClick:()=>r(!0),children:"✨ Nuova News"})]}),s&&i.jsx(J.div,{className:"news-form-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:i.jsxs("div",{className:"news-form-container",children:[i.jsxs("div",{className:"form-header",children:[i.jsx("h3",{children:a?"Modifica News":"Crea Nuova News"}),i.jsx("button",{className:"close-btn",onClick:()=>r(!1),"aria-label":"Chiudi form",children:"×"})]}),i.jsxs("form",{onSubmit:v,className:"news-form",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"news-titolo",children:"Titolo *"}),i.jsx("input",{type:"text",id:"news-titolo",name:"titolo",value:u.titolo,onChange:h,required:!0,placeholder:"Titolo dell'articolo",maxLength:100})]}),i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"news-sottotitolo",children:"Sottotitolo (opzionale)"}),i.jsx("input",{type:"text",id:"news-sottotitolo",name:"sottotitolo",value:u.sottotitolo,onChange:h,placeholder:"Sottotitolo dell'articolo",maxLength:150})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"news-image",children:"Immagine (opzionale, 16:9)"}),i.jsx("input",{type:"file",id:"news-image",name:"image",accept:"image/*",onChange:g=>{const x=g.target.files[0];if(x){if(x.size>5*1024*1024){e.showError("L'immagine non può superare 5MB",3e3),g.target.value="";return}d(b=>({...b,image:x}))}}}),i.jsx("small",{className:"form-help",children:"Formati supportati: JPG, PNG, GIF, WebP. Dimensione max: 5MB"}),u.image&&i.jsxs("div",{className:"image-preview",children:[i.jsx("img",{src:URL.createObjectURL(u.image),alt:"Anteprima",style:{maxWidth:"100%",maxHeight:"200px",objectFit:"cover"}}),i.jsx("button",{type:"button",className:"remove-image-btn",onClick:()=>d(g=>({...g,image:null})),children:"❌ Rimuovi"})]})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"news-stato",children:"Stato"}),i.jsx("select",{id:"news-stato",name:"stato",value:u.stato,onChange:h,children:m.map(g=>i.jsx("option",{value:g,children:g},g))})]}),i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{htmlFor:"news-descrizione",children:["Descrizione * (max 1000 caratteri)",i.jsxs("span",{className:"char-count",children:[p(),"/1000"]})]}),i.jsx("textarea",{id:"news-descrizione",name:"descrizione",value:u.descrizione,onChange:h,required:!0,placeholder:"Contenuto dell'articolo...",rows:8,maxLength:1e3})]}),i.jsxs("div",{className:"form-actions",children:[i.jsx("button",{type:"button",className:"cancel-btn",onClick:f,children:"❌ Annulla"}),i.jsx("button",{type:"submit",className:"submit-btn",children:a?"✏️ Modifica News":"✨ Crea News"})]})]})]})}),i.jsxs("div",{className:"news-list",children:[i.jsxs("h3",{children:["News Esistenti (",t.length,")"]}),t.length===0?i.jsx("div",{className:"no-news-message",children:i.jsx("p",{children:"Nessuna news presente. Crea la prima news per iniziare!"})}):i.jsx("div",{className:"news-grid-admin",children:t.map(g=>i.jsx("div",{className:"news-card-admin",children:i.jsxs("div",{className:"news-content-admin",children:[i.jsxs("div",{className:"news-item-header",children:[i.jsxs("div",{className:"news-title-section",children:[i.jsx("h3",{className:"news-title",children:g.titolo}),i.jsx("span",{className:`news-status status-${g.stato.toLowerCase()}`,children:g.stato})]}),i.jsx("div",{className:"news-meta",children:i.jsx("span",{className:"news-date",children:g.published_at?new Date(g.published_at).toLocaleDateString("it-IT"):g.created_at?new Date(g.created_at).toLocaleDateString("it-IT"):"Data non disponibile"})})]}),g.sottotitolo&&i.jsx("p",{className:"news-subtitle-admin",children:g.sottotitolo}),g.image_filename&&i.jsx("div",{className:"news-image-admin",children:i.jsx("img",{src:`/images/news/${g.image_filename}`,alt:g.titolo,style:{width:"100%",height:"120px",objectFit:"cover",borderRadius:"8px",marginBottom:"10px"}})}),i.jsx("p",{className:"news-excerpt-admin",children:g.descrizione&&g.descrizione.length>150?`${g.descrizione.substring(0,150)}...`:g.descrizione||"Nessuna descrizione disponibile"}),i.jsxs("div",{className:"news-actions",children:[i.jsx("button",{className:"edit-btn",onClick:()=>w(g),children:"✏️ Modifica"}),i.jsx("button",{className:"delete-btn",onClick:()=>S(g),children:"🗑️ Elimina"})]})]})},g.id))})]}),l&&i.jsx(J.div,{className:"delete-confirmation-banner",initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},children:i.jsxs("div",{className:"banner-content",children:[i.jsx("div",{className:"banner-icon",children:"⚠️"}),i.jsxs("div",{className:"banner-text",children:[i.jsx("h3",{children:"Conferma Eliminazione"}),i.jsxs("p",{children:['Sei sicuro di voler eliminare la news "',l.titolo,' "?']}),i.jsx("p",{className:"banner-warning",children:"Questa azione non può essere annullata."})]}),i.jsxs("div",{className:"banner-actions",children:[i.jsx("button",{className:"cancel-btn",onClick:()=>c(null),children:"Annulla"}),i.jsx("button",{className:"confirm-delete-btn",onClick:N,children:"Elimina Definitivamente"})]})]})})]})}var Cg={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},zh=an.createContext&&an.createContext(Cg),e1=["attr","size","title"];function t1(e,t){if(e==null)return{};var n=n1(e,t),s,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)s=a[r],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function n1(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function ra(){return ra=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ra.apply(this,arguments)}function Mh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function aa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mh(Object(n),!0).forEach(function(s){s1(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mh(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function s1(e,t,n){return t=i1(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i1(e){var t=r1(e,"string");return typeof t=="symbol"?t:t+""}function r1(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bg(e){return e&&e.map((t,n)=>an.createElement(t.tag,aa({key:n},t.attr),bg(t.child)))}function Yt(e){return t=>an.createElement(a1,ra({attr:aa({},e.attr)},t),bg(e.child))}function a1(e){var t=n=>{var{attr:s,size:r,title:a}=e,o=t1(e,e1),l=r||n.size||"1em",c;return n.className&&(c=n.className),e.className&&(c=(c?c+" ":"")+e.className),an.createElement("svg",ra({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,o,{className:c,style:aa(aa({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&an.createElement("title",null,a),e.children)};return zh!==void 0?an.createElement(zh.Consumer,null,n=>t(n)):t(Cg)}function o1(e){return Yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function l1(e){return Yt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function c1(e){return Yt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(e)}function kg(e){return Yt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function u1(e){return Yt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"},child:[]}]})(e)}function Rh(e){return Yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function d1(e){return Yt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function h1(e){return Yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function m1(e){return Yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}const f1=()=>{const[e,t]=y.useState([]),[n,s]=y.useState(!0),[r,a]=y.useState("all"),[o,l]=y.useState(""),[c,u]=y.useState(null),[d,m]=y.useState(!1),h=()=>{console.warn("JWT error detected, clearing tokens and redirecting to login"),localStorage.removeItem("adminToken"),localStorage.removeItem("userRole"),localStorage.removeItem("adminUsername"),window.location.reload()},v=x=>{if(!x)return!1;const b=x.split(".");if(b.length!==3)return!1;try{return b.forEach(j=>{if(j&&j.length>0){const C=j+"=".repeat((4-j.length%4)%4);atob(C)}}),!0}catch{return!1}};y.useEffect(()=>{w()},[]),y.useEffect(()=>()=>{const x=localStorage.getItem("adminToken");x&&!v(x)&&(localStorage.removeItem("adminToken"),localStorage.removeItem("userRole"),localStorage.removeItem("adminUsername"))},[]);const w=async()=>{try{s(!0);const x=localStorage.getItem("adminToken"),b=await fetch("http://localhost:3001/api/bug-reports",{headers:{Authorization:`Bearer ${x}`,"Content-Type":"application/json"}});if(!b.ok){if(b.status===401){h();return}throw new Error(`HTTP error! status: ${b.status}`)}const j=await b.json();j.success?t(j.data):console.error("Errore API:",j.error)}catch(x){console.error("Errore durante il caricamento:",x),t([{id:1,description:"Il pulsante di prenotazione non risponde quando cliccato",browser_info:"Chrome 120.0.0 / Windows 11",created_at:"2025-01-20 14:30:00",admin_notes:"Bug confermato, da investigare",status:"open"},{id:2,description:"La pagina si carica molto lentamente su mobile",browser_info:"Safari 17.2 / iOS 17.2",created_at:"2025-01-19 09:15:00",admin_notes:"",status:"open"}])}finally{s(!1)}},S=e.filter(x=>{const b=r==="all"||x.status===r,j=x.description.toLowerCase().includes(o.toLowerCase());return b&&j}),N=x=>{u(x),m(!0)},f=async x=>{if(window.confirm("Sei sicuro di voler eliminare questa segnalazione?"))try{const b=localStorage.getItem("adminToken"),j=await fetch(`http://localhost:3001/api/bug-reports/${x}`,{method:"DELETE",headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"}});if(!j.ok){if(j.status===401){h();return}throw new Error(`HTTP error! status: ${j.status}`)}const C=await j.json();C.success?t(e.filter(T=>T.id!==x)):console.error("Errore API:",C.error)}catch(b){console.error("Errore durante l'eliminazione:",b),t(e.filter(j=>j.id!==x))}},p=async(x,b)=>{try{const j=localStorage.getItem("adminToken"),C=await fetch(`http://localhost:3001/api/bug-reports/${x}`,{method:"PUT",headers:{Authorization:`Bearer ${j}`,"Content-Type":"application/json"},body:JSON.stringify({admin_notes:b})});if(!C.ok){if(C.status===401){h();return}throw new Error(`HTTP error! status: ${C.status}`)}const T=await C.json();T.success?(t(e.map(k=>k.id===x?{...k,admin_notes:b}:k)),m(!1)):console.error("Errore API:",T.error)}catch(j){console.error("Errore durante l'aggiornamento:",j),t(e.map(C=>C.id===x?{...C,admin_notes:b}:C)),m(!1)}},g=async(x,b)=>{try{const j=localStorage.getItem("adminToken"),C=await fetch(`http://localhost:3001/api/bug-reports/${x}`,{method:"PUT",headers:{Authorization:`Bearer ${j}`,"Content-Type":"application/json"},body:JSON.stringify({status:b})});if(!C.ok){if(C.status===401){h();return}throw new Error(`HTTP error! status: ${C.status}`)}const T=await C.json();T.success?t(e.map(k=>k.id===x?{...k,status:b}:k)):console.error("Errore API:",T.error)}catch(j){console.error("Errore durante il cambio status:",j),t(e.map(C=>C.id===x?{...C,status:b}:C))}};return n?i.jsx("div",{className:"gestione-bug-reports",children:i.jsxs("div",{className:"loading-container",children:[i.jsx("div",{className:"loading-spinner"}),i.jsx("p",{children:"Caricamento segnalazioni bug..."})]})}):i.jsxs("div",{className:"gestione-bug-reports",children:[i.jsxs("div",{className:"page-header",children:[i.jsx("h1",{children:"🐛 Gestione Segnalazioni Bug"}),i.jsx("p",{children:"Gestisci e monitora le segnalazioni degli utenti"})]}),i.jsxs("div",{className:"stats-overview",children:[i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:"🐛"}),i.jsxs("div",{className:"stat-content",children:[i.jsx("div",{className:"stat-number",children:e.length}),i.jsx("div",{className:"stat-label",children:"Segnalazioni Totali"})]})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:"🔴"}),i.jsxs("div",{className:"stat-content",children:[i.jsx("div",{className:"stat-number",children:e.filter(x=>x.status==="open").length}),i.jsx("div",{className:"stat-label",children:"In Attesa"})]})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:"🔄"}),i.jsxs("div",{className:"stat-content",children:[i.jsx("div",{className:"stat-number",children:e.filter(x=>x.status==="in_progress").length}),i.jsx("div",{className:"stat-label",children:"In Lavorazione"})]})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:"✅"}),i.jsxs("div",{className:"stat-content",children:[i.jsx("div",{className:"stat-number",children:e.filter(x=>x.status==="resolved").length}),i.jsx("div",{className:"stat-label",children:"Risolti"})]})]})]}),i.jsx("div",{className:"filters-section",children:i.jsxs("div",{className:"filter-controls",children:[i.jsxs("div",{className:"search-group",children:[i.jsx("label",{htmlFor:"search-bugs",children:"🔍 Cerca"}),i.jsx("input",{id:"search-bugs",type:"text",placeholder:"Cerca per descrizione...",value:o,onChange:x=>l(x.target.value)})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{htmlFor:"filter-status",children:"🎯 Filtra per Status"}),i.jsxs("select",{id:"filter-status",value:r,onChange:x=>a(x.target.value),children:[i.jsx("option",{value:"all",children:"Tutti gli status"}),i.jsx("option",{value:"open",children:"In Attesa"}),i.jsx("option",{value:"in_progress",children:"In Lavorazione"}),i.jsx("option",{value:"resolved",children:"Risolti"}),i.jsx("option",{value:"closed",children:"Chiusi"})]})]})]})}),i.jsxs("div",{className:"bug-reports-section",children:[i.jsxs("h2",{children:["📋 Lista Segnalazioni (",S.length,")"]}),S.length===0?i.jsx("div",{className:"no-bug-reports",children:i.jsx("p",{children:"Nessuna segnalazione trovata con i filtri attuali."})}):i.jsx("div",{className:"bug-reports-grid",children:S.map(x=>i.jsxs("div",{className:"bug-report-card",children:[i.jsxs("div",{className:"bug-header",children:[i.jsx("div",{className:"bug-status",children:i.jsx("span",{className:`status-badge ${x.status==="open"?"bg-orange-500":x.status==="in_progress"?"bg-blue-500":x.status==="resolved"?"bg-green-500":"bg-gray-500"}`,children:x.status==="open"?"In Attesa":x.status==="in_progress"?"In Lavorazione":x.status==="resolved"?"Risolto":"Chiuso"})}),i.jsx("div",{className:"bug-date",children:i.jsxs("span",{className:"date-info",children:["📅 ",new Date(x.created_at).toLocaleDateString("it-IT")]})})]}),i.jsxs("div",{className:"bug-content",children:[i.jsx("p",{className:"bug-description",children:x.description}),i.jsx("div",{className:"bug-browser",children:i.jsxs("span",{className:"browser-info",children:["🌐 ",x.browser_info]})})]}),i.jsxs("div",{className:"bug-actions",children:[i.jsxs("button",{className:"btn-view",onClick:()=>N(x),title:"Visualizza dettagli",children:[i.jsx(kg,{})," Dettagli"]}),i.jsxs("div",{className:"status-actions",children:[x.status==="open"&&i.jsx("button",{className:"btn-status btn-in-progress",onClick:()=>g(x.id,"in_progress"),title:"Metti in lavorazione",children:"🔄 In Lavorazione"}),x.status==="in_progress"&&i.jsxs(i.Fragment,{children:[i.jsx("button",{className:"btn-status btn-resolved",onClick:()=>g(x.id,"resolved"),title:"Segna come risolto",children:"✅ Risolto"}),i.jsx("button",{className:"btn-status btn-back",onClick:()=>g(x.id,"open"),title:"Torna in attesa",children:"⬅️ Torna Indietro"})]}),x.status==="resolved"&&i.jsx("button",{className:"btn-status btn-back",onClick:()=>g(x.id,"in_progress"),title:"Torna in lavorazione",children:"🔄 Torna in Lavorazione"})]}),i.jsxs("button",{className:"btn-delete",onClick:()=>f(x.id),title:"Elimina segnalazione",children:[i.jsx(h1,{})," Elimina"]})]})]},x.id))})]}),d&&c&&i.jsx("div",{className:"modal-overlay",onClick:()=>m(!1),children:i.jsxs("div",{className:"modal-content",onClick:x=>x.stopPropagation(),children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h2",{children:"🐛 Dettagli Segnalazione Bug"}),i.jsx("button",{className:"close-btn",onClick:()=>m(!1),children:"×"})]}),i.jsx("div",{className:"modal-body",children:i.jsxs("div",{className:"bug-details",children:[i.jsxs("div",{className:"detail-row",children:[i.jsx("label",{children:"Status:"}),i.jsxs("div",{className:"status-controls",children:[i.jsx("span",{className:`status-badge ${c.status==="open"?"bg-orange-500":c.status==="in_progress"?"bg-blue-500":c.status==="resolved"?"bg-green-500":"bg-gray-500"}`,children:c.status==="open"?"In Attesa":c.status==="in_progress"?"In Lavorazione":c.status==="resolved"?"Risolto":"Chiuso"}),i.jsxs("div",{className:"modal-status-actions",children:[c.status==="open"&&i.jsx("button",{className:"btn-status btn-in-progress",onClick:()=>g(c.id,"in_progress"),title:"Metti in lavorazione",children:"🔄 In Lavorazione"}),c.status==="in_progress"&&i.jsxs(i.Fragment,{children:[i.jsx("button",{className:"btn-status btn-resolved",onClick:()=>g(c.id,"resolved"),title:"Segna come risolto",children:"✅ Risolto"}),i.jsx("button",{className:"btn-status btn-back",onClick:()=>g(c.id,"open"),title:"Torna in attesa",children:"⬅️ Torna Indietro"})]}),c.status==="resolved"&&i.jsx("button",{className:"btn-status btn-back",onClick:()=>g(c.id,"in_progress"),title:"Torna in lavorazione",children:"🔄 Torna in Lavorazione"})]})]})]}),i.jsxs("div",{className:"detail-row",children:[i.jsx("label",{children:"Data segnalazione:"}),i.jsx("span",{children:new Date(c.created_at).toLocaleString("it-IT")})]}),i.jsxs("div",{className:"detail-row",children:[i.jsx("label",{children:"Browser/OS:"}),i.jsx("span",{children:c.browser_info})]}),i.jsxs("div",{className:"detail-row full-width",children:[i.jsx("label",{children:"Descrizione:"}),i.jsx("p",{className:"bug-description-full",children:c.description})]}),i.jsxs("div",{className:"detail-row full-width",children:[i.jsx("label",{htmlFor:"admin-notes",children:"Note Admin:"}),i.jsx("textarea",{id:"admin-notes",placeholder:"Aggiungi note o commenti...",value:c.admin_notes||"",onChange:x=>u({...c,admin_notes:x.target.value})})]})]})}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{className:"btn-secondary",onClick:()=>m(!1),children:"Chiudi"}),i.jsxs("button",{className:"btn-primary",onClick:()=>p(c.id,c.admin_notes),children:[i.jsx(o1,{})," Salva Note"]})]})]})})]})},p1=({toast:e})=>{const[t,n]=y.useState([]),[s,r]=y.useState(!0),[a,o]=y.useState(null),[l,c]=y.useState(null),[u,d]=y.useState(!1),[m,h]=y.useState(!1),[v,w]=y.useState(!1),[S,N]=y.useState(""),[f,p]=y.useState(""),[g,x]=y.useState(!1),[b,j]=y.useState(!1),[C,T]=y.useState({username:"",role:"user",password:"",confirmPassword:""}),[k,P]=y.useState("utenti"),[z,B]=y.useState([]),[ie,me]=y.useState(!1),[ot,Le]=y.useState(!1),[G,R]=y.useState(null),[L,I]=y.useState({name:"",email:"",instruments:"",bio:""}),[Z,ee]=y.useState(!1),[se,Ce]=y.useState(null),[kt,be]=y.useState(!1),[Ue,D]=y.useState(null),[F,re]=y.useState(!1),[A,V]=y.useState(null),[Y,K]=y.useState(!1),[ae,fe]=y.useState(null),[W,oe]=y.useState({username:"",email:"",role:"user",newPassword:"",confirmPassword:""}),[Ee,Un]=y.useState(""),[Pe,Hn]=y.useState(""),[vt,$i]=y.useState("asc"),[lt,nu]=y.useState(""),[Tt,Dg]=y.useState(""),[Ms,su]=y.useState("asc"),Et=()=>{console.warn("JWT error detected, clearing tokens and redirecting to login"),localStorage.removeItem("adminToken"),localStorage.removeItem("userRole"),localStorage.removeItem("adminUsername"),window.location.reload()};y.useEffect(()=>{Wn(),k==="insegnanti"&&Ui()},[k]),y.useEffect(()=>{if(Y){const E=document.querySelector(".search-input");E&&E.blur();const O=setTimeout(()=>{const H=document.getElementById("edit-username");H&&H.focus()},100);return()=>clearTimeout(O)}},[Y]);const Wn=async()=>{r(!0),o(null);const E=localStorage.getItem("adminToken");if(!E){o("Token di autenticazione mancante. Effettua nuovamente il login."),r(!1);return}const O=new AbortController,H=setTimeout(()=>O.abort(),1e4);try{const U=await fetch("http://localhost:3001/api/auth/users",{method:"GET",headers:{Authorization:`Bearer ${E}`,"Content-Type":"application/json"},signal:O.signal});if(clearTimeout(H),U.status===401){o("Sessione scaduta. Effettua nuovamente il login."),Et();return}else if(U.status===403)o("Accesso negato. Non hai i permessi per visualizzare gli utenti.");else if(U.status===500)o("Errore del server. Riprova più tardi.");else if(!U.ok)o(`Errore HTTP: ${U.status}`);else{const te=await U.json();te.success?n(te.users||[]):o("Errore nel caricamento degli utenti.")}}catch(U){clearTimeout(H),console.error("❌ Errore durante fetch utenti:",U),U.name==="AbortError"?(console.error("⏱️ Timeout della richiesta"),o("Timeout della richiesta. Il server potrebbe essere sovraccarico.")):U.message==="Failed to fetch"?(console.error("🌐 Impossibile raggiungere il server"),o("Impossibile raggiungere il server. Verifica la connessione.")):(console.error("💥 Errore di connessione:",U.message),o(`Errore di connessione: ${U.message}`))}finally{r(!1)}},Ui=async()=>{const E=localStorage.getItem("adminToken");if(!E)return;const O=new AbortController,H=setTimeout(()=>O.abort(),1e4);try{const U=await fetch("http://localhost:3001/api/teachers",{method:"GET",headers:{Authorization:`Bearer ${E}`,"Content-Type":"application/json"},signal:O.signal});if(clearTimeout(H),U.status===401){console.warn("JWT token expired in fetchTeachers, clearing tokens"),Et();return}if(U.ok){const te=await U.json();te.success&&B(te.teachers)}}catch(U){clearTimeout(H),console.error("Error fetching teachers:",U)}},zg=async()=>{if(!(!l||!S||S.length<6)){j(!0);try{const E=localStorage.getItem("adminToken"),O=await fetch(`http://localhost:3001/api/auth/users/${l.id}/password`,{method:"PUT",headers:{Authorization:`Bearer ${E}`,"Content-Type":"application/json"},body:JSON.stringify({newPassword:S})});if(!O.ok){if(O.status===401){Et();return}throw new Error("Failed to update password")}d(!1),c(null),N(""),e.showSuccess("✅ Password aggiornata con successo!")}catch(E){e.showError(`❌ Errore: ${E.message}`)}finally{j(!1)}}},Mg=async()=>{if(!(!l||!f)){j(!0);try{const E=localStorage.getItem("adminToken"),O=await fetch(`http://localhost:3001/api/auth/users/${l.id}/role`,{method:"PUT",headers:{Authorization:`Bearer ${E}`,"Content-Type":"application/json"},body:JSON.stringify({newRole:f})});if(!O.ok){if(O.status===401){Et();return}throw new Error("Failed to update role")}h(!1),c(null),p(""),e.showSuccess("✅ Ruolo aggiornato con successo!"),Wn()}catch(E){e.showError(`❌ Errore: ${E.message}`)}finally{j(!1)}}},Rg=async()=>{if(!C.username||!C.password||C.password!==C.confirmPassword){e.showError("❌ Compila tutti i campi e conferma la password!");return}j(!0);try{const E=localStorage.getItem("adminToken"),O=await fetch("http://localhost:3001/api/auth/users",{method:"POST",headers:{Authorization:`Bearer ${E}`,"Content-Type":"application/json"},body:JSON.stringify({username:C.username,password:C.password,role:C.role})});if(!O.ok){if(O.status===401){Et();return}const H=await O.json();throw new Error(H.error||"Failed to create user")}w(!1),T({username:"",role:"user",password:"",confirmPassword:""}),e.showSuccess("✅ Utente creato con successo!"),Wn()}catch(E){e.showError(`❌ Errore: ${E.message}`)}finally{j(!1)}},Pa=E=>{switch(E){case"admin":return"orange";case"docente":return"purple";case"salaprove":return"green";case"salacorsi":return"blue";case"news":return"red";case"user":return"gray";default:return"blue"}},Aa=E=>{switch(E){case"admin":return"👑 Admin";case"docente":return"🎸 Docente";case"salaprove":return"🎵 Sala Prove";case"salacorsi":return"🎼 Imparar Suonando";case"news":return"📰 News";case"user":return"👤 User";default:return"👤 User"}},iu=E=>{const O=E.trim().split(" ").filter(te=>te.length>0);if(O.length<2)return E.toLowerCase().replace(/\s+/g,"");const H=O[0].toLowerCase(),U=O[O.length-1].toLowerCase();return`${H.charAt(0)}.${U}`},Ig=async()=>{if(!L.name||!L.email||!L.instruments||!L.bio){e.showError("❌ Compila tutti i campi!");return}j(!0);try{const E=localStorage.getItem("adminToken"),O=iu(L.name),H=await fetch("http://localhost:3001/api/teachers",{method:"POST",headers:{Authorization:`Bearer ${E}`,"Content-Type":"application/json"},body:JSON.stringify({...L,username:O})});if(!H.ok){if(H.status===401){Et();return}const te=await H.json();throw new Error(te.error||"Failed to create teacher")}(await H.json()).userUpdated?e.showInfo('ℹ️ Utente esistente aggiornato con ruolo "docente"!'):e.showSuccess("✅ Insegnante creato con successo!"),me(!1),I({name:"",email:"",instruments:"",bio:""}),Ui()}catch(E){e.showError(`❌ Errore: ${E.message}`)}finally{j(!1)}},Lg=async E=>{try{const O=localStorage.getItem("adminToken"),H=await fetch(`http://localhost:3001/api/teachers/${E}`,{method:"DELETE",headers:{Authorization:`Bearer ${O}`}});if(H.ok)e.showSuccess("✅ Insegnante eliminato con successo!"),Ui(),be(!1),D(null);else{if(H.status===401){Et();return}const U=await H.json();e.showError(`❌ Errore: ${U.error}`)}}catch{e.showError("❌ Errore durante l'eliminazione")}},_g=async()=>{if(!se||!se.name||!se.email||!se.instruments||!se.bio){e.showError("❌ Tutti i campi sono obbligatori");return}try{j(!0);const E=localStorage.getItem("adminToken"),O=iu(se.name),H=await fetch(`http://localhost:3001/api/teachers/${se.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${E}`},body:JSON.stringify({...se,username:O})});if(H.ok)e.showSuccess("✅ Insegnante modificato con successo!"),Ui(),ee(!1),Ce(null);else{if(H.status===401){Et();return}const U=await H.json();e.showError(`❌ Errore: ${U.error}`)}}catch{e.showError("❌ Errore durante la modifica")}finally{j(!1)}},Og=E=>{Ce({...E}),ee(!0)},Fg=E=>{D(E),be(!0)},Vg=async E=>{try{const O=localStorage.getItem("adminToken"),H=await fetch(`http://localhost:3001/api/auth/users/${E}`,{method:"DELETE",headers:{Authorization:`Bearer ${O}`}});if(H.ok)e.showSuccess("✅ Utente eliminato con successo!"),Wn(),re(!1),V(null);else{if(H.status===401){Et();return}const U=await H.json();e.showError(`❌ Errore: ${U.error}`)}}catch{e.showError("❌ Errore durante l'eliminazione")}},Bg=E=>{V(E),re(!0)},$g=E=>{fe(E),oe({username:E.username||"",email:E.email||"",role:E.role||"user",newPassword:"",confirmPassword:""}),K(!0)},Ug=async()=>{if(!W.username||!W.email||!W.role){e.showError("❌ Username, email e ruolo sono obbligatori!");return}if(W.newPassword&&W.newPassword!==W.confirmPassword){e.showError("❌ Le password non coincidono!");return}j(!0);try{const E=localStorage.getItem("adminToken"),O={username:W.username,email:W.email,role:W.role};W.newPassword&&(O.password=W.newPassword);const H=await fetch(`http://localhost:3001/api/auth/users/${ae.id}`,{method:"PUT",headers:{Authorization:`Bearer ${E}`,"Content-Type":"application/json"},body:JSON.stringify(O)});if(!H.ok){if(H.status===401){Et();return}const U=await H.json();throw new Error(U.error||"Failed to update user")}e.showSuccess("✅ Utente aggiornato con successo!"),K(!1),fe(null),oe({username:"",email:"",role:"user",newPassword:"",confirmPassword:""}),Wn()}catch(E){e.showError(`❌ Errore: ${E.message}`)}finally{j(!1)}},Hg=(E,O=40)=>E.length<=O?E:E.substring(0,O)+"...",Wg=E=>{R(E),Le(!0)},Rs=E=>{Pe===E?$i(vt==="asc"?"desc":"asc"):(Hn(E),$i("asc"))},ru=()=>{let E=t;return Ee&&(E=t.filter(O=>{var H,U,te;return((H=O.username)==null?void 0:H.toLowerCase().includes(Ee.toLowerCase()))||((U=O.email)==null?void 0:U.toLowerCase().includes(Ee.toLowerCase()))||((te=O.role)==null?void 0:te.toLowerCase().includes(Ee.toLowerCase()))})),Pe&&(E=[...E].sort((O,H)=>{let U=O[Pe],te=H[Pe];return U||(U=""),te||(te=""),U=U.toString().toLowerCase(),te=te.toString().toLowerCase(),vt==="asc"?U.localeCompare(te):te.localeCompare(U)})),E},Da=E=>{Tt===E?su(Ms==="asc"?"desc":"asc"):(Dg(E),su("asc"))},za=()=>{let E=z;return lt&&(E=z.filter(O=>{var H,U,te,au;return((H=O.name)==null?void 0:H.toLowerCase().includes(lt.toLowerCase()))||((U=O.email)==null?void 0:U.toLowerCase().includes(lt.toLowerCase()))||((te=O.instruments)==null?void 0:te.toLowerCase().includes(lt.toLowerCase()))||((au=O.bio)==null?void 0:au.toLowerCase().includes(lt.toLowerCase()))})),Tt&&(E=[...E].sort((O,H)=>{let U=O[Tt],te=H[Tt];return U||(U=""),te||(te=""),U=U.toString().toLowerCase(),te=te.toString().toLowerCase(),Ms==="asc"?U.localeCompare(te):te.localeCompare(U)})),E};return s?i.jsx("div",{className:"gestione-utenti",children:i.jsxs("div",{className:"loading-container",children:[i.jsx("div",{className:"loading-spinner"}),i.jsx("p",{children:"Caricamento utenti..."})]})}):a?i.jsx("div",{className:"gestione-utenti",children:i.jsxs("div",{className:"error-container",children:[i.jsx("div",{className:"error-icon",children:"⚠️"}),i.jsx("h2",{children:"Errore nel caricamento"}),i.jsx("p",{className:"error-message",children:a}),i.jsxs("div",{className:"error-actions",children:[i.jsx("button",{className:"btn-primary",onClick:()=>{o(null),Wn()},children:"🔄 Riprova"}),i.jsx("button",{className:"btn-secondary",onClick:()=>window.location.reload(),children:"🔄 Ricarica pagina"})]}),i.jsxs("div",{className:"error-help",children:[i.jsx("p",{children:i.jsx("strong",{children:"Suggerimenti:"})}),i.jsxs("ul",{children:[i.jsx("li",{children:"Verifica che il server sia attivo sulla porta 3001"}),i.jsx("li",{children:"Controlla la connessione di rete"}),i.jsx("li",{children:"Se il problema persiste, prova a ricaricare la pagina"})]})]})]})}):i.jsxs("div",{className:"gestione-utenti",children:[i.jsx("div",{className:"page-header",children:i.jsx("div",{className:"header-content",children:i.jsxs("div",{className:"header-text",children:[i.jsx("h1",{children:"Gestione Utenti e Insegnanti"}),i.jsx("p",{children:"Gestisci tutti gli utenti del sistema e gli insegnanti di musica"})]})})}),i.jsxs("div",{className:"tabs-container",children:[i.jsx("button",{className:`tab ${k==="utenti"?"active":""}`,onClick:()=>P("utenti"),children:i.jsx("span",{children:"👥 Gestione Utenti"})}),i.jsx("button",{className:`tab ${k==="insegnanti"?"active":""}`,onClick:()=>P("insegnanti"),children:i.jsx("span",{children:"🎸 Gestione Insegnanti"})})]}),k==="utenti"&&i.jsxs("div",{className:"tab-content",children:[i.jsxs("div",{className:"stats-overview",children:[i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:"👥"}),i.jsxs("div",{className:"stat-content",children:[i.jsx("div",{className:"stat-number",children:t.length}),i.jsx("div",{className:"stat-label",children:"Utenti Totali"})]})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:"✅"}),i.jsxs("div",{className:"stat-content",children:[i.jsx("div",{className:"stat-number",children:t.filter(E=>E.is_active).length}),i.jsx("div",{className:"stat-label",children:"Utenti Attivi"})]})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:"👑"}),i.jsxs("div",{className:"stat-content",children:[i.jsx("div",{className:"stat-number",children:t.filter(E=>E.role==="admin").length}),i.jsx("div",{className:"stat-label",children:"Amministratori"})]})]})]}),i.jsx("div",{className:"page-header",children:i.jsxs("div",{className:"header-content",children:[i.jsxs("div",{className:"header-text",children:[i.jsx("h2",{children:"Lista Utenti"}),i.jsx("p",{children:"Gestisci gli account degli utenti del sistema"})]}),i.jsxs("button",{className:"btn-add-user",onClick:()=>w(!0),children:[i.jsx(Rh,{})," Aggiungi Utente"]})]})}),i.jsxs("div",{className:"search-container",children:[i.jsxs("div",{className:"search-input-group",children:[i.jsx("input",{type:"text",placeholder:"Cerca per username, email o ruolo...",value:Ee,onChange:E=>Un(E.target.value),className:"search-input"}),Ee&&i.jsx("button",{className:"clear-search-btn",onClick:()=>Un(""),title:"Cancella ricerca",children:"×"})]}),Ee&&i.jsxs("div",{className:"search-results-info",children:["Risultati: ",ru().length," di ",t.length," utenti"]})]}),i.jsx("div",{className:"table-container",children:i.jsxs("table",{className:"utenti-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsxs("th",{className:`sortable ${Pe==="username"?"sorted":""}`,onClick:()=>Rs("username"),children:["Username",Pe==="username"&&i.jsx("span",{className:"sort-indicator",children:vt==="asc"?" ↑":" ↓"})]}),i.jsxs("th",{className:`sortable ${Pe==="email"?"sorted":""}`,onClick:()=>Rs("email"),children:["Email",Pe==="email"&&i.jsx("span",{className:"sort-indicator",children:vt==="asc"?" ↑":" ↓"})]}),i.jsxs("th",{className:`sortable ${Pe==="role"?"sorted":""}`,onClick:()=>Rs("role"),children:["Ruolo",Pe==="role"&&i.jsx("span",{className:"sort-indicator",children:vt==="asc"?" ↑":" ↓"})]}),i.jsxs("th",{className:`sortable ${Pe==="is_active"?"sorted":""}`,onClick:()=>Rs("is_active"),children:["Stato",Pe==="is_active"&&i.jsx("span",{className:"sort-indicator",children:vt==="asc"?" ↑":" ↓"})]}),i.jsxs("th",{className:`sortable ${Pe==="last_login"?"sorted":""}`,onClick:()=>Rs("last_login"),children:["Ultimo Accesso",Pe==="last_login"&&i.jsx("span",{className:"sort-indicator",children:vt==="asc"?" ↑":" ↓"})]}),i.jsx("th",{children:"Azioni"})]})}),i.jsx("tbody",{children:ru().map(E=>i.jsxs("tr",{children:[i.jsx("td",{className:"username-cell",children:E.username}),i.jsx("td",{className:"email-cell",children:E.email||"-"}),i.jsx("td",{children:i.jsx("span",{className:`role-badge role-badge-${Pa(E.role)}`,children:Aa(E.role)})}),i.jsx("td",{children:i.jsx("span",{className:`status-badge ${E.is_active?"active":"inactive"}`,children:E.is_active?"✅ Attivo":"❌ Inattivo"})}),i.jsx("td",{className:"last-login-cell",children:E.last_login?new Date(E.last_login).toLocaleDateString("it-IT"):"Mai"}),i.jsxs("td",{className:"actions-cell",children:[i.jsx("button",{className:"btn-edit",onClick:()=>$g(E),title:"Modifica Utente",children:"✏️"}),i.jsx("button",{className:"btn-delete",onClick:()=>Bg(E),title:"Elimina Utente",children:"🗑️"})]})]},E.id))})]})})]}),k==="insegnanti"&&i.jsxs("div",{className:"tab-content",children:[i.jsxs("div",{className:"stats-overview",children:[i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:"🎸"}),i.jsxs("div",{className:"stat-content",children:[i.jsx("div",{className:"stat-number",children:z.length}),i.jsx("div",{className:"stat-label",children:"Insegnanti Totali"})]})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:"🎵"}),i.jsxs("div",{className:"stat-content",children:[i.jsx("div",{className:"stat-number",children:z.reduce((E,O)=>E+(O.instruments?O.instruments.split(",").length:0),0)}),i.jsx("div",{className:"stat-label",children:"Strumenti Totali"})]})]})]}),i.jsx("div",{className:"page-header",children:i.jsxs("div",{className:"header-content",children:[i.jsxs("div",{className:"header-text",children:[i.jsx("h2",{children:"Lista Insegnanti"}),i.jsx("p",{children:"Gestisci gli insegnanti di musica e i loro profili"})]}),i.jsxs("button",{className:"btn-add-user",onClick:()=>me(!0),children:[i.jsx(Rh,{})," Aggiungi Insegnante"]})]})}),i.jsxs("div",{className:"search-container",children:[i.jsxs("div",{className:"search-input-group",children:[i.jsx("input",{type:"text",placeholder:"Cerca per nome, email, strumenti o biografia...",value:lt,onChange:E=>nu(E.target.value),className:"search-input"}),lt&&i.jsx("button",{className:"clear-search-btn",onClick:()=>nu(""),title:"Cancella ricerca",children:"×"})]}),lt&&i.jsxs("div",{className:"search-results-info",children:["Risultati: ",za().length," di ",z.length," insegnanti"]})]}),i.jsx("div",{className:"table-container",children:i.jsxs("table",{className:"utenti-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsxs("th",{className:`sortable ${Tt==="name"?"sorted":""}`,onClick:()=>Da("name"),children:["Nome",Tt==="name"&&i.jsx("span",{className:"sort-indicator",children:Ms==="asc"?" ↑":" ↓"})]}),i.jsxs("th",{className:`sortable ${Tt==="email"?"sorted":""}`,onClick:()=>Da("email"),children:["Email",Tt==="email"&&i.jsx("span",{className:"sort-indicator",children:Ms==="asc"?" ↑":" ↓"})]}),i.jsxs("th",{className:`sortable ${Tt==="instruments"?"sorted":""}`,onClick:()=>Da("instruments"),children:["Strumenti",Tt==="instruments"&&i.jsx("span",{className:"sort-indicator",children:Ms==="asc"?" ↑":" ↓"})]}),i.jsx("th",{children:"Biografia"}),i.jsx("th",{children:"Azioni"})]})}),i.jsx("tbody",{children:za().length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:"5",className:"no-data",children:i.jsxs("div",{className:"no-data-content",children:[i.jsx("div",{className:"no-data-icon",children:"🎸"}),i.jsx("h3",{children:lt?"Nessun risultato trovato":"Nessun insegnante presente"}),i.jsx("p",{children:lt?"Prova a modificare i termini di ricerca":"Aggiungi il primo insegnante per iniziare!"})]})})}):za().map(E=>i.jsxs("tr",{children:[i.jsx("td",{className:"username-cell",children:E.name}),i.jsx("td",{className:"email-cell",children:E.email}),i.jsx("td",{children:i.jsx("span",{className:"instruments-badge",children:E.instruments})}),i.jsx("td",{children:i.jsx("button",{className:"bio-preview-btn",onClick:()=>Wg(E),title:"Clicca per vedere la bio completa",children:Hg(E.bio,35)})}),i.jsxs("td",{className:"actions-cell",children:[i.jsx("button",{className:"btn-edit",onClick:()=>Og(E),title:"Modifica Insegnante",children:"✏️"}),i.jsx("button",{className:"btn-delete",onClick:()=>Fg(E),title:"Elimina Insegnante",children:"🗑️"})]})]},E.id))})]})})]}),u&&i.jsx("div",{className:"modal-overlay",children:i.jsxs("div",{className:"modal-content",children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h2",{children:"Cambia Password"}),i.jsx("button",{className:"close-btn",onClick:()=>d(!1),children:"×"})]}),i.jsx("div",{className:"modal-body",children:i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Nuova Password:"}),i.jsxs("div",{className:"password-input-container",children:[i.jsx("input",{type:g?"text":"password",value:S,onChange:E=>N(E.target.value),placeholder:"Inserisci nuova password"}),i.jsx("button",{className:"password-toggle-btn",onClick:()=>x(!g),children:g?i.jsx(c1,{}):i.jsx(kg,{})})]})]})}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{className:"btn-secondary",onClick:()=>d(!1),children:"Annulla"}),i.jsx("button",{className:"btn-primary",onClick:zg,disabled:b||!S||S.length<6,children:b?"Aggiornamento...":"Aggiorna Password"})]})]})}),m&&i.jsx("div",{className:"modal-overlay",children:i.jsxs("div",{className:"modal-content role-modal",children:[i.jsx("div",{className:"modal-header",children:i.jsxs("div",{className:"header-content",children:[i.jsxs("div",{className:"user-info",children:[i.jsx("div",{className:"user-avatar",children:i.jsx(m1,{})}),i.jsxs("div",{className:"user-details",children:[i.jsx("h2",{children:"Cambio Ruolo"}),i.jsx("p",{className:"username",children:l==null?void 0:l.username})]})]}),i.jsx("button",{className:"close-btn",onClick:()=>h(!1),children:"×"})]})}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("div",{className:"role-change-section",children:[i.jsxs("div",{className:"current-role-display",children:[i.jsxs("div",{className:"section-label",children:[i.jsx(u1,{className:"label-icon"}),"Ruolo Attuale"]}),i.jsx("span",{className:`role-badge-large role-badge-${Pa(l==null?void 0:l.role)}`,children:Aa(l==null?void 0:l.role)}),i.jsx("p",{className:"role-description",children:(l==null?void 0:l.role)==="admin"?"Accesso completo a tutte le funzionalità":(l==null?void 0:l.role)==="docente"?"Accesso limitato a dashboard e gestione corsi":"Utente standard con accesso limitato"})]}),i.jsx("div",{className:"role-change-arrow",children:"➡️"}),i.jsxs("div",{className:"new-role-selection",children:[i.jsxs("div",{className:"section-label",children:[i.jsx(l1,{className:"label-icon"}),"Nuovo Ruolo"]}),i.jsxs("select",{className:"role-select",value:f,onChange:E=>p(E.target.value),children:[i.jsx("option",{value:"user",children:"👤 User - Utente standard"}),i.jsx("option",{value:"docente",children:"🎸 Docente - Insegnante di musica"}),i.jsx("option",{value:"admin",children:"👑 Admin - Amministratore completo"}),i.jsx("option",{value:"salaprove",children:"🎤 Sala Prove - Gestione prenotazioni sala prove"}),i.jsx("option",{value:"salacorsi",children:"🎼 Sala Corsi - Gestione richieste corsi"}),i.jsx("option",{value:"news",children:"📰 News - Gestione articoli e comunicazioni"})]}),f&&f!==(l==null?void 0:l.role)&&i.jsxs("div",{className:"new-role-preview",children:[i.jsx("span",{className:"preview-label",children:"Anteprima nuovo ruolo:"}),i.jsx("span",{className:`role-badge-preview role-badge-${Pa(f)}`,children:Aa(f)})]})]})]}),i.jsxs("div",{className:"role-change-warning",children:[i.jsx(d1,{className:"warning-icon"}),i.jsxs("div",{className:"warning-content",children:[i.jsx("strong",{children:"Attenzione:"})," Il cambio di ruolo può modificare significativamente i permessi dell'utente. Assicurati che questa modifica sia necessaria e appropriata."]})]})]}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{className:"btn-secondary",onClick:()=>h(!1),children:"Annulla"}),i.jsx("button",{className:"btn-primary",onClick:Mg,disabled:b||!f||f===(l==null?void 0:l.role),children:b?"Aggiornamento...":"Aggiorna Ruolo"})]})]})}),Y&&i.jsx("div",{className:"modal-overlay",children:i.jsxs("div",{className:"modal-content",children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h2",{children:"Modifica Utente"}),i.jsx("button",{className:"close-btn",onClick:()=>K(!1),children:"×"})]}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"edit-username",children:"Username *"}),i.jsx("input",{id:"edit-username",type:"text",value:W.username,onChange:E=>oe(O=>({...O,username:E.target.value})),placeholder:"Username utente",required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"edit-email",children:"Email *"}),i.jsx("input",{id:"edit-email",type:"email",value:W.email,onChange:E=>oe(O=>({...O,email:E.target.value})),placeholder:"Email utente",required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"edit-role",children:"Ruolo *"}),i.jsxs("select",{id:"edit-role",value:W.role,onChange:E=>oe(O=>({...O,role:E.target.value})),required:!0,children:[i.jsx("option",{value:"user",children:"👤 User - Utente standard"}),i.jsx("option",{value:"docente",children:"🎸 Docente - Insegnante di musica"}),i.jsx("option",{value:"admin",children:"👑 Admin - Amministratore completo"}),i.jsx("option",{value:"salaprove",children:"🎤 Sala Prove - Gestione prenotazioni sala prove"}),i.jsx("option",{value:"salacorsi",children:"🎼 Sala Corsi - Gestione richieste corsi"}),i.jsx("option",{value:"news",children:"📰 News - Gestione articoli e comunicazioni"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"edit-password",children:"Nuova Password (opzionale)"}),i.jsx("input",{id:"edit-password",type:"password",value:W.newPassword,onChange:E=>oe(O=>({...O,newPassword:E.target.value})),placeholder:"Lascia vuoto per non cambiare"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"edit-confirm-password",children:"Conferma Password"}),i.jsx("input",{id:"edit-confirm-password",type:"password",value:W.confirmPassword,onChange:E=>oe(O=>({...O,confirmPassword:E.target.value})),placeholder:"Conferma la nuova password"})]}),W.newPassword&&i.jsx("div",{className:"password-change-info",children:i.jsx("p",{children:"🔐 La password verrà aggiornata solo se entrambi i campi sono compilati"})})]}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{className:"btn-secondary",onClick:()=>K(!1),children:"Annulla"}),i.jsx("button",{className:"btn-primary",onClick:Ug,disabled:b,children:b?"Aggiornamento...":"Aggiorna Utente"})]})]})}),v&&i.jsx("div",{className:"modal-overlay",children:i.jsxs("div",{className:"modal-content",children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h2",{children:"Aggiungi Nuovo Utente"}),i.jsx("button",{className:"close-btn",onClick:()=>w(!1),children:"×"})]}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Username:"}),i.jsx("input",{className:"form-input",type:"text",value:C.username,onChange:E=>T({...C,username:E.target.value}),placeholder:"Inserisci username"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Ruolo:"}),i.jsxs("select",{className:"form-input",value:C.role,onChange:E=>T({...C,role:E.target.value}),children:[i.jsx("option",{value:"user",children:"👤 User"}),i.jsx("option",{value:"docente",children:"🎸 Docente"}),i.jsx("option",{value:"admin",children:"👑 Admin"}),i.jsx("option",{value:"salaprove",children:"🎤 Sala Prove"}),i.jsx("option",{value:"salacorsi",children:"🎼 Sala Corsi"}),i.jsx("option",{value:"news",children:"📰 News"})]})]})]}),i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Password:"}),i.jsx("input",{className:"form-input",type:"password",value:C.password,onChange:E=>T({...C,password:E.target.value}),placeholder:"Inserisci password"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Conferma Password:"}),i.jsx("input",{className:"form-input",type:"password",value:C.confirmPassword,onChange:E=>T({...C,confirmPassword:E.target.value}),placeholder:"Conferma password"})]})]})]}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{className:"btn-secondary",onClick:()=>w(!1),children:"Annulla"}),i.jsx("button",{className:"btn-primary",onClick:Rg,disabled:b,children:b?"Creazione...":"Crea Utente"})]})]})}),ie&&i.jsx("div",{className:"teacher-modal-overlay",children:i.jsxs("div",{className:"teacher-modal-content",children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h2",{children:"Aggiungi Nuovo Insegnante"}),i.jsx("button",{className:"close-btn",onClick:()=>me(!1),children:"×"})]}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Nome e Cognome:"}),i.jsx("input",{className:"form-input",type:"text",value:L.name,onChange:E=>I({...L,name:E.target.value}),placeholder:"Inserisci nome e cognome"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Email:"}),i.jsx("input",{className:"form-input",type:"email",value:L.email,onChange:E=>I({...L,email:E.target.value}),placeholder:"Inserisci email"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Strumenti che insegna:"}),i.jsx("input",{className:"form-input",type:"text",value:L.instruments,onChange:E=>I({...L,instruments:E.target.value}),placeholder:"Es: Chitarra, Piano, Basso"}),i.jsx("small",{children:"Separa più strumenti con virgole"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Biografia:"}),i.jsx("textarea",{className:"form-input",value:L.bio,onChange:E=>I({...L,bio:E.target.value}),placeholder:"Descrivi l'esperienza e la formazione dell'insegnante",rows:"4"})]})]}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{className:"btn-secondary",onClick:()=>me(!1),children:"Annulla"}),i.jsx("button",{className:"btn-primary",onClick:Ig,disabled:b,children:b?"Creazione...":"Crea Insegnante"})]})]})}),ot&&G&&i.jsx("div",{className:"teacher-modal-overlay",children:i.jsxs("div",{className:"teacher-modal-content",children:[i.jsxs("div",{className:"modal-header",children:[i.jsxs("h2",{children:["Biografia di ",G.name]}),i.jsx("button",{className:"close-btn",onClick:()=>Le(!1),children:"×"})]}),i.jsx("div",{className:"modal-body",children:i.jsxs("div",{className:"teacher-bio-content",children:[i.jsxs("div",{className:"bio-section",children:[i.jsx("h3",{children:"📧 Contatto"}),i.jsxs("p",{children:[i.jsx("strong",{children:"Email:"})," ",G.email]})]}),i.jsxs("div",{className:"bio-section",children:[i.jsx("h3",{children:"🎵 Strumenti"}),i.jsxs("p",{children:[i.jsx("strong",{children:"Insegna:"})," ",G.instruments]})]}),i.jsxs("div",{className:"bio-section",children:[i.jsx("h3",{children:"📖 Biografia"}),i.jsx("div",{className:"bio-text",children:G.bio})]})]})}),i.jsx("div",{className:"modal-footer",children:i.jsx("button",{className:"btn-primary",onClick:()=>Le(!1),children:"Chiudi"})})]})}),Z&&se&&i.jsx("div",{className:"teacher-modal-overlay",children:i.jsxs("div",{className:"teacher-modal-content",children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h2",{children:"Modifica Insegnante"}),i.jsx("button",{className:"close-btn",onClick:()=>ee(!1),children:"×"})]}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Nome e Cognome:"}),i.jsx("input",{className:"form-input",type:"text",value:se.name,onChange:E=>Ce({...se,name:E.target.value}),placeholder:"Inserisci nome e cognome"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Email:"}),i.jsx("input",{className:"form-input",type:"email",value:se.email,onChange:E=>Ce({...se,email:E.target.value}),placeholder:"Inserisci email"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Strumenti che insegna:"}),i.jsx("input",{className:"form-input",type:"text",value:se.instruments,onChange:E=>Ce({...se,instruments:E.target.value}),placeholder:"Es: Chitarra, Piano, Basso"}),i.jsx("small",{children:"Separa più strumenti con virgole"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Biografia:"}),i.jsx("textarea",{className:"form-input",value:se.bio,onChange:E=>Ce({...se,bio:E.target.value}),placeholder:"Descrivi l'esperienza e la formazione dell'insegnante",rows:"4"})]})]}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{className:"btn-secondary",onClick:()=>ee(!1),children:"Annulla"}),i.jsx("button",{className:"btn-primary",onClick:_g,disabled:b,children:b?"Salvataggio...":"Salva Modifiche"})]})]})}),kt&&Ue&&i.jsx("div",{className:"teacher-modal-overlay",children:i.jsxs("div",{className:"teacher-modal-content",children:[i.jsxs("div",{className:"delete-teacher-banner",children:[i.jsx("div",{className:"banner-icon",children:"⚠️"}),i.jsxs("div",{className:"banner-text",children:[i.jsx("div",{className:"banner-title",children:"Elimina Insegnante"}),i.jsx("div",{className:"banner-description",children:"Questa azione non può essere annullata"})]})]}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Nome:"})," ",Ue.name]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Email:"})," ",Ue.email]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Strumenti:"})," ",Ue.instruments]}),i.jsx("div",{style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#fef2f2",borderRadius:"8px",border:"1px solid #fecaca"},children:i.jsxs("p",{style:{color:"#dc2626",margin:0,fontSize:"0.9rem"},children:[i.jsx("strong",{children:"⚠️ Attenzione:"})," Eliminando questo insegnante verrà rimosso anche il suo account utente e tutti i dati associati."]})})]}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{className:"btn-secondary",onClick:()=>be(!1),children:"Annulla"}),i.jsx("button",{className:"btn-delete",onClick:()=>Lg(Ue.id),style:{width:"auto",padding:"0.75rem 1.5rem"},children:"🗑️ Elimina Definitivamente"})]})]})}),F&&A&&i.jsx("div",{className:"teacher-modal-overlay",children:i.jsxs("div",{className:"teacher-modal-content",children:[i.jsxs("div",{className:"delete-teacher-banner",children:[i.jsx("div",{className:"banner-icon",children:"⚠️"}),i.jsxs("div",{className:"banner-text",children:[i.jsx("div",{className:"banner-title",children:"Elimina Utente"}),i.jsx("div",{className:"banner-description",children:"Questa azione non può essere annullata"})]})]}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Username:"})," ",A.username]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Email:"})," ",A.email||"Non specificata"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Ruolo:"})," ",A.role]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Stato:"})," ",A.is_active?"Attivo":"Inattivo"]}),i.jsx("div",{style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#fef2f2",borderRadius:"8px",border:"1px solid #fecaca"},children:i.jsxs("p",{style:{color:"#dc2626",margin:0,fontSize:"0.9rem"},children:[i.jsx("strong",{children:"⚠️ Attenzione:"})," Eliminando questo utente verranno rimossi tutti i dati associati, inclusi eventuali profili insegnante, prenotazioni e richieste corsi."]})})]}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{className:"btn-secondary",onClick:()=>re(!1),children:"Annulla"}),i.jsx("button",{className:"btn-delete",onClick:()=>Vg(A.id),style:{width:"auto",padding:"0.75rem 1.5rem"},children:"🗑️ Elimina Definitivamente"})]})]})})]})};function g1({toast:e}){const[t,n]=y.useState(!1),[s,r]=y.useState({quadrants:!0,dashboard:!0,events:!0,contacts:!0,users:!0,backup:!1}),[a,o]=y.useState({lastBackup:null,backupSize:0,availableSpace:0,backupHistory:[],isCreating:!1}),[l,c]=y.useState({quadrants:{salaProve:{enabled:!0,title:"SALA PROVE",icon:"🎤"},salaCorsi:{enabled:!0,title:"IMPARAR SUONANDO",icon:"🎸"},news:{enabled:!0,title:"NEWS & COMUNICAZIONI",icon:"📰"},mattascuola:{enabled:!0,title:"MATTASCUOLA",icon:"📚"},sostienici:{enabled:!0,title:"SOSTIENICI",icon:"❤️"},tesseraArci:{enabled:!0,title:"TESSERA ARCI 2024-2025",icon:"🎫"}},dashboard:{title:"AriaPerta",subtitle:"Centro Culturale e Sociale",showSocialLinks:!0,showBugReport:!0,showAdminButton:!0},events:{ariapertaParty:{enabled:!0,title:"ARIAPERTAPARTY",startDate:"2024-12-31",endDate:"2025-01-01",isFree:!0}},contacts:{email:"info@ariaperta.it",phone:"+39 123 456 789",address:"Via Roma 123, Milano"}}),[u,d]=y.useState(null),m=()=>{console.warn("JWT error detected, clearing tokens and redirecting to login"),localStorage.removeItem("adminToken"),localStorage.removeItem("userRole"),localStorage.removeItem("adminUsername"),window.location.reload()},h=k=>{if(!k)return!1;const P=k.split(".");if(P.length!==3)return!1;try{return P.forEach(z=>{if(z&&z.length>0){const B=z+"=".repeat((4-z.length%4)%4);atob(B)}}),!0}catch{return!1}},v=()=>{n(!0)},w=()=>{localStorage.setItem("dashboardConfig",JSON.stringify(l)),d(l),n(!1),window.dispatchEvent(new CustomEvent("dashboardConfigChanged")),e.showSuccess("Configurazione salvata con successo!",4e3)},S=()=>{c(u),n(!1)},N=()=>{const k={quadrants:{salaProve:{enabled:!0,title:"SALA PROVE",icon:"🎤"},salaCorsi:{enabled:!0,title:"IMPARAR SUONANDO",icon:"🎸"},news:{enabled:!0,title:"NEWS & COMUNICAZIONI",icon:"📰"},mattascuola:{enabled:!0,title:"MATTASCUOLA",icon:"📚"},sostienici:{enabled:!0,title:"SOSTIENICI",icon:"❤️"},tesseraArci:{enabled:!0,title:"TESSERA ARCI 2024-2025",icon:"🎫"}},dashboard:{title:"AriaPerta",subtitle:"Centro Culturale e Sociale",showSocialLinks:!0,showBugReport:!0,showAdminButton:!0},events:{ariapertaParty:{enabled:!0,title:"ARIAPERTAPARTY",startDate:"2024-12-31",endDate:"2025-01-01",isFree:!0}},contacts:{email:"info@ariaperta.it",phone:"+39 123 456 789",address:"Via Roma 123, Milano"}};c(k),d(k),localStorage.setItem("dashboardConfig",JSON.stringify(k)),window.dispatchEvent(new CustomEvent("dashboardConfigChanged")),e.showSuccess("Configurazione resettata ai valori predefiniti!",4e3)},f=k=>{t&&c(P=>({...P,quadrants:{...P.quadrants,[k]:{...P.quadrants[k],enabled:!P.quadrants[k].enabled}}}))},p=(k,P,z)=>{t&&c(B=>({...B,quadrants:{...B.quadrants,[k]:{...B.quadrants[k],[P]:z}}}))},g=(k,P)=>{t&&c(z=>({...z,dashboard:{...z.dashboard,[k]:P}}))},x=(k,P)=>{t&&c(z=>({...z,events:{...z.events,ariapertaParty:{...z.events.ariapertaParty,[k]:P}}}))},b=(k,P)=>{t&&c(z=>({...z,contacts:{...z.contacts,[k]:P}}))},j=k=>{r(P=>({...P,[k]:!P[k]}))},C=async()=>{o(k=>({...k,isCreating:!0}));try{const k=await fetch("http://localhost:3001/api/backup",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("adminToken")}`}});if(k.ok){const P=await k.json();o(z=>({...z,lastBackup:new Date().toLocaleString("it-IT"),backupSize:P.size||0,isCreating:!1})),e.showSuccess("Backup creato con successo!"),T()}else{if(k.status===401){m();return}throw new Error("Errore nella creazione del backup")}}catch(k){console.error("Errore backup:",k),o(P=>({...P,isCreating:!1})),e.showError("Errore nella creazione del backup")}},T=async()=>{try{const k=await fetch("http://localhost:3001/api/backup/status",{headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`}});if(k.ok){const P=await k.json();o(z=>({...z,lastBackup:P.lastBackup,backupSize:P.backupSize,availableSpace:P.availableSpace,backupHistory:P.backupHistory||[]}))}else if(k.status===401){m();return}}catch(k){console.error("Errore caricamento stato backup:",k)}};return y.useEffect(()=>{const k=localStorage.getItem("dashboardConfig");if(k)try{const P=JSON.parse(k);c(P),d(P)}catch(P){console.error("Error loading config:",P),d(l)}else d(l);T()},[]),y.useEffect(()=>()=>{const k=localStorage.getItem("adminToken");k&&!h(k)&&(localStorage.removeItem("adminToken"),localStorage.removeItem("userRole"),localStorage.removeItem("adminUsername"))},[]),i.jsxs("div",{className:"controllo-panel",children:[i.jsxs("div",{className:"panel-header",children:[i.jsx("h1",{children:"🎯 Pannello di Controllo"}),i.jsx("p",{children:"Gestisci la configurazione della dashboard e dei quadranti"})]}),i.jsx("div",{className:"panel-actions",children:t?i.jsxs(i.Fragment,{children:[i.jsx("button",{className:"save-btn",onClick:w,children:"💾 Salva Modifiche"}),i.jsx("button",{className:"cancel-btn",onClick:S,children:"❌ Annulla"}),i.jsx("button",{className:"reset-btn",onClick:N,children:"🔄 Reset Configurazione"})]}):i.jsxs(i.Fragment,{children:[i.jsx("button",{className:"edit-btn",onClick:v,children:"✏️ Modifica Configurazione"}),i.jsx("button",{className:"reset-btn",onClick:N,children:"🔄 Reset Configurazione"})]})}),i.jsxs("div",{className:"config-sections",children:[i.jsxs("section",{className:"config-section",children:[i.jsxs("div",{className:"section-header",onClick:()=>j("quadrants"),children:[i.jsx("h2",{children:"🎯 Configurazione Quadranti"}),i.jsx("span",{className:"toggle-icon",children:s.quadrants?"▼":"▶"})]}),s.quadrants&&i.jsx("div",{className:"quadrants-grid",children:Object.entries(l.quadrants).map(([k,P])=>i.jsxs("div",{className:`quadrant-item ${P.enabled?"":"disabled"}`,children:[i.jsxs("div",{className:"quadrant-header",children:[i.jsxs("label",{className:"toggle-switch",children:[i.jsx("input",{type:"checkbox",checked:P.enabled,onChange:()=>f(k),disabled:!t}),i.jsx("span",{className:"slider"})]}),i.jsx("span",{className:"quadrant-icon",children:P.icon})]}),t?i.jsx("input",{type:"text",value:P.title,onChange:z=>p(k,"title",z.target.value),className:"quadrant-title-input",placeholder:"Titolo quadrante"}):i.jsx("h3",{className:"quadrant-title",children:P.title}),t&&i.jsx("input",{type:"text",value:P.icon,onChange:z=>p(k,"icon",z.target.value),className:"quadrant-icon-input",placeholder:"Icona (emoji)"}),i.jsx("div",{className:"quadrant-status",children:P.enabled?"✅ Abilitato":"❌ Disabilitato"})]},k))})]}),i.jsxs("section",{className:"config-section",children:[i.jsxs("div",{className:"section-header",onClick:()=>j("dashboard"),children:[i.jsx("h2",{children:"🏠 Impostazioni Dashboard"}),i.jsx("span",{className:"toggle-icon",children:s.dashboard?"▼":"▶"})]}),s.dashboard&&i.jsxs("div",{className:"settings-grid",children:[i.jsxs("div",{className:"setting-item",children:[i.jsx("label",{children:"Titolo Principale:"}),t?i.jsx("input",{type:"text",value:l.dashboard.title,onChange:k=>g("title",k.target.value),className:"setting-input"}):i.jsx("span",{className:"setting-value",children:l.dashboard.title})]}),i.jsxs("div",{className:"setting-item",children:[i.jsx("label",{children:"Sottotitolo:"}),t?i.jsx("input",{type:"text",value:l.dashboard.subtitle,onChange:k=>g("subtitle",k.target.value),className:"setting-input"}):i.jsx("span",{className:"setting-value",children:l.dashboard.subtitle})]}),i.jsxs("div",{className:"setting-item",children:[i.jsx("label",{children:"Mostra Link Social:"}),i.jsxs("label",{className:"toggle-switch",children:[i.jsx("input",{type:"checkbox",checked:l.dashboard.showSocialLinks,onChange:k=>g("showSocialLinks",k.target.checked),disabled:!t}),i.jsx("span",{className:"slider"})]})]}),i.jsxs("div",{className:"setting-item",children:[i.jsx("label",{children:"Mostra Segnala Bug:"}),i.jsxs("label",{className:"toggle-switch",children:[i.jsx("input",{type:"checkbox",checked:l.dashboard.showBugReport,onChange:k=>g("showBugReport",k.target.checked),disabled:!t}),i.jsx("span",{className:"slider"})]})]}),i.jsxs("div",{className:"setting-item",children:[i.jsx("label",{children:"Mostra Pulsante Admin:"}),i.jsxs("label",{className:"toggle-switch",children:[i.jsx("input",{type:"checkbox",checked:l.dashboard.showAdminButton,onChange:k=>g("showAdminButton",k.target.checked),disabled:!t}),i.jsx("span",{className:"slider"})]})]})]})]}),i.jsxs("section",{className:"config-section",children:[i.jsxs("div",{className:"section-header",onClick:()=>j("events"),children:[i.jsx("h2",{children:"🎉 Impostazioni Eventi"}),i.jsx("span",{className:"toggle-icon",children:s.events?"▼":"▶"})]}),s.events&&i.jsxs("div",{className:"settings-grid",children:[i.jsxs("div",{className:"setting-item",children:[i.jsx("label",{children:"Abilita ARIAPERTAPARTY:"}),i.jsxs("label",{className:"toggle-switch",children:[i.jsx("input",{type:"checkbox",checked:l.events.ariapertaParty.enabled,onChange:k=>x("enabled",k.target.checked),disabled:!t}),i.jsx("span",{className:"slider"})]})]}),i.jsxs("div",{className:"setting-item",children:[i.jsx("label",{children:"Titolo Evento:"}),t?i.jsx("input",{type:"text",value:l.events.ariapertaParty.title,onChange:k=>x("title",k.target.value),className:"setting-input"}):i.jsx("span",{className:"setting-value",children:l.events.ariapertaParty.title})]}),i.jsxs("div",{className:"setting-item",children:[i.jsx("label",{children:"Data Inizio:"}),t?i.jsx("input",{type:"date",value:l.events.ariapertaParty.startDate,onChange:k=>x("startDate",k.target.value),className:"setting-input"}):i.jsx("span",{className:"setting-value",children:l.events.ariapertaParty.startDate})]}),i.jsxs("div",{className:"setting-item",children:[i.jsx("label",{children:"Data Fine:"}),t?i.jsx("input",{type:"date",value:l.events.ariapertaParty.endDate,onChange:k=>x("endDate",k.target.value),className:"setting-input"}):i.jsx("span",{className:"setting-value",children:l.events.ariapertaParty.endDate})]}),i.jsxs("div",{className:"setting-item",children:[i.jsx("label",{children:"Evento Gratuito:"}),i.jsxs("label",{className:"toggle-switch",children:[i.jsx("input",{type:"checkbox",checked:l.events.ariapertaParty.isFree,onChange:k=>x("isFree",k.target.checked),disabled:!t}),i.jsx("span",{className:"slider"})]})]})]})]}),i.jsxs("section",{className:"config-section",children:[i.jsxs("div",{className:"section-header",onClick:()=>j("contacts"),children:[i.jsx("h2",{children:"📞 Impostazioni Contatti"}),i.jsx("span",{className:"toggle-icon",children:s.contacts?"▼":"▶"})]}),s.contacts&&i.jsxs("div",{className:"settings-grid",children:[i.jsxs("div",{className:"setting-item",children:[i.jsx("label",{children:"Email:"}),t?i.jsx("input",{type:"email",value:l.contacts.email,onChange:k=>b("email",k.target.value),className:"setting-input"}):i.jsx("span",{className:"setting-value",children:l.contacts.email})]}),i.jsxs("div",{className:"setting-item",children:[i.jsx("label",{children:"Telefono:"}),t?i.jsx("input",{type:"tel",value:l.contacts.phone,onChange:k=>b("phone",k.target.value),className:"setting-input"}):i.jsx("span",{className:"setting-value",children:l.contacts.phone})]}),i.jsxs("div",{className:"setting-item",children:[i.jsx("label",{children:"Indirizzo:"}),t?i.jsx("input",{type:"text",value:l.contacts.address,onChange:k=>b("address",k.target.value),className:"setting-input"}):i.jsx("span",{className:"setting-value",children:l.contacts.address})]})]})]}),i.jsxs("section",{className:"config-section",children:[i.jsxs("div",{className:"section-header",onClick:()=>j("users"),children:[i.jsx("h2",{children:"👥 Gestione Utenti"}),i.jsx("span",{className:"toggle-icon",children:s.users?"▼":"▶"})]}),s.users&&i.jsxs("div",{className:"user-management-info",children:[i.jsx("p",{children:"Gestisci utenti e permessi del sistema. Monitora l'attività e gestisci i ruoli degli utenti."}),i.jsxs("div",{className:"user-management-stats",children:[i.jsxs("div",{className:"user-stat-card",children:[i.jsx("div",{className:"stat-icon",children:"👥"}),i.jsxs("div",{className:"stat-content",children:[i.jsx("div",{className:"stat-number",children:"9"}),i.jsx("div",{className:"stat-label",children:"Utenti Totali"})]})]}),i.jsxs("div",{className:"user-stat-card",children:[i.jsx("div",{className:"stat-icon",children:"👑"}),i.jsxs("div",{className:"stat-content",children:[i.jsx("div",{className:"stat-number",children:"2"}),i.jsx("div",{className:"stat-label",children:"Amministratori"})]})]}),i.jsxs("div",{className:"user-stat-card",children:[i.jsx("div",{className:"stat-icon",children:"🎸"}),i.jsxs("div",{className:"stat-content",children:[i.jsx("div",{className:"stat-number",children:"2"}),i.jsx("div",{className:"stat-label",children:"Sala Prove"})]})]}),i.jsxs("div",{className:"user-stat-card",children:[i.jsx("div",{className:"stat-icon",children:"📚"}),i.jsxs("div",{className:"stat-content",children:[i.jsx("div",{className:"stat-number",children:"1"}),i.jsx("div",{className:"stat-label",children:"Imparar Suonando"})]})]}),i.jsxs("div",{className:"user-stat-card",children:[i.jsx("div",{className:"stat-icon",children:"📰"}),i.jsxs("div",{className:"stat-content",children:[i.jsx("div",{className:"stat-number",children:"1"}),i.jsx("div",{className:"stat-label",children:"Gestione News"})]})]}),i.jsxs("div",{className:"user-stat-card",children:[i.jsx("div",{className:"stat-icon",children:"👤"}),i.jsxs("div",{className:"stat-content",children:[i.jsx("div",{className:"stat-number",children:"3"}),i.jsx("div",{className:"stat-label",children:"Utenti Base"})]})]})]}),i.jsxs("div",{className:"user-management-actions",children:[i.jsx("button",{className:"btn-primary",onClick:()=>window.location.hash="#/gestione-utenti",children:"🔐 Gestione Utenti Completa"}),i.jsx("button",{className:"btn-secondary",onClick:()=>window.location.hash="#/gestione-utenti",children:"📊 Statistiche Dettagliate"})]}),i.jsxs("div",{className:"user-management-info-details",children:[i.jsx("h4",{children:"Funzionalità Disponibili:"}),i.jsxs("ul",{children:[i.jsx("li",{children:"✅ Visualizzazione completa degli utenti"}),i.jsx("li",{children:"✅ Gestione ruoli e permessi"}),i.jsx("li",{children:"✅ Reset password utenti"}),i.jsx("li",{children:"✅ Monitoraggio ultimi accessi"}),i.jsx("li",{children:"✅ Statistiche per ruolo"})]})]})]})]}),i.jsxs("section",{className:"config-section",children:[i.jsxs("div",{className:"section-header",onClick:()=>j("backup"),children:[i.jsx("h2",{children:"📦 Gestione Backup"}),i.jsx("span",{className:"toggle-icon",children:s.backup?"▼":"▶"})]}),s.backup&&i.jsxs("div",{className:"backup-management-info",children:[i.jsx("p",{children:"Gestisci i backup del sistema. Crea backup manuali, monitora lo stato e gestisci lo spazio disco."}),i.jsxs("div",{className:"backup-status-overview",children:[i.jsxs("div",{className:"backup-stat-card",children:[i.jsx("div",{className:"stat-icon",children:"📦"}),i.jsxs("div",{className:"stat-content",children:[i.jsx("div",{className:"stat-number",children:a.lastBackup?"✅":"❌"}),i.jsx("div",{className:"stat-label",children:"Ultimo Backup"}),i.jsx("div",{className:"stat-value",children:a.lastBackup||"Mai creato"})]})]}),i.jsxs("div",{className:"backup-stat-card",children:[i.jsx("div",{className:"stat-icon",children:"💾"}),i.jsxs("div",{className:"stat-content",children:[i.jsxs("div",{className:"stat-number",children:[a.backupSize,"MB"]}),i.jsx("div",{className:"stat-label",children:"Dimensione Backup"}),i.jsx("div",{className:"stat-value",children:a.backupSize>0?"Backup disponibile":"Nessun backup"})]})]}),i.jsxs("div",{className:"backup-stat-card",children:[i.jsx("div",{className:"stat-icon",children:"💿"}),i.jsxs("div",{className:"stat-content",children:[i.jsxs("div",{className:"stat-number",children:[a.availableSpace,"GB"]}),i.jsx("div",{className:"stat-label",children:"Spazio Disponibile"}),i.jsx("div",{className:"stat-value",children:a.availableSpace>1?"Spazio sufficiente":"Spazio limitato"})]})]})]}),i.jsxs("div",{className:"backup-actions",children:[i.jsx("button",{className:`btn-primary ${a.isCreating?"disabled":""}`,onClick:C,disabled:a.isCreating,children:a.isCreating?"⏳ Creazione Backup...":"📦 Crea Backup"}),i.jsx("button",{className:"btn-secondary",onClick:T,children:"🔄 Aggiorna Stato"})]}),a.backupHistory.length>0&&i.jsxs("div",{className:"backup-history",children:[i.jsx("h4",{children:"📁 Storico Backup:"}),i.jsx("div",{className:"backup-list",children:a.backupHistory.map((k,P)=>i.jsxs("div",{className:"backup-item",children:[i.jsx("span",{className:"backup-date",children:k.date}),i.jsxs("span",{className:"backup-size",children:[k.size,"MB"]}),i.jsx("span",{className:"backup-type",children:k.type})]},P))})]}),i.jsxs("div",{className:"backup-info-details",children:[i.jsx("h4",{children:"ℹ️ Informazioni Backup:"}),i.jsxs("ul",{children:[i.jsx("li",{children:"✅ Backup completo del database e file di configurazione"}),i.jsx("li",{children:"✅ Compressione automatica per risparmiare spazio"}),i.jsx("li",{children:"✅ Rotazione automatica (mantiene ultimi 7 giorni)"}),i.jsx("li",{children:"✅ Verifica integrità automatica"}),i.jsx("li",{children:"✅ Download manuale dei backup"})]}),i.jsx("div",{className:"backup-warning",children:i.jsxs("p",{children:["⚠️ ",i.jsx("strong",{children:"Importante:"})," I backup vengono salvati localmente. Per maggiore sicurezza, considera di copiarli su un dispositivo esterno o cloud storage."]})})]})]})]})]})]})}function v1({onLogin:e}){const[t,n]=y.useState({username:"",password:""}),[s,r]=y.useState(""),[a,o]=y.useState(!1),l=async u=>{u.preventDefault(),r(""),o(!0);try{await e(t.username,t.password)||r("Credenziali non valide. Riprova.")}catch{r("Errore durante il login. Riprova.")}finally{o(!1)}},c=u=>{const{name:d,value:m}=u.target;n(h=>({...h,[d]:m}))};return i.jsx("div",{className:"admin-login",children:i.jsxs("div",{className:"login-container",children:[i.jsxs(J.div,{className:"login-header",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[i.jsx("div",{className:"login-logo",children:i.jsx("img",{src:"/images/logos/exmatta-logo.png",alt:"AriaPerta Logo"})}),i.jsx("h1",{children:"Dashboard AriaPerta"}),i.jsx("p",{children:"Accedi per gestire corsi, prenotazioni e news"})]}),i.jsxs(J.form,{className:"login-form",onSubmit:l,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"username",children:"Username"}),i.jsx("input",{type:"text",id:"username",name:"username",value:t.username,onChange:c,required:!0,placeholder:"Inserisci username",autoComplete:"username"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"password",children:"Password"}),i.jsx("input",{type:"password",id:"password",name:"password",value:t.password,onChange:c,required:!0,placeholder:"Inserisci password",autoComplete:"current-password"})]}),s&&i.jsx(J.div,{className:"login-error",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:s}),i.jsx("button",{type:"submit",className:"login-btn",disabled:a,children:a?"Accesso in corso...":"Accedi"})]}),i.jsx(J.div,{className:"login-footer",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},children:i.jsx("p",{children:"Credenziali demo: admin / exmatta2024"})})]})})}function x1({message:e,type:t="info",onClose:n,duration:s=5e3}){y.useEffect(()=>{if(s>0){const o=setTimeout(()=>{n()},s);return()=>clearTimeout(o)}},[s,n]);const r=()=>{switch(t){case"success":return"✅";case"warning":return"⚠️";case"error":return"❌";case"info":default:return"ℹ️"}},a=()=>{switch(t){case"success":return"var(--admin-success)";case"warning":return"var(--admin-warning)";case"error":return"var(--admin-error)";case"info":default:return"var(--admin-info)"}};return i.jsxs(J.div,{className:"toast",initial:{opacity:0,y:-50,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-50,scale:.8},transition:{duration:.3,ease:"easeOut"},style:{background:a(),borderLeft:`4px solid ${a()}`},children:[i.jsxs("div",{className:"toast-content",children:[i.jsx("span",{className:"toast-icon",children:r()}),i.jsx("span",{className:"toast-message",children:e})]}),i.jsx("button",{className:"toast-close",onClick:n,children:"×"})]})}function Tg({toasts:e,removeToast:t}){return i.jsx("div",{className:`toast-container ${e.length>0?"active":"hidden"}`,children:i.jsx(Qf,{children:e.map(n=>i.jsx(x1,{message:n.message,type:n.type,onClose:()=>t(n.id),duration:n.duration},n.id))})})}function Eg(){const[e,t]=y.useState([]),n=y.useCallback((c,u="info",d=5e3)=>{const m=Date.now()+Math.random(),h={id:m,message:c,type:u,duration:d};t(v=>[...v,h]),d>0&&setTimeout(()=>{s(m)},d)},[]),s=y.useCallback(c=>{t(u=>u.filter(d=>d.id!==c))},[]),r=y.useCallback((c,u)=>{n(c,"success",u)},[n]),a=y.useCallback((c,u)=>{n(c,"warning",u)},[n]),o=y.useCallback((c,u)=>{n(c,"error",u)},[n]),l=y.useCallback((c,u)=>{n(c,"info",u)},[n]);return{toasts:e,addToast:n,removeToast:s,showSuccess:r,showWarning:a,showError:o,showInfo:l}}const y1=(e={})=>{const{enableScrollIndicator:t=!0,enableSmoothScroll:n=!0,scrollThreshold:s=100,onScroll:r=null,onScrollEnd:a=null}=e,[o,l]=y.useState(0),[c,u]=y.useState(!1),[d,m]=y.useState("down"),[h,v]=y.useState(!1),w=y.useRef(null),S=y.useRef(0),N=y.useRef(null),f=y.useCallback(()=>{const C=window.pageYOffset||document.documentElement.scrollTop,T=window.innerHeight,k=document.documentElement.scrollHeight;if(k<=T)return 0;const P=k-T,z=C/P*100;return Math.min(100,Math.max(0,z))},[]),p=y.useCallback(()=>{if(!t||!N.current)return;const C=f();l(C),C>0?(v(!0),N.current&&(N.current.style.transform=`scaleX(${C/100})`)):v(!1)},[t,f]),g=y.useCallback(()=>{const C=window.pageYOffset||document.documentElement.scrollTop,T=Date.now();C>S.current?m("down"):C<S.current&&m("up"),S.current=C,u(!0),p(),r&&r({scrollTop:C,scrollProgress:f(),direction:d,timestamp:T}),w.current&&clearTimeout(w.current),w.current=setTimeout(()=>{u(!1),a&&a({scrollTop:C,scrollProgress:f(),direction:d,timestamp:Date.now()})},150)},[p,r,a,d,f]),x=y.useCallback((C,T={})=>{if(!C)return;const{offset:k=0,behavior:P=n?"smooth":"auto",duration:z=800}=T,B=C.offsetTop-k;if(P==="smooth"&&z>0){const ie=window.pageYOffset||document.documentElement.scrollTop,me=B-ie,ot=performance.now(),Le=R=>R<.5?4*R*R*R:(R-1)*(2*R-2)*(2*R-2)+1,G=R=>{const L=R-ot,I=Math.min(L/z,1),Z=Le(I),ee=ie+me*Z;window.scrollTo(0,ee),I<1&&requestAnimationFrame(G)};requestAnimationFrame(G)}else window.scrollTo({top:B,behavior:P})},[n]),b=y.useCallback((C={})=>{const{behavior:T=n?"smooth":"auto"}=C;window.scrollTo({top:0,behavior:T})},[n]),j=y.useCallback((C={})=>{const{behavior:T=n?"smooth":"auto"}=C,k=document.documentElement.scrollHeight,P=window.innerHeight;window.scrollTo({top:k-P,behavior:T})},[n]);return y.useEffect(()=>{n&&(document.documentElement.style.scrollBehavior="smooth"),window.addEventListener("scroll",g,{passive:!0});const C=()=>{p()};return window.addEventListener("resize",C),window.addEventListener("orientationchange",C),p(),()=>{window.removeEventListener("scroll",g),window.removeEventListener("resize",C),window.removeEventListener("orientationchange",C),w.current&&clearTimeout(w.current),document.documentElement.style.scrollBehavior=""}},[g,p,n]),y.useEffect(()=>()=>{w.current&&clearTimeout(w.current)},[]),{scrollProgress:o,isScrolling:c,scrollDirection:d,showScrollIndicator:h,scrollToElement:x,scrollToTop:b,scrollToBottom:j,updateScrollIndicator:p}},Pg=({children:e,className:t=""})=>{const n=y.useRef(null),s=y.useRef(null),r=y.useRef(null),[a,o]=y.useState(!1),[l,c]=y.useState(0),[u,d]=y.useState(0),{scrollProgress:m,showScrollIndicator:h}=y1({enableScrollIndicator:!0,enableSmoothScroll:!0,onScroll:S=>{updateThumbSize()}});y.useEffect(()=>{const S=n.current,N=s.current,f=r.current;if(!S||!N||!f)return;const p=()=>{const C=window.innerHeight,T=document.documentElement.scrollHeight,k=window.pageYOffset||document.documentElement.scrollTop;if(N.style.display="block",T<=C){c(50),d(0);return}const P=T-C,z=C/T,B=Math.max(50,C*z);c(B);const ie=C-B;let me=0;P>0&&ie>0&&(me=k/P*ie),me=Math.max(0,Math.min(ie,me)),d(me)},g=()=>{p()},x=C=>{C.target===f&&(o(!0),C.preventDefault())},b=C=>{if(!a)return;const T=N.getBoundingClientRect(),k=T.top,P=T.height,z=C.clientY,ie=Math.max(0,Math.min(P-l,z-k))/(P-l),me=document.documentElement.scrollHeight,ot=window.innerHeight,Le=me-ot,G=ie*Le;window.scrollTo({top:G,behavior:"auto"})},j=()=>{o(!1)};return window.addEventListener("scroll",g),N.addEventListener("mousedown",x),document.addEventListener("mousemove",b),document.addEventListener("mouseup",j),p(),()=>{window.removeEventListener("scroll",g),N.removeEventListener("mousedown",x),document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",j)}},[a,l]);const v=isNaN(l)?50:l,w=isNaN(u)?0:u;return i.jsxs("div",{className:`custom-scrollbar ${t}`,ref:n,children:[e,i.jsx("div",{className:"custom-scrollbar-track",ref:s,children:i.jsx("div",{className:"custom-scrollbar-thumb",ref:r,style:{height:v,top:w}})}),h&&i.jsx("div",{className:"scroll-indicator",style:{transform:`scaleX(${m/100})`}})]})};function j1(){const[e,t]=y.useState(!1),[n,s]=y.useState("dashboard"),[r,a]=y.useState(null),[o,l]=y.useState({username:"",role:"",lastLogin:null}),c=Eg(),u=w=>{if(!w)return!1;const S=w.split(".");return S.length!==3?!1:S.every(N=>N&&N.length>0)};y.useEffect(()=>{const w=localStorage.getItem("adminToken"),S=localStorage.getItem("userRole"),N=localStorage.getItem("adminUsername");w&&u(w)&&S&&N?(t(!0),a(S),l(f=>({...f,username:N,role:S,lastLogin:new Date().toLocaleString("it-IT")}))):w&&!u(w)&&(console.warn("Corrupted JWT token detected, clearing localStorage"),localStorage.removeItem("adminToken"),localStorage.removeItem("userRole"),localStorage.removeItem("adminUsername"))},[]);const d=async(w,S)=>{try{const N=await fetch("http://localhost:3001/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:w,password:S})});if(N.ok){const f=await N.json();if(f.success)return localStorage.setItem("adminToken",f.token),localStorage.setItem("userRole",f.user.role),localStorage.setItem("adminUsername",f.user.username),t(!0),a(f.user.role),l(p=>({...p,username:f.user.username,role:f.user.role,lastLogin:new Date().toLocaleString("it-IT")})),!0}return!1}catch(N){return console.error("Errore durante il login:",N),!1}},m=()=>{localStorage.removeItem("adminToken"),localStorage.removeItem("userRole"),localStorage.removeItem("adminUsername"),t(!1),a(null),s("dashboard")},h=()=>{localStorage.removeItem("adminToken"),localStorage.removeItem("userRole"),localStorage.removeItem("adminUsername"),t(!1),a(null),s("dashboard")},v=w=>{s(w)};return e?i.jsx(Pg,{children:i.jsxs("div",{className:"admin-app",children:[i.jsx(WN,{adminData:o,onLogout:m}),i.jsx(KN,{currentView:n,onViewChange:v,userRole:r,onLogout:m,onResetPassword:()=>{console.log("Reset password requested")}}),i.jsxs("div",{className:"admin-container",children:[i.jsx(GN,{currentView:n,onViewChange:v,userRole:r}),i.jsxs("main",{className:"admin-main",children:[n==="dashboard"&&i.jsx("div",{className:"dashboard-view",children:i.jsx(QN,{onViewChange:v,toast:c,userRole:r,clearAllTokens:h})}),n==="corsi"&&(r==="admin"||r==="salacorsi"||r==="docente")&&i.jsx("div",{className:"corsi-view",children:i.jsx(XN,{onViewChange:v,toast:c,userRole:r,clearAllTokens:h})}),n==="prenotazioni"&&(r==="admin"||r==="salaprove"||r==="salacorsi")&&i.jsx("div",{className:"prenotazioni-view",children:i.jsx(ZN,{})}),n==="gestione-utenti"&&r==="admin"&&i.jsx("div",{className:"utenti-view",children:i.jsx(p1,{onViewChange:v,toast:c,userRole:r,clearAllTokens:h})}),n==="bug-reports"&&(r==="admin"||r==="news")&&i.jsx("div",{className:"bug-reports-view",children:i.jsx(f1,{onViewChange:v,toast:c,userRole:r,clearAllTokens:h})}),n==="disponibilita"&&(r==="admin"||r==="salaprove")&&i.jsx("div",{className:"disponibilita-view",children:i.jsx(GestioneDisponibilita,{onViewChange:v,toast:c,userRole:r,clearAllTokens:h})}),n==="news"&&(r==="admin"||r==="news")&&i.jsx("div",{className:"news-view",children:i.jsx(JN,{onViewChange:v,toast:c,userRole:r,clearAllTokens:h})}),n==="controllo"&&r==="admin"&&i.jsx("div",{className:"controllo-view",children:i.jsx(g1,{onViewChange:v,toast:c,clearAllTokens:h})})]})]}),i.jsx(Tg,{toasts:c.toasts,removeToast:c.removeToast})]})}):i.jsx(v1,{onLogin:d})}const w1=()=>(console.warn("⚠️  reCAPTCHA non configurato, usando chiave di test"),"6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI"),Ag=()=>{const e=()=>typeof window<"u"&&window.grecaptcha&&window.grecaptcha.ready,t=y.useCallback(async(r="submit")=>{if(!e())return console.warn("⚠️  reCAPTCHA non disponibile, restituisco token fittizio"),"recaptcha-not-available";try{return new Promise((a,o)=>{window.grecaptcha.ready(()=>{const l=w1();window.grecaptcha.execute(l,{action:r}).then(c=>{a(c)}).catch(c=>{console.error("❌ Errore generazione token reCAPTCHA:",c),o(c)})})})}catch(a){throw console.error("❌ Errore esecuzione reCAPTCHA:",a),a}}),n=y.useCallback(async()=>t("submit")),s=y.useCallback(async()=>t("critical"));return{isRecaptchaAvailable:e,executeRecaptcha:t,executeForPublicForm:n,executeForCriticalAction:s}},N1=({onClose:e,onSuccess:t,toast:n,selectedTeacher:s})=>{const{executeForPublicForm:r}=Ag(),[a,o]=y.useState({nome:"",email:"",telefono:"",tipoCorso:s?s.instrument:"",livello:"Principiante",messaggio:"",preferenzaContatto:"email"}),[l,c]=y.useState(!1);y.useEffect(()=>{s&&o(m=>({...m,tipoCorso:s.instruments}))},[s]);const u=m=>{const{name:h,value:v}=m.target;o(w=>({...w,[h]:v}))},d=async m=>{m.preventDefault(),c(!0);const h=setTimeout(()=>{c(!1),n.showError("Timeout: La richiesta sta impiegando troppo tempo. Riprova.")},1e4);try{const v=await r(),w=await rn.create({nome:a.nome,email:a.email,telefono:a.telefono||"Non fornito",strumento:a.tipoCorso,livello:a.livello,descrizione:a.messaggio,teacher_id:(s==null?void 0:s.id)||null,recaptchaToken:v});clearTimeout(h),w&&w.success?(t&&t(),e(),setTimeout(()=>{n.showSuccess("Richiesta corso inviata con successo! Ti contatteremo presto.")},100)):n.showError("Errore durante l'invio. Riprova.")}catch(v){clearTimeout(h),console.error("Errore richiesta corso:",v),n.showError("Errore di connessione. Riprova più tardi.")}finally{c(!1)}};return i.jsx(J.div,{className:"course-request-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,children:i.jsxs(J.div,{className:"course-request-modal",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},onClick:m=>m.stopPropagation(),children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h2",{children:"📚 Richiesta Informazioni Corsi"}),i.jsx("button",{onClick:e,className:"close-btn",children:"×"})]}),i.jsxs("form",{onSubmit:d,className:"course-form",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"nome",children:"Nome e Cognome *"}),i.jsx("input",{type:"text",id:"nome",name:"nome",value:a.nome,onChange:u,required:!0,placeholder:"Il tuo nome completo"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"email",children:"Email *"}),i.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:u,required:!0,placeholder:"la-tua-email@esempio.com"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"telefono",children:"Telefono"}),i.jsx("input",{type:"tel",id:"telefono",name:"telefono",value:a.telefono,onChange:u,placeholder:"Il tuo numero di telefono"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"tipoCorso",children:"Tipo di Corso *"}),i.jsxs("select",{id:"tipoCorso",name:"tipoCorso",value:a.tipoCorso,onChange:u,required:!0,children:[i.jsx("option",{value:"",children:"Seleziona un tipo di corso"}),i.jsx("option",{value:"Chitarra",children:"Chitarra"}),i.jsx("option",{value:"Ukulele",children:"Ukulele"}),i.jsx("option",{value:"Basso",children:"Basso"}),i.jsx("option",{value:"Batteria",children:"Batteria"}),i.jsx("option",{value:"Pianoforte",children:"Pianoforte"}),i.jsx("option",{value:"Voce",children:"Voce"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"livello",children:"Livello *"}),i.jsxs("select",{id:"livello",name:"livello",value:a.livello,onChange:u,required:!0,children:[i.jsx("option",{value:"Principiante",children:"Principiante"}),i.jsx("option",{value:"Intermedio",children:"Intermedio"}),i.jsx("option",{value:"Avanzato",children:"Avanzato"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"messaggio",children:"Messaggio *"}),i.jsx("textarea",{id:"messaggio",name:"messaggio",value:a.messaggio,onChange:u,required:!0,rows:"4",placeholder:"Descrivi cosa ti interessa sapere sui nostri corsi..."})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"preferenzaContatto",children:"Preferenza di Contatto"}),i.jsxs("select",{id:"preferenzaContatto",name:"preferenzaContatto",value:a.preferenzaContatto,onChange:u,children:[i.jsx("option",{value:"email",children:"Email"}),i.jsx("option",{value:"telefono",children:"Telefono"}),i.jsx("option",{value:"entrambi",children:"Entrambi"})]})]}),i.jsxs("div",{className:"form-actions",children:[i.jsx("button",{type:"button",className:"cancel-btn",onClick:e,disabled:l,children:"Annulla"}),i.jsx("button",{type:"submit",className:"submit-btn",disabled:l,children:l?"Invio in corso...":"Invia Richiesta"})]})]})]})})};function S1({isOpen:e,onClose:t}){const[n,s]=y.useState({description:""}),[r,a]=y.useState(!1),[o,l]=y.useState(!1),{executeForPublicForm:c}=Ag(),u=()=>{const h=navigator.userAgent;let v="Unknown",w="Unknown",S="Unknown";if(h.indexOf("Chrome")>-1&&h.indexOf("Edg")===-1){v="Chrome";const N=h.match(/Chrome\/(\d+)/);N&&(w=N[1])}else if(h.indexOf("Firefox")>-1){v="Firefox";const N=h.match(/Firefox\/(\d+)/);N&&(w=N[1])}else if(h.indexOf("Safari")>-1&&h.indexOf("Chrome")===-1){v="Safari";const N=h.match(/Version\/(\d+)/);N&&(w=N[1])}else if(h.indexOf("Edg")>-1){v="Edge";const N=h.match(/Edg\/(\d+)/);N&&(w=N[1])}return h.indexOf("Windows")>-1?(S="Windows",h.indexOf("Windows NT 10.0")>-1?S+=" 10/11":h.indexOf("Windows NT 6.3")>-1?S+=" 8.1":h.indexOf("Windows NT 6.2")>-1?S+=" 8":h.indexOf("Windows NT 6.1")>-1&&(S+=" 7")):h.indexOf("Mac")>-1?S="macOS":h.indexOf("Linux")>-1?S="Linux":h.indexOf("Android")>-1?S="Android":(h.indexOf("iPhone")>-1||h.indexOf("iPad")>-1)&&(S="iOS"),`${v} ${w} / ${S}`},d=async h=>{if(h.preventDefault(),!n.description.trim()){alert("Per favore, descrivi il problema che hai riscontrato.");return}a(!0);try{const v=await c(),w=u(),S=await fetch("http://localhost:3001/api/bug-reports",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:n.description.trim(),browser_info:w,recaptchaToken:v})});if(!S.ok)throw new Error(`HTTP error! status: ${S.status}`);const N=await S.json();if(N.success)l(!0),s({description:""}),setTimeout(()=>{l(!1),t()},3e3);else throw new Error(N.error||"Errore durante l'invio")}catch(v){console.error("Errore durante l'invio:",v),alert("Si è verificato un errore durante l'invio della segnalazione. Riprova più tardi.")}finally{a(!1)}},m=h=>{s({...n,[h.target.name]:h.target.value})};return e?o?i.jsx("div",{className:`bug-report-overlay ${e?"active":"hidden"}`,children:i.jsx("div",{className:"bug-report-modal success",children:i.jsxs("div",{className:"success-content",children:[i.jsx("div",{className:"success-icon",children:"✅"}),i.jsx("h2",{children:"Grazie per la tua segnalazione!"}),i.jsx("p",{children:"Il tuo report è stato inviato con successo. Il nostro team lo esaminerà al più presto."}),i.jsx("div",{className:"success-details",children:i.jsxs("p",{children:[i.jsx("strong",{children:"Sistema rilevato:"})," ",u()]})})]})})}):i.jsx("div",{className:`bug-report-overlay ${e?"active":"hidden"}`,children:i.jsxs("div",{className:"bug-report-modal",children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h2",{children:"🐛 Segnala un Problema"}),i.jsx("button",{className:"close-btn",onClick:t,disabled:r,children:"×"})]}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("div",{className:"form-intro",children:[i.jsx("p",{children:"Hai riscontrato un problema nel sito? Segnalacelo e lo risolveremo al più presto!"}),i.jsxs("div",{className:"auto-detect-info",children:[i.jsx("strong",{children:"🌐 Sistema rilevato automaticamente:"}),i.jsx("span",{className:"browser-info",children:u()})]})]}),i.jsxs("form",{className:"bug-report-form",onSubmit:d,children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"description",children:"Descrizione del problema *"}),i.jsx("textarea",{id:"description",name:"description",value:n.description,onChange:m,placeholder:"Descrivi dettagliatamente il problema che hai riscontrato. Ad esempio: 'Il pulsante per prenotare la sala non funziona' oppure 'La pagina si carica lentamente su mobile'...",rows:6,required:!0,disabled:r}),i.jsxs("small",{className:"char-count",children:[n.description.length,"/1000 caratteri"]})]}),i.jsx("div",{className:"privacy-notice",children:i.jsxs("p",{children:[i.jsx("strong",{children:"📋 Nota sulla privacy:"})," Non raccogliamo email o dati personali. Le informazioni del browser vengono rilevate automaticamente per aiutarci a risolvere il problema."]})}),i.jsxs("div",{className:"form-actions",children:[i.jsx("button",{type:"button",className:"cancel-btn",onClick:t,disabled:r,children:"Annulla"}),i.jsx("button",{type:"submit",className:"submit-btn",disabled:r||!n.description.trim(),children:r?"⏳ Invio in corso...":"📤 Invia Segnalazione"})]})]})]})]})}):null}function C1({goHome:e,onShowCourseForm:t}){const[n,s]=y.useState(null),[r,a]=y.useState([]),[o,l]=y.useState(!0),[c,u]=y.useState(null);y.useEffect(()=>{window.scrollTo(0,0)},[]),y.useEffect(()=>{(async()=>{try{l(!0);const S=await fetch("http://localhost:3001/api/teachers/public");if(!S.ok)throw new Error("Errore nel caricamento degli insegnanti");const N=await S.json();a(N),u(null)}catch(S){console.error("Errore nel fetch degli insegnanti:",S),u("Impossibile caricare gli insegnanti"),a([{id:1,name:"Angelo Capozzi",instruments:"Chitarra",bio:"Insegnante di chitarra con oltre 10 anni di esperienza. Specializzato in chitarra classica, acustica ed elettrica. Ha suonato in diverse band locali e insegna a studenti di tutte le età.",email:"angelo@example.com"},{id:2,name:"Fabio Accurso",instruments:"Basso",bio:"Bassista esperto in diversi generi musicali. Ha suonato in numerose band e insegna tecniche di basso elettrico e contrabbasso.",email:"fabio@example.com"}])}finally{l(!1)}})()},[]);const d=w=>{s(w),window.scrollTo(0,0)};y.useEffect(()=>{console.log("TeachersPage - goHome prop:",e),console.log("TeachersPage - goHome type:",typeof e)},[e]);const m=()=>{s(null),window.scrollTo(0,0)},h=()=>{t&&t(n)},v=w=>{w.target.classList.contains("teachers-page")&&(n?s(null):e())};return o?i.jsxs(J.div,{className:"teachers-page",initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},children:[i.jsxs("div",{className:"teachers-header",children:[i.jsx("button",{className:"back-btn",onClick:()=>{console.log("Back button clicked (loading state), goHome function:",e),e()},"aria-label":"Torna alla home",children:"← Torna alla Home"}),i.jsxs("div",{className:"header-content",children:[i.jsx("h1",{className:"page-title",children:"🎸 Imparar Suonando"}),i.jsx("p",{className:"page-subtitle",children:"Caricamento insegnanti..."})]})]}),i.jsxs("div",{className:"teachers-loading",children:[i.jsx("div",{className:"loading-spinner"}),i.jsx("p",{children:"Caricamento insegnanti in corso..."})]})]}):c?i.jsxs(J.div,{className:"teachers-page",initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},children:[i.jsxs("div",{className:"teachers-header",children:[i.jsx("button",{className:"back-btn",onClick:()=>{console.log("Back button clicked (error state), goHome function:",e),e()},"aria-label":"Torna alla home",children:"← Torna alla Home"}),i.jsxs("div",{className:"header-content",children:[i.jsx("h1",{className:"page-title",children:"🎸 Imparar Suonando"}),i.jsx("p",{className:"page-subtitle",children:"Errore nel caricamento"})]})]}),i.jsxs("div",{className:"teachers-error",children:[i.jsx("div",{className:"error-icon",children:"⚠️"}),i.jsx("p",{children:c}),i.jsx("button",{className:"retry-btn",onClick:()=>window.location.reload(),children:"Riprova"})]})]}):r.length===0?i.jsxs(J.div,{className:"teachers-page",initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},children:[i.jsxs("div",{className:"teachers-header",children:[i.jsx("button",{className:"back-btn",onClick:()=>{console.log("Back button clicked (no teachers state), goHome function:",e),e()},"aria-label":"Torna alla home",children:"← Torna alla Home"}),i.jsxs("div",{className:"header-content",children:[i.jsx("h1",{className:"page-title",children:"🎸 Imparar Suonando"}),i.jsx("p",{className:"page-subtitle",children:"Nessun insegnante disponibile"})]})]}),i.jsxs("div",{className:"teachers-empty",children:[i.jsx("div",{className:"empty-icon",children:"🎵"}),i.jsx("p",{children:"Al momento non ci sono insegnanti disponibili."}),i.jsx("p",{children:"Riprova più tardi o contattaci per informazioni."})]})]}):i.jsx(J.div,{className:"overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:v,children:i.jsx("div",{className:"overlayInner",onClick:w=>w.stopPropagation(),children:i.jsxs("div",{className:"teachers-page",children:[i.jsxs("div",{className:"teachers-header",children:[i.jsx("button",{className:"back-btn",onClick:()=>{n?m():(console.log("Back button clicked (main state), goHome function:",e),e())},"aria-label":n?"Torna alla griglia":"Torna alla home",children:n?"← Torna alla Griglia":"← Torna alla Home"}),i.jsxs("div",{className:"header-content",children:[i.jsx("h1",{className:"page-title",children:"🎸 Imparar Suonando"}),i.jsx("p",{className:"page-subtitle",children:n?`Dettagli di ${n.name}`:`${r.length} insegnante${r.length!==1?"i":""} disponibili`})]})]}),n?i.jsx(J.div,{className:"teacher-detail-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:i.jsxs("div",{className:"teacher-detail-card",children:[i.jsx("div",{className:"teacher-detail-image",children:i.jsx("img",{src:"/images/card/incognito.png",alt:n.name})}),i.jsxs("div",{className:"teacher-detail-info",children:[i.jsx("h2",{className:"teacher-detail-name",children:n.name}),i.jsx("div",{className:"teacher-detail-instrument",children:n.instruments}),i.jsxs("div",{className:"teacher-detail-bio",children:[i.jsx("h3",{children:"Biografia"}),i.jsx("p",{children:n.bio})]}),i.jsxs("div",{className:"teacher-detail-social",children:[i.jsx("h3",{children:"Email"}),i.jsxs("a",{href:`mailto:${n.email}`,className:"email-link",children:[i.jsx("span",{className:"email-icon",children:"📧"}),n.email]})]}),i.jsx("button",{className:"request-info-btn",onClick:h,children:"📝 Richiedi Informazioni"})]})]})}):i.jsx("div",{className:"teachers-grid-container",children:i.jsx("div",{className:"teachers-grid",children:r.map(w=>i.jsx(J.div,{className:"teacher-card",onClick:()=>d(w),whileHover:{scale:1.05},whileTap:{scale:.95},children:i.jsxs("div",{className:"teacher-card-content",children:[i.jsx("div",{className:"teacher-card-arrow",children:"→"}),i.jsxs("div",{className:"teacher-card-info",children:[i.jsx("div",{className:"teacher-instrument",children:w.instruments}),i.jsx("div",{className:"teacher-name",children:w.name})]})]})},w.id))})})]})})})}const b1="https://www.facebook.com/lafreccia.arci/?locale=it_IT",k1="https://www.instagram.com/exmatta";function T1(){const[e,t]=y.useState({quadrants:{salaProve:{enabled:!0,title:"PRENOTA SALA PROVE",icon:"🎤"},salaCorsi:{enabled:!0,title:"IMPARAR SUONANDO",icon:"🎸"},news:{enabled:!0,title:"NEWS & COMUNICAZIONI",icon:"📰"},mattascuola:{enabled:!0,title:"MATTASCUOLA",icon:"📚"},sostienici:{enabled:!0,title:"SOSTIENICI",icon:"❤️"},tesseraArci:{enabled:!0,title:"TESSERA ARCI 2024-2025",icon:"🎫"}},dashboard:{title:"AriaPerta",subtitle:"Centro Culturale e Sociale",showSocialLinks:!0,showBugReport:!0,showAdminButton:!0}});return y.useEffect(()=>{const n=()=>{const a=localStorage.getItem("dashboardConfig");if(a)try{const o=JSON.parse(a);t(o)}catch(o){console.error("Error loading dashboard config:",o)}};n();const s=a=>{a.key==="dashboardConfig"&&n()};window.addEventListener("storage",s);const r=()=>{n()};return window.addEventListener("dashboardConfigChanged",r),()=>{window.removeEventListener("storage",s),window.removeEventListener("dashboardConfigChanged",r)}},[]),e}const Bi={hidden:{opacity:0,y:8},visible:{opacity:1,y:0,transition:{duration:.25}},exit:{opacity:0,y:-8,transition:{duration:.2}}};function E1({go:e,onPracticeRoomClick:t,onCourseFormClick:n,onBugReportClick:s,onShowRecaptchaBanner:r}){const a=y.useRef(null),o=y.useRef(null),l=y.useRef(null),c=y.useRef([]),u=T1(),[d,m]=y.useState(0),[h,v]=y.useState(!0),w=["/images/background-hero/EXMATTA_HOMEPAGE_1.jpg","/images/background-hero/EXMATTA_HOMEPAGE_4.jpg","/images/background-hero/EXMATTA_HOMEPAGE_5.jpg","/images/background-hero/EXMATTA_HOMEPAGE_2.jpg","/images/background-hero/EXMATTA_HOMEPAGE_8.jpg","/images/background-hero/EXMATTA_HOMEPAGE_3.jpg"];y.useEffect(()=>{if(!h)return;const f=setInterval(()=>{m(p=>(p+1)%w.length)},5e3);return()=>clearInterval(f)},[h,w.length]),y.useEffect(()=>{w.forEach(f=>{const p=new Image;p.src=f})},[]);const S=()=>v(!1),N=()=>v(!0);return y.useEffect(()=>{const f=p=>{switch(p.key){case"Tab":break;case"Enter":case" ":document.activeElement===a.current?(p.preventDefault(),e("party")):document.activeElement===o.current?(p.preventDefault(),t()):document.activeElement===l.current&&(p.preventDefault(),n());break}};return document.addEventListener("keydown",f),()=>document.removeEventListener("keydown",f)},[e,t,n]),i.jsxs(J.div,{className:"page",initial:"hidden",animate:"visible",exit:"exit",variants:Bi,children:[i.jsxs("div",{className:"exmatta-card hero-gallery",onMouseEnter:S,onMouseLeave:N,"aria-label":"Hero Section Gallery",children:[i.jsx("div",{className:"hero-arci-logo",children:i.jsx("img",{src:"/images/logos/arci-logo.png",alt:"ARCI Logo"})}),i.jsx("div",{className:"hero-text-overlay",children:i.jsx("img",{src:"/images/logos/hero-text.png",alt:"Hero Text"})}),i.jsx("div",{className:"hero-backgrounds",children:w.map((f,p)=>i.jsx("div",{className:`hero-bg ${p===d?"active":""}`,style:{backgroundImage:`url(${f})`}},p))})]}),i.jsxs("div",{className:"titleCard",role:"button",tabIndex:0,ref:a,onClick:()=>e("party"),onKeyDown:f=>f.key==="Enter"&&e("party"),"aria-label":"Vai alla pagina ARIAPERTAPARTY",style:{display:"none"},children:[i.jsx("span",{className:"card-icon",children:"🎉"}),"ARIAPERTAPARTY"]}),i.jsxs("div",{className:"grid",children:[u.quadrants.salaProve.enabled&&i.jsxs("div",{className:"card",role:"button",tabIndex:0,ref:o,onClick:t,onKeyDown:f=>f.key==="Enter"&&t(),"aria-label":"Prenota sala prove",children:[i.jsx("span",{className:"card-icon",children:u.quadrants.salaProve.icon}),u.quadrants.salaProve.title]}),u.quadrants.salaCorsi.enabled&&i.jsxs("div",{className:"card",role:"button",tabIndex:0,ref:l,onClick:n,onKeyDown:f=>f.key==="Enter"&&n(),"aria-label":"Vai ai corsi",children:[i.jsx("span",{className:"card-icon",children:u.quadrants.salaCorsi.icon}),u.quadrants.salaCorsi.title]})]}),u.quadrants.news.enabled&&i.jsx("div",{className:"news-section",children:i.jsxs("div",{className:"news-card",onClick:()=>e("news"),children:[i.jsx("div",{className:"news-icon",children:u.quadrants.news.icon}),i.jsx("h3",{children:u.quadrants.news.title}),i.jsx("p",{children:"Leggi tutte le ultime notizie e comunicazioni del mattatoio"}),i.jsx("div",{className:"news-footer",children:i.jsx("button",{className:"view-all-news-btn",onClick:f=>{f.stopPropagation(),e("news")},children:"📖 Leggi tutte le News"})})]})}),i.jsxs("div",{className:"grid-secondary",children:[u.quadrants.mattascuola.enabled&&i.jsxs("div",{className:"card-secondary",children:[i.jsx("span",{className:"card-icon",children:u.quadrants.mattascuola.icon}),i.jsxs("div",{className:"card-content",children:[i.jsx("h3",{children:u.quadrants.mattascuola.title}),i.jsxs("div",{className:"banner-info",children:[i.jsx("p",{children:"L'iscrizione al nuovo anno scolastico per il doposcuola popolare non è ancora aperta."}),i.jsx("p",{className:"banner-note",children:"Aspetta fiducioso!"})]})]})]}),u.quadrants.sostienici.enabled&&i.jsxs("div",{className:"card-secondary",children:[i.jsx("span",{className:"card-icon",children:u.quadrants.sostienici.icon}),i.jsxs("div",{className:"card-content",children:[i.jsx("h3",{children:u.quadrants.sostienici.title}),i.jsxs("div",{className:"banner-info",children:[i.jsx("p",{children:"Sostienici al 5x1000!"}),i.jsxs("p",{className:"banner-note",children:["Basta una semplice firma e il CF ",i.jsx("strong",{children:"91069940590"})," nella dichiarazione dei redditi."]})]})]})]}),u.quadrants.tesseraArci.enabled&&i.jsxs("div",{className:"card-secondary",children:[i.jsx("span",{className:"card-icon",children:u.quadrants.tesseraArci.icon}),i.jsxs("div",{className:"card-content",children:[i.jsx("h3",{children:u.quadrants.tesseraArci.title}),i.jsxs("div",{className:"banner-info",children:[i.jsx("p",{children:"Iscriviti alla tessera ARCI"}),i.jsx("a",{href:"https://portale.arci.it/preadesione/lafreccia/",target:"_blank",rel:"noopener noreferrer",className:"arci-link",style:{position:"relative",zIndex:10},children:"Clicca qui per l'iscrizione"})]})]})]})]}),u.dashboard.showSocialLinks&&i.jsxs("div",{className:"social","aria-label":"social links",children:[i.jsx("a",{href:b1,target:"_blank",rel:"noopener noreferrer",title:"Facebook",ref:f=>c.current[0]=f,tabIndex:0,children:"fb"}),i.jsx("a",{href:k1,target:"_blank",rel:"noopener noreferrer",title:"Instagram",ref:f=>c.current[1]=f,tabIndex:0,children:"ig"})]}),i.jsxs("div",{className:"bug-report-section",children:[u.dashboard.showBugReport&&i.jsxs("button",{className:"bug-report-btn",onClick:f=>{f.preventDefault(),f.stopPropagation(),s()},title:"Segnala un bug","aria-label":"Segnala un bug nella dashboard",type:"button",children:[i.jsx("span",{className:"bug-icon",children:"🐛"}),i.jsx("span",{className:"bug-text",children:"Segnala Bug"})]}),u.dashboard.showAdminButton&&i.jsxs("button",{className:"admin-btn",onClick:()=>e("admin"),title:"Accesso amministrativo",children:[i.jsx("span",{className:"admin-icon",children:"⚙️"}),i.jsx("span",{className:"admin-text",children:"Admin"})]}),i.jsxs("button",{className:"recaptcha-info-btn",onClick:r,title:"Cos'è reCaptcha? Clicca per saperne di più","aria-label":"Informazioni su reCaptcha",children:[i.jsx("span",{className:"recaptcha-icon",children:"🔒"}),i.jsx("span",{className:"recaptcha-text",children:"reCaptcha"})]})]})]})}function P1({goHome:e}){const[t,n]=y.useState({}),[s,r]=y.useState("countdown"),a=new Date("2025-09-12T19:00:00"),o=new Date("2025-09-15T00:00:00");y.useEffect(()=>{const b=setInterval(()=>{const j=new Date,C=a-j,T=o-j;if(C>0){r("countdown");const k=Math.floor(C/(1e3*60*60*24)),P=Math.floor(C%(1e3*60*60*24)/(1e3*60*60)),z=Math.floor(C%(1e3*60*60)/(1e3*60)),B=Math.floor(C%(1e3*60)/1e3);n({days:k,hours:P,minutes:z,seconds:B})}else T>0?(r("live"),n({})):(r("finished"),n({}))},1e3);return()=>clearInterval(b)},[]);const l=[{date:"12 Settembre 2025",artists:[{name:"CHICORIA",isMain:!0},{name:"Sace & Wiser",isMain:!1},{name:"Goblin",isMain:!1},{name:"Alani Gang",isMain:!1},{name:"Izzeta",isMain:!1},{name:"Pecetta",isMain:!1}],start:"19:00"},{date:"13 Settembre 2025",artists:[{name:"GENERIC ANIMAL",isMain:!0},{name:"Giuro",isMain:!1},{name:"Rick Thistle",isMain:!1},{name:"Danxgerous",isMain:!1},{name:"Luca Coi Baffi",isMain:!1},{name:"Goldoni",isMain:!1}],start:"19:00"},{date:"14 Settembre 2025",artists:[{name:"THE MENTOS",isMain:!0},{name:"Maronna",isMain:!1},{name:"AcquaChiara",isMain:!1},{name:"Overxposed",isMain:!1},{name:"Dusty Eyes",isMain:!1},{name:"Le Cose",isMain:!1}],start:"19:00"}],[c,u]=y.useState(0),[d,m]=y.useState(null),[h,v]=y.useState(null),w=50,S=b=>{v(null),m(b.targetTouches[0].clientX)},N=b=>{v(b.targetTouches[0].clientX)},f=()=>{if(!d||!h)return;const b=d-h,j=b>w,C=b<-w;j&&c<l.length-1?p(()=>u(T=>T+1)):C&&c>0&&p(()=>u(T=>T-1))},p=b=>{const j=document.querySelector("#ariaperta-party-overlay .partyCard");j?(j.classList.add("changing"),setTimeout(()=>{b(),setTimeout(()=>{j.classList.remove("changing")},100)},200)):b()},g=b=>b.stopPropagation(),x=()=>{switch(s){case"countdown":return i.jsxs("div",{className:"countdown-section",children:[i.jsx("h2",{className:"countdown-title",children:"ARIAPERTAPARTY 2025"}),i.jsxs("div",{className:"countdown-timer",children:[i.jsxs("div",{className:"countdown-item",children:[i.jsx("span",{className:"countdown-number",children:t.days||0}),i.jsx("span",{className:"countdown-label",children:"Giorni"})]}),i.jsxs("div",{className:"countdown-item",children:[i.jsx("span",{className:"countdown-number",children:t.hours||0}),i.jsx("span",{className:"countdown-label",children:"Ore"})]}),i.jsxs("div",{className:"countdown-item",children:[i.jsx("span",{className:"countdown-number",children:t.minutes||0}),i.jsx("span",{className:"countdown-label",children:"Minuti"})]}),i.jsxs("div",{className:"countdown-item",children:[i.jsx("span",{className:"countdown-number",children:t.seconds||0}),i.jsx("span",{className:"countdown-label",children:"Secondi"})]})]})]});case"live":return i.jsxs("div",{className:"countdown-section live-now",children:[i.jsx("h2",{className:"countdown-title",children:"ARIAPERTAPARTY 2025"}),i.jsxs("div",{className:"live-indicator",children:[i.jsx("span",{className:"live-dot"}),i.jsx("span",{className:"live-text",children:"LIVE NOW"})]}),i.jsx("p",{className:"live-message",children:"Il festival è in corso!"})]});case"finished":return i.jsxs("div",{className:"countdown-section event-finished",children:[i.jsx("h2",{className:"countdown-title",children:"ARIAPERTAPARTY 2025"}),i.jsxs("div",{className:"finished-indicator",children:[i.jsx("span",{className:"finished-icon",children:"🎉"}),i.jsx("span",{className:"finished-text",children:"EVENTO CONCLUSO"})]}),i.jsx("p",{className:"finished-message",children:"Grazie a tutti per aver partecipato! Vi aspettiamo l'anno prossimo!"}),i.jsxs("div",{className:"highlights",children:[i.jsx("h3",{children:"Highlights dell'Evento"}),i.jsxs("ul",{children:[i.jsx("li",{children:"3 giorni di musica incredibile"}),i.jsx("li",{children:"Ospiti speciali: CHICORIA, GENERIC ANIMAL, GIURO"}),i.jsx("li",{children:"Oltre 1000 partecipanti"}),i.jsx("li",{children:"Atmosfera indimenticabile"})]})]})]});default:return null}};return i.jsx(J.div,{id:"ariaperta-party-overlay",className:"overlay","data-view":"party",onClick:e,initial:"hidden",animate:"visible",exit:"exit",variants:Bi,children:i.jsxs("div",{className:"overlayInner",onClick:g,children:[x(),i.jsx("div",{className:"event-free-notice",children:i.jsx("span",{className:"free-text",children:"L'evento è completamente gratuito!"})}),i.jsxs("div",{className:"partyGrid",onTouchStart:S,onTouchMove:N,onTouchEnd:f,children:[i.jsxs("div",{className:"partyCard",children:[i.jsx("h3",{children:l[c].date}),i.jsxs("div",{children:[i.jsx("strong",{children:"Inizio:"})," ",l[c].start]}),i.jsx("div",{style:{marginTop:16},children:i.jsx("strong",{children:"Artisti"})}),i.jsx("ul",{className:"artists-list",children:l[c].artists.map((b,j)=>i.jsxs("li",{className:b.isMain?"main-artist":"regular-artist",children:[b.isMain&&i.jsx("span",{className:"main-badge",children:"MAIN"}),b.name]},j))})]}),i.jsx("div",{className:"swipeHint",children:i.jsx("em",{children:"scorri per altre giornate"})}),i.jsxs("div",{className:"mobile-card-indicator",children:[i.jsxs("span",{className:"indicator-text",children:[c+1," di ",l.length]}),i.jsx("div",{className:"indicator-dots",children:l.map((b,j)=>i.jsx("span",{className:`indicator-dot ${j===c?"active":""}`},j))})]})]}),i.jsxs("div",{className:"location",onClick:()=>window.open("https://maps.google.com/?q=Parco+Roberto+Fiorentini+Aprilia+LT","_blank"),children:[i.jsx("span",{className:"location-icon",children:"📍"}),"Parco Roberto Fiorentini, via Ugo La Malfa Aprilia (LT)"]}),i.jsxs("div",{className:"services-section",children:[i.jsx("h3",{className:"services-title",children:"Servizi & Attrazioni"}),i.jsxs("div",{className:"services-grid",children:[i.jsxs("div",{className:"service-card",children:[i.jsx("div",{className:"service-icon",children:"🍔"}),i.jsx("h4",{children:"Food Stand"}),i.jsx("p",{children:"Street food di qualità per tutti i gusti"})]}),i.jsxs("div",{className:"service-card",children:[i.jsx("div",{className:"service-icon",children:"🍹"}),i.jsx("h4",{children:"Drink Bar"}),i.jsx("p",{children:"Bevande fresche e cocktail artigianali"})]}),i.jsxs("div",{className:"service-card",children:[i.jsx("div",{className:"service-icon",children:"🛍️"}),i.jsx("h4",{children:"Mercatini"}),i.jsx("p",{children:"Arti e mestieri, vintage e creatività"})]})]})]}),i.jsx("div",{className:"backHint",children:"Clicca fuori dai riquadri per tornare alla home"})]})})}function A1({goHome:e}){const[t,n]=y.useState({nome:"",cognome:"",telefono:"",strumento:"",descrizione:""}),[s,r]=y.useState(!1),a=["Voce","Pianoforte","Chitarra","Basso","Batteria"],o=d=>{const{name:m,value:h}=d.target;n(v=>({...v,[m]:h}))},l=d=>{d.preventDefault(),t.nome&&t.cognome&&t.telefono&&t.strumento&&(r(!0),n({nome:"",cognome:"",telefono:"",strumento:"",descrizione:""}),setTimeout(()=>r(!1),8e3))},c=d=>{e()},u=d=>d.stopPropagation();return i.jsx(J.div,{className:"overlay",onClick:c,initial:"hidden",animate:"visible",exit:"exit",variants:Bi,children:i.jsxs("div",{className:"overlayInner",onClick:u,children:[i.jsxs("div",{className:"courses-form-container",children:[i.jsx("h2",{className:"courses-title",children:"Richiesta Informazioni sui Corsi"}),i.jsx("p",{className:"courses-subtitle",children:"Compila il form per ricevere informazioni sui nostri corsi musicali"}),i.jsxs("form",{onSubmit:l,className:"courses-form",children:[i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"nome",children:"Nome *"}),i.jsx("input",{type:"text",id:"nome",name:"nome",value:t.nome,onChange:o,required:!0,placeholder:"Il tuo nome"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"cognome",children:"Cognome *"}),i.jsx("input",{type:"text",id:"cognome",name:"cognome",value:t.cognome,onChange:o,required:!0,placeholder:"Il tuo cognome"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"telefono",children:"Numero di telefono *"}),i.jsx("input",{type:"tel",id:"telefono",name:"telefono",value:t.telefono,onChange:o,required:!0,placeholder:"Es. 333 123 4567",pattern:"[0-9 +()-]{6,}",title:"Inserisci un numero di telefono valido"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"strumento",children:"Strumento da Imparare *"}),i.jsxs("select",{id:"strumento",name:"strumento",value:t.strumento,onChange:o,required:!0,children:[i.jsx("option",{value:"",children:"Seleziona uno strumento"}),a.map((d,m)=>i.jsx("option",{value:d,children:d},m))]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"descrizione",children:"Descrizione (opzionale)"}),i.jsx("textarea",{id:"descrizione",name:"descrizione",value:t.descrizione,onChange:o,placeholder:"Raccontaci qualcosa di te e delle tue aspirazioni musicali...",rows:"4"})]}),i.jsx("button",{type:"submit",className:"submit-btn",children:"Richiedi Informazioni"})]}),s&&i.jsx(J.div,{className:"success-popup",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.4,ease:"easeOut"},children:i.jsxs("div",{className:"popup-content",children:[i.jsx("div",{className:"popup-icon",children:"✅"}),i.jsx("h3",{children:"Richiesta Inviata con Successo!"}),i.jsx("p",{children:"Grazie per la tua richiesta di informazioni sui corsi. Il nostro referente ti contatterà presto per fornirti tutti i dettagli e programmare un incontro conoscitivo."})]})})]}),i.jsx("div",{className:"backHint",children:"Clicca fuori dal riquadro per tornare alla home"})]})})}function D1({goHome:e,toast:t}){const[n,s]=y.useState(()=>{const A=new Date;return new Date(A.getFullYear(),A.getMonth(),A.getDate()+1)}),[r,a]=y.useState(null),[o,l]=y.useState(null),[c,u]=y.useState(!1),[d,m]=y.useState({nome:"",email:"",telefono:"",componenti:1,note:""}),[h,v]=y.useState(!1),[w,S]=y.useState(!1),N=new Date,f=N.getFullYear(),p=N.getMonth(),g=N.getDate();N.getHours();const x=[1,2,3,4],b=[];for(let A=9;A<=23;A++)b.push(`${A.toString().padStart(2,"0")}:00`),b.push(`${A.toString().padStart(2,"0")}:30`);const[j,C]=y.useState([]),[T,k]=y.useState([]),P=A=>{const V=new Date(A.getFullYear(),A.getMonth(),A.getDate()),Y=new Date(f,p,g);return V<=Y},z=A=>{const V=G(A);return T.some(Y=>{const K=new Date(Y.start_date),ae=new Date(Y.end_date),fe=new Date(V);return fe>=K&&fe<=ae})},B=A=>{const V=G(A),Y=j.filter(ae=>ae.date===V);return Y.length===0?!1:Y.reduce((ae,fe)=>ae+fe.duration,0)>=13},ie=A=>{const V=new Date(A.getFullYear(),A.getMonth(),A.getDate()),Y=new Date(f,p,g);return V.getTime()===Y.getTime()},me=()=>{const A=new Date(n.getFullYear(),n.getMonth()-1,1),V=new Date(f,p-1,1);return A>=V},ot=(A,V,Y)=>{const K=G(A),ae=parseInt(V.split(":")[0]),fe=parseInt(V.split(":")[1]),W=ae*60+fe,oe=W+Y*60;return j.some(Ee=>{if(Ee.date!==K)return!1;const Un=parseInt(Ee.time.split(":")[0]),Pe=parseInt(Ee.time.split(":")[1]),Hn=Un*60+Pe,vt=Hn+Ee.duration*60;return W<vt&&oe>Hn})},Le=(A,V)=>b.filter(Y=>{const K=parseInt(Y.split(":")[0]),ae=parseInt(Y.split(":")[1]);return!(K*60+ae+V*60>24*60||ot(A,Y,V))}),G=A=>{const V=A.getFullYear(),Y=String(A.getMonth()+1).padStart(2,"0"),K=String(A.getDate()).padStart(2,"0");return`${V}-${Y}-${K}`},R=(A,V)=>{const Y=G(A);return j.some(K=>{if(K.date!==Y)return!1;const ae=parseInt(K.time.split(":")[0])*60+parseInt(K.time.split(":")[1]),fe=ae+K.duration*60,W=parseInt(V.split(":")[0])*60+parseInt(V.split(":")[1]),oe=W+30;return ae<oe&&fe>W})},L=(A,V)=>{const Y=G(A),K=j.find(ae=>{if(ae.date!==Y)return!1;const fe=parseInt(ae.time.split(":")[0])*60+parseInt(ae.time.split(":")[1]),W=fe+ae.duration*60,oe=parseInt(V.split(":")[0])*60+parseInt(V.split(":")[1]),Ee=oe+30;return fe<Ee&&W>oe});return K?K.duration:0},I=async()=>{try{const A=await fetch("http://localhost:3001/api/bookings");if(A.ok){const Y=(await A.json()).filter(K=>["pending","approved"].includes(K.status)).map(K=>({date:K.date,time:K.start_time,duration:K.duration}));C(Y)}}catch(A){console.error("❌ Errore nel caricamento degli slot:",A)}},Z=async()=>{try{const V=await(await fetch("http://localhost:3001/api/bookings/availability-blocks")).json();k(V)}catch(A){console.error("❌ Errore nel caricamento dei blocchi di disponibilità:",A)}};y.useEffect(()=>{I(),Z()},[]);const ee=A=>{l(A),u(!0)},se=A=>{P(A)||(s(A),a(null))},Ce=A=>{I(),Z(),a(A),v(!0)},kt=async A=>{if(A.preventDefault(),d.nome&&d.email&&r&&o)try{const Y={date:(fe=>{const W=fe.getFullYear(),oe=String(fe.getMonth()+1).padStart(2,"0"),Ee=String(fe.getDate()).padStart(2,"0");return`${W}-${oe}-${Ee}`})(n),start_time:r,duration:o,band_name:d.nome,email:d.email,phone:d.telefono,members_count:d.componenti,notes:d.note||""},K=await fetch("http://localhost:3001/api/bookings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)});if(!K.ok){const fe=await K.json();throw new Error(fe.error||"Errore durante la prenotazione")}if((await K.json()).success)S(!0),m(initialBookingData),s(null),setSelectedTime(""),l(1),setTimeout(()=>{S(!1)},5e3);else throw new Error("Errore durante la prenotazione o dati non validi.");t.showSuccess("Prenotazione confermata! Ti abbiamo inviato una conferma. A presto in sala prove!"),v(!1),m({nome:"",email:"",telefono:"",componenti:1,note:""}),a(null),l(null),document.documentElement.classList.remove("overlay-open"),document.body.classList.remove("overlay-open"),await I(),await Z()}catch(V){console.error("❌ Errore durante la prenotazione:",V),t.showError(`Errore durante la prenotazione: ${V.message}`)}},be=A=>{const{name:V,value:Y}=A.target;m(K=>({...K,[V]:Y}))},Ue=A=>A.stopPropagation(),D=()=>{const A=n.getFullYear(),V=n.getMonth(),Y=new Date(A,V,1),K=new Date(A,V+1,0),ae=[];for(let W=0;W<Y.getDay();W++){const oe=new Date(A,V,-W);ae.unshift({date:oe,isCurrentMonth:!1,isDisabled:!0})}for(let W=1;W<=K.getDate();W++){const oe=new Date(A,V,W),Ee=P(oe),Un=ie(oe),Pe=B(oe),Hn=z(oe);ae.push({date:oe,isCurrentMonth:!0,isDisabled:Ee,isToday:Un,isUnavailable:Pe,isBlocked:Hn,hasBookings:j.some(vt=>{const $i=new Date(A,V,W),lt=G($i);return vt.date===lt})})}const fe=42-ae.length;for(let W=1;W<=fe;W++){const oe=new Date(A,V+1,W);ae.push({date:oe,isCurrentMonth:!1,isDisabled:!0})}return ae},F=A=>A.toLocaleDateString("it-IT",{weekday:"short",day:"numeric",month:"short"}),re=["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"];return y.useEffect(()=>(h?(document.documentElement.classList.add("overlay-open"),document.body.classList.add("overlay-open")):(document.documentElement.classList.remove("overlay-open"),document.body.classList.remove("overlay-open")),()=>{document.documentElement.classList.remove("overlay-open"),document.body.classList.remove("overlay-open")}),[h]),i.jsxs(J.div,{className:"overlay",onClick:e,initial:"hidden",animate:"visible",exit:"exit",variants:Bi,children:[i.jsx("div",{className:"overlayInner",onClick:Ue,children:i.jsxs("div",{className:"practice-room-container",children:[i.jsxs("div",{className:"duration-selection",children:[i.jsx("h3",{children:"Seleziona la durata della prenotazione"}),i.jsx("div",{className:"duration-options",children:x.map((A,V)=>i.jsxs("button",{className:`duration-option ${o===A?"selected":""}`,onClick:()=>ee(A),children:[A,"h"]},V))}),i.jsx("p",{className:"duration-note",children:"La prenotazione deve essere compresa tra 1 e 4 ore."}),!c&&i.jsx("div",{className:"backHint",children:"Clicca fuori dal riquadro per tornare alla home"})]}),c&&i.jsxs("div",{className:"booking-grid",children:[i.jsxs("div",{className:"booking-title-section",children:[i.jsx("h2",{className:"practice-room-title",children:"Prenotazione Sala Prove"}),i.jsx("p",{className:"practice-room-subtitle",children:"Seleziona una data e un orario disponibile"})]}),i.jsxs("div",{className:"booking-content",children:[i.jsxs("div",{className:"calendar-section",children:[i.jsxs("div",{className:"calendar-header",children:[i.jsx("button",{className:"calendar-nav-btn",onClick:()=>s(new Date(n.getFullYear(),n.getMonth()-1,1)),disabled:!me(),children:"←"}),i.jsxs("h3",{className:"calendar-month",children:[re[n.getMonth()]," ",n.getFullYear()]}),i.jsx("button",{className:"calendar-nav-btn",onClick:()=>s(new Date(n.getFullYear(),n.getMonth()+1,1)),children:"→"})]}),i.jsxs("div",{className:"calendar-grid",children:[i.jsxs("div",{className:"calendar-weekdays",children:[i.jsx("div",{children:"Dom"}),i.jsx("div",{children:"Lun"}),i.jsx("div",{children:"Mar"}),i.jsx("div",{children:"Mer"}),i.jsx("div",{children:"Gio"}),i.jsx("div",{children:"Ven"}),i.jsx("div",{children:"Sab"})]}),i.jsx("div",{className:"calendar-days",children:D().map((A,V)=>i.jsx("div",{className:`calendar-day ${A.isCurrentMonth?"":"other-month"} ${A.date.toDateString()===n.toDateString()?"selected":""} ${A.isDisabled?"disabled":""} ${A.isToday?"today":""} ${A.hasBookings?"has-bookings":""} ${A.isUnavailable?"unavailable":""} ${A.isBlocked?"blocked":""}`,onClick:()=>{!A.isDisabled&&!A.isOtherMonth&&!A.isUnavailable&&!A.isBlocked&&se(A.date)},style:{cursor:A.isDisabled||!A.isCurrentMonth||A.isUnavailable||A.isBlocked?"default":"pointer",opacity:A.isDisabled||A.isUnavailable||A.isBlocked?.5:1},title:A.isToday?"Non prenotabile per oggi":A.isUnavailable?"Giorno completamente prenotato":"",children:i.jsx("span",{className:"day-number",children:A.date.getDate()})},V))})]})]}),n&&i.jsxs("div",{className:"time-slots-section",children:[i.jsxs("h3",{className:"time-slots-title",children:["Orari disponibili per ",F(n)]}),i.jsx("div",{className:"time-slots-grid",children:Le(n,o).map(A=>{const V=R(n,A),Y=L(n,A),K=parseInt(A.split(":")[1])===30;return i.jsxs("div",{className:`time-slot ${V?"booked":K?"half-hour":"available"} ${r===A?"selected":""}`,onClick:()=>!V&&Ce(A),style:{cursor:V?"default":"pointer"},children:[i.jsx("span",{className:"slot-time",children:A}),V&&i.jsxs("span",{className:"slot-duration",children:[Y,"h"]})]},A)})})]})]})]})]})}),h&&i.jsx(J.div,{className:"booking-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:i.jsxs("div",{className:"booking-form-container",onClick:Ue,children:[i.jsxs("h3",{className:"booking-form-title",children:["Prenota ",r," - ",F(n)]}),i.jsxs("div",{className:"booking-duration-info",children:[i.jsxs("span",{className:"duration-badge",children:[o,"h"]}),i.jsx("span",{className:"duration-text",children:"Durata prenotazione"})]}),i.jsxs("form",{onSubmit:kt,className:"booking-form",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"booking-nome",children:"Nome e Cognome *"}),i.jsx("input",{type:"text",id:"booking-nome",name:"nome",value:d.nome,onChange:be,required:!0,placeholder:"Il tuo nome completo"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"booking-email",children:"Email *"}),i.jsx("input",{type:"email",id:"booking-email",name:"email",value:d.email,onChange:be,required:!0,placeholder:"La tua email"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"booking-telefono",children:"Numero di telefono"}),i.jsx("input",{type:"tel",id:"booking-telefono",name:"telefono",value:d.telefono,onChange:be,placeholder:"Il tuo numero di telefono (opzionale)"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"booking-componenti",children:"Numero di componenti della band *"}),i.jsx("select",{id:"booking-componenti",name:"componenti",value:d.componenti,onChange:be,required:!0,children:Array.from({length:10},(A,V)=>V+1).map(A=>i.jsxs("option",{value:A,children:[A," ",A===1?"componente":"componenti"]},A))})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"booking-note",children:"Note (opzionale)"}),i.jsx("textarea",{id:"booking-note",name:"note",value:d.note,onChange:be,placeholder:"Specifiche particolari o richieste...",rows:"3"})]}),i.jsxs("div",{className:"booking-form-actions",children:[i.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>{v(!1),a(null),m({nome:"",email:"",telefono:"",componenti:1,note:""}),document.documentElement.classList.remove("overlay-open"),document.body.classList.remove("overlay-open"),u(!0)},children:"Annulla"}),i.jsx("button",{type:"submit",className:"confirm-btn",children:"Conferma Prenotazione"})]})]})]})})]})}function z1({goHome:e}){const[t,n]=y.useState([]),[s,r]=y.useState(!0),[a,o]=y.useState(null);return y.useEffect(()=>{window.scrollTo(0,0)},[]),y.useEffect(()=>{(async()=>{try{r(!0);const c=await ds.getPublished();c&&Array.isArray(c)?n(c):c&&c.news?n(c.news):n([])}catch(c){console.error("Errore nel caricamento news:",c),o("Impossibile caricare le news. Riprova più tardi."),n([{id:1,titolo:"Benvenuti nella nuova dashboard AriaPerta!",sottotitolo:"La piattaforma digitale per i nostri soci",descrizione:`Abbiamo lanciato la nuova dashboard digitale per mantenere tutti i soci informati sulle attività del mattatoio e le iniziative culturali. Questa piattaforma ci permetterà di comunicare in tempo reale con tutti i membri della nostra comunità, mantenendoli aggiornati su eventi, iniziative e opportunità.

La dashboard è stata progettata per essere intuitiva e accessibile a tutti, con una sezione dedicata alle news dove potrete trovare comunicazioni importanti, aggiornamenti sui progetti in corso e anticipazioni sulle prossime iniziative.

Ringraziamo tutti coloro che hanno contribuito a questo progetto e invitiamo i soci a esplorare le nuove funzionalità disponibili.`,dataPubblicazione:"15 Gennaio 2025",stato:"Pubblicato",image_filename:"exmatta-logo.png",autore:"Redazione AriaPerta"},{id:2,titolo:"Nuove iniziative culturali in arrivo",sottotitolo:"Espandiamo la nostra offerta culturale",descrizione:`Stiamo lavorando a nuove iniziative culturali e sociali per arricchire l'offerta del nostro centro e coinvolgere sempre più la comunità. Presto annunceremo i dettagli di questi nuovi progetti che includeranno workshop, laboratori creativi e eventi di networking.

L'obiettivo è creare uno spazio dove i soci possano non solo partecipare alle attività esistenti, ma anche proporre nuove idee e collaborare alla crescita del centro. Stiamo raccogliendo feedback e suggerimenti per rendere queste iniziative il più inclusive e interessanti possibile.

Restate sintonizzati per gli annunci ufficiali e le date di inizio dei nuovi programmi.`,dataPubblicazione:"10 Gennaio 2025",stato:"Pubblicato",image_filename:"arci-logo.png",autore:"Redazione AriaPerta"},{id:3,titolo:"Riapertura della sala prove dopo i lavori di manutenzione",sottotitolo:"Miglioramenti e nuove attrezzature disponibili",descrizione:`Dopo settimane di lavori di manutenzione e miglioramento, la nostra sala prove è finalmente pronta per accogliere nuovamente i musicisti. I lavori hanno incluso la sostituzione dell'impianto audio, la revisione dell'acustica e l'aggiunta di nuove attrezzature professionali.

Ora la sala è dotata di un sistema di monitoraggio di alta qualità, microfoni professionali e un mixer digitale che permette registrazioni di qualità studio. L'acustica è stata ottimizzata per garantire il miglior suono possibile durante le prove e le registrazioni.

Le prenotazioni sono già aperte e invitiamo tutti i soci a venire a testare le nuove attrezzature. La sala è disponibile per sessioni di prova, registrazioni demo e workshop musicali.`,dataPubblicazione:"8 Gennaio 2025",stato:"Pubblicato",image_filename:"exmatta-logo.png",autore:"Staff Tecnico"}])}finally{r(!1)}})()},[]),i.jsx(J.div,{className:"overlay",onClick:e,initial:"hidden",animate:"visible",exit:"exit",variants:Bi,children:i.jsx("div",{className:"overlayInner",onClick:stop,children:i.jsxs("div",{className:"news-page-container",children:[i.jsxs("div",{className:"news-page-header",children:[i.jsx("h1",{children:"📰 NEWS & COMUNICAZIONI"}),i.jsx("p",{children:"Leggi tutte le ultime notizie e comunicazioni del mattatoio"})]}),i.jsxs("div",{className:"news-articles",children:[s&&i.jsxs("div",{className:"loading-container",children:[i.jsx("div",{className:"loading-spinner"}),i.jsx("p",{children:"Caricamento news..."})]}),a&&i.jsxs("div",{className:"error-message",children:[i.jsxs("p",{children:["⚠️ ",a]}),i.jsx("button",{onClick:()=>window.location.reload(),children:"Riprova"})]}),!s&&!a&&t.length===0&&i.jsxs("div",{className:"no-news",children:[i.jsx("p",{children:"📰 Nessuna news disponibile al momento."}),i.jsx("p",{children:"Ritorna più tardi per le ultime novità!"})]}),!s&&!a&&t.map(l=>i.jsxs("article",{className:"news-article",children:[i.jsxs("div",{className:"article-header",children:[i.jsxs("div",{className:"article-meta",children:[i.jsx("span",{className:"article-date",children:l.dataPubblicazione}),i.jsxs("span",{className:"article-author",children:["di ",l.autore]})]}),i.jsx("h2",{className:"article-title",children:l.titolo}),l.sottotitolo&&i.jsx("h3",{className:"article-subtitle",children:l.sottotitolo})]}),l.image_filename&&i.jsx("div",{className:"article-image",children:i.jsx("img",{src:`/images/news/${l.image_filename}`,alt:l.titolo,style:{width:"100%",height:"auto",maxHeight:"400px",objectFit:"cover",borderRadius:"12px",marginBottom:"20px"}})}),i.jsx("div",{className:"article-content",children:l.descrizione.split(`

`).map((c,u)=>i.jsx("p",{className:"article-paragraph",children:c},u))})]},l.id))]}),i.jsx("div",{className:"news-page-footer",children:i.jsx("button",{className:"back-to-dashboard-btn",onClick:e,children:"🏠 Torna alla Dashboard"})})]})})})}function M1(){const[e,t]=y.useState("home"),[n,s]=y.useState(!1),[r,a]=y.useState(!1),[o,l]=y.useState(null),c=Eg(),[u,d]=y.useState(!1),[m,h]=y.useState(!1),v=()=>d(g=>!g),w=()=>d(!1),S=g=>{t(g)},N=()=>{t("home")},f=()=>{S("practiceRoom")},p=()=>{};return y.useEffect(()=>{document.title="Exmatta Dashboard"},[]),y.useEffect(()=>{const g=()=>{const x=window.innerWidth<=900,b=document.querySelectorAll("#ariaperta-party-overlay .partyCard");console.log("🔄 handleCardBackground chiamato:"),console.log("📱 isMobile:",x),console.log("📏 window.innerWidth:",window.innerWidth),console.log("🎴 partyCards trovate:",b.length),b.forEach((j,C)=>{x?(j.style.setProperty("background","rgba(255, 255, 255, 0.1)","important"),console.log(`📱 Card ${C+1}: Impostata trasparente`)):(j.style.setProperty("background","linear-gradient(135deg, var(--pink) 0%, var(--pink-light) 100%)","important"),console.log(`💻 Card ${C+1}: Impostata rosa solido`))})};return g(),window.addEventListener("resize",g),()=>{window.removeEventListener("resize",g)}},[e]),y.useEffect(()=>{if(e==="party"){let g=null,x=null;const b=()=>{const T=window.innerWidth<=900,k=document.querySelectorAll("#ariaperta-party-overlay .partyCard");console.log("🎉 Ariapertaparty - applyCardStyles chiamato:"),console.log("📱 isMobile:",T),console.log("📏 window.innerWidth:",window.innerWidth),console.log("🎴 partyCards trovate:",k.length),k.length>0&&(k.forEach((P,z)=>{T?(P.style.setProperty("background","rgba(255, 255, 255, 0.1)","important"),console.log(`📱 Card ${z+1}: Impostata trasparente`)):(P.style.setProperty("background","linear-gradient(135deg, var(--pink) 0%, var(--pink-light) 100%)","important"),console.log(`💻 Card ${z+1}: Impostata rosa solido`))}),g&&(clearInterval(g),g=null))};let j=0;g=setInterval(()=>{j++,console.log(`🔄 Tentativo ${j} di trovare le card...`),b(),j>=5&&(clearInterval(g),g=null)},100);const C=document.getElementById("ariaperta-party-overlay");return C&&(x=new MutationObserver(T=>{T.forEach(k=>{k.type==="childList"&&setTimeout(b,50)})}),x.observe(C,{childList:!0,subtree:!0})),()=>{g&&clearInterval(g),x&&x.disconnect()}}},[e]),e==="admin"?i.jsx(j1,{}):i.jsxs(Pg,{children:[i.jsx("button",{className:`mobile-menu-toggle ${u?"active":""}`,onClick:v,"aria-label":"Apri menu mobile","aria-expanded":u,children:i.jsx("div",{className:"hamburger-icon",children:i.jsx("span",{})})}),u&&i.jsx("button",{className:"admin-icon-mobile",onClick:()=>S("admin"),"aria-label":"Accedi alla dashboard admin",children:i.jsx("span",{className:"admin-icon",children:"👑"})}),i.jsx("div",{className:`mobile-menu-overlay ${u?"active":""}`,children:i.jsxs("div",{className:"mobile-menu-content",children:[i.jsx("h2",{className:"mobile-menu-title",children:"Menu Principale"}),i.jsxs("div",{className:"mobile-menu-items",children:[e!=="home"&&i.jsxs("button",{className:"mobile-menu-item",onClick:()=>{console.log("CLICK: Pulsante HOME cliccato"),S("home"),w()},onMouseDown:()=>console.log("MOUSEDOWN: Pulsante HOME"),onTouchStart:()=>console.log("TOUCHSTART: Pulsante HOME"),children:[i.jsx("span",{className:"item-icon",children:"🏠"}),"HOME"]}),i.jsxs("button",{className:"mobile-menu-item",onClick:()=>{console.log("CLICK: Pulsante ARIAPERTAPARTY cliccato"),S("party"),w()},onMouseDown:()=>console.log("MOUSEDOWN: Pulsante ARIAPERTAPARTY"),onTouchStart:()=>console.log("TOUCHSTART: Pulsante ARIAPERTAPARTY"),children:[i.jsx("span",{className:"item-icon",children:"🎉"}),"ARIAPERTAPARTY"]}),i.jsxs("button",{className:"mobile-menu-item",onClick:()=>{console.log("CLICK: Pulsante PRENOTA SALA PROVE cliccato"),S("practiceRoom"),w()},onMouseDown:()=>console.log("MOUSEDOWN: Pulsante PRENOTA SALA PROVE"),onTouchStart:()=>console.log("TOUCHSTART: Pulsante PRENOTA SALA PROVE"),children:[i.jsx("span",{className:"item-icon",children:"🎤"}),"PRENOTA SALA PROVE"]}),i.jsxs("button",{className:"mobile-menu-item",onClick:()=>{console.log("CLICK: Pulsante IMPARAR SUONANDO cliccato"),S("teachers"),w()},onMouseDown:()=>console.log("MOUSEDOWN: Pulsante IMPARAR SUONANDO"),onTouchStart:()=>console.log("TOUCHSTART: Pulsante IMPARAR SUONANDO"),children:[i.jsx("span",{className:"item-icon",children:"🎸"}),"IMPARAR SUONANDO"]}),i.jsxs("button",{className:"mobile-menu-item",onClick:()=>{console.log("CLICK: Pulsante NEWS cliccato"),S("news"),w()},onMouseDown:()=>console.log("MOUSEDOWN: Pulsante NEWS"),onTouchStart:()=>console.log("TOUCHSTART: Pulsante NEWS"),children:[i.jsx("span",{className:"item-icon",children:"📰"}),"NEWS & COMUNICAZIONI"]}),i.jsxs("button",{className:"mobile-menu-item",onClick:()=>{console.log("CLICK: Pulsante SEGNALA BUG cliccato"),a(!0),w()},onMouseDown:()=>console.log("MOUSEDOWN: Pulsante SEGNALA BUG"),onTouchStart:()=>console.log("TOUCHSTART: Pulsante SEGNALA BUG"),children:[i.jsx("span",{className:"item-icon",children:"🐛"}),"SEGNALA BUG"]})]})]})}),i.jsxs(Qf,{mode:"wait",children:[e==="home"&&i.jsx(E1,{go:S,onPracticeRoomClick:f,onCourseFormClick:()=>S("teachers"),onBugReportClick:()=>a(!0),onShowRecaptchaBanner:()=>h(!0)},"home"),e==="party"&&i.jsx(P1,{goHome:N},"party"),e==="courses"&&i.jsx(A1,{goHome:N},"courses"),e==="practiceRoom"&&i.jsx(D1,{goHome:N,toast:c},"practiceRoom"),e==="news"&&i.jsx(z1,{goHome:N},"news"),e==="teachers"&&i.jsx(C1,{goHome:N,onShowCourseForm:g=>{l(g),s(!0)}},"teachers")]}),n&&i.jsx(N1,{onClose:()=>s(!1),onSuccess:p,toast:c,selectedTeacher:o}),i.jsx(S1,{isOpen:r,onClose:()=>a(!1)}),i.jsx(Tg,{toasts:c.toasts,removeToast:c.removeToast}),m&&i.jsx("div",{className:"recaptcha-banner-overlay",children:i.jsxs("div",{className:"recaptcha-banner",children:[i.jsx("button",{className:"recaptcha-banner-close",onClick:()=>h(!1),"aria-label":"Chiudi banner reCaptcha",children:"✕"}),i.jsx("div",{className:"recaptcha-banner-icon",children:"🔒"}),i.jsx("h3",{className:"recaptcha-banner-title",children:"Cos'è reCaptcha?"}),i.jsx("p",{className:"recaptcha-banner-description",children:"reCaptcha è un servizio di Google che protegge questo sito da bot e spam, garantendo che solo gli utenti umani possano interagire con le funzionalità."}),i.jsxs("div",{className:"recaptcha-banner-actions",children:[i.jsx("button",{className:"recaptcha-banner-btn recaptcha-banner-btn-secondary",onClick:()=>h(!1),children:"Chiudi"}),i.jsx("button",{className:"recaptcha-banner-btn recaptcha-banner-btn-primary",onClick:()=>{window.open("https://www.google.com/recaptcha/about/","_blank"),h(!1)},children:"Visita Google reCaptcha"})]})]})})]})}yo.createRoot(document.getElementById("root")).render(i.jsx(an.StrictMode,{children:i.jsx(M1,{})}));
